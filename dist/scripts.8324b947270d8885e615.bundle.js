webpackJsonp([4,7],{"06rZ":function(e,n,t){t("P+fo")(t("vYNv"))},"3GIF":function(e,n){e.exports='/*! Select2 4.0.3 | https://github.com/select2/select2/blob/master/LICENSE.md */!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){var b=function(){if(a&&a.fn&&a.fn.select2&&a.fn.select2.amd)var b=a.fn.select2.amd;var b;return function(){if(!b||!b.requirejs){b?c=b:b={};var a,c,d;!function(b){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=s.map,p=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(a=a.split("/"),g=a.length-1,s.nodeIdCompat&&w.test(a[g])&&(a[g]=a[g].replace(w,"")),a=n.slice(0,n.length-1).concat(a),k=0;k<a.length;k+=1)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||p)&&o){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;l>0;l-=1)if(e=o[n.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&p&&p[d]&&(i=p[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(a,c){return function(){var d=v.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),n.apply(b,d.concat([a,c]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){q[a]=b}}function j(a){if(e(r,a)){var c=r[a];delete r[a],t[a]=!0,m.apply(b,c)}if(!e(q,a)&&!e(t,a))throw new Error("No "+a);return q[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return function(){return s&&s.config&&s.config[a]||{}}}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice,w=/\\.js$/;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(e=f(e,b),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(b)):f(a,b):(a=f(a,b),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return"undefined"!=typeof b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:l(a)}}},m=function(a,c,d,f){var h,k,l,m,n,s,u=[],v=typeof d;if(f=f||a,"undefined"===v||"function"===v){for(c=!c.length&&d.length?["require","exports","module"]:c,n=0;n<c.length;n+=1)if(m=o(c[n],f),k=m.f,"require"===k)u[n]=p.require(a);else if("exports"===k)u[n]=p.exports(a),s=!0;else if("module"===k)h=u[n]=p.module(a);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(a+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=d?d.apply(q[a],u):void 0,a&&(h&&h.exports!==b&&h.exports!==q[a]?q[a]=h.exports:l===b&&s||(q[a]=l))}else a&&(q[a]=d)},a=c=n=function(a,c,d,e,f){if("string"==typeof a)return p[a]?p[a](c):j(o(a,c).f);if(!a.splice){if(s=a,s.deps&&n(s.deps,s.callback),!c)return;c.splice?(a=c,c=d,d=null):a=b}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?m(b,a,c,d):setTimeout(function(){m(b,a,c,d)},4),n},n.config=function(a){return n(a)},a._defined=q,d=function(a,b,c){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])},d.amd={jQuery:!0}}(),b.requirejs=a,b.require=c,b.define=d}}(),b.define("almond",function(){}),b.define("jquery",[],function(){var b=a||$;return null==b&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),b}),b.define("select2/utils",["jquery"],function(a){function b(a){var b=a.prototype,c=[];for(var d in b){var e=b[d];"function"==typeof e&&"constructor"!==d&&c.push(d)}return c}var c={};c.Extend=function(a,b){function c(){this.constructor=a}var d={}.hasOwnProperty;for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},c.Decorate=function(a,c){function d(){var b=Array.prototype.unshift,d=c.prototype.constructor.length,e=a.prototype.constructor;d>0&&(b.call(arguments,a.prototype.constructor),e=c.prototype.constructor),e.apply(this,arguments)}function e(){this.constructor=d}var f=b(c),g=b(a);c.displayName=a.displayName,d.prototype=new e;for(var h=0;h<g.length;h++){var i=g[h];d.prototype[i]=a.prototype[i]}for(var j=(function(a){var b=function(){};a in d.prototype&&(b=d.prototype[a]);var e=c.prototype[a];return function(){var a=Array.prototype.unshift;return a.call(arguments,b),e.apply(this,arguments)}}),k=0;k<f.length;k++){var l=f[k];d.prototype[l]=j(l)}return d};var d=function(){this.listeners={}};return d.prototype.on=function(a,b){this.listeners=this.listeners||{},a in this.listeners?this.listeners[a].push(b):this.listeners[a]=[b]},d.prototype.trigger=function(a){var b=Array.prototype.slice,c=b.call(arguments,1);this.listeners=this.listeners||{},null==c&&(c=[]),0===c.length&&c.push({}),c[0]._type=a,a in this.listeners&&this.invoke(this.listeners[a],b.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},d.prototype.invoke=function(a,b){for(var c=0,d=a.length;d>c;c++)a[c].apply(this,b)},c.Observable=d,c.generateChars=function(a){for(var b="",c=0;a>c;c++){var d=Math.floor(36*Math.random());b+=d.toString(36)}return b},c.bind=function(a,b){return function(){a.apply(b,arguments)}},c._convertData=function(a){for(var b in a){var c=b.split("-"),d=a;if(1!==c.length){for(var e=0;e<c.length;e++){var f=c[e];f=f.substring(0,1).toLowerCase()+f.substring(1),f in d||(d[f]={}),e==c.length-1&&(d[f]=a[b]),d=d[f]}delete a[b]}}return a},c.hasScroll=function(b,c){var d=a(c),e=c.style.overflowX,f=c.style.overflowY;return e!==f||"hidden"!==f&&"visible"!==f?"scroll"===e||"scroll"===f?!0:d.innerHeight()<c.scrollHeight||d.innerWidth()<c.scrollWidth:!1},c.escapeMarkup=function(a){var b={"\\\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",\'"\':"&quot;","\'":"&#39;","/":"&#47;"};return"string"!=typeof a?a:String(a).replace(/[&<>"\'\\/\\\\]/g,function(a){return b[a]})},c.appendMany=function(b,c){if("1.7"===a.fn.jquery.substr(0,3)){var d=a();a.map(c,function(a){d=d.add(a)}),c=d}b.append(c)},c}),b.define("select2/results",["jquery","./utils"],function(a,b){function c(a,b,d){this.$element=a,this.data=d,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a(\'<ul class="select2-results__options" role="tree"></ul>\');return this.options.get("multiple")&&b.attr("aria-multiselectable","true"),this.$results=b,b},c.prototype.clear=function(){this.$results.empty()},c.prototype.displayMessage=function(b){var c=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var d=a(\'<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>\'),e=this.options.get("translations").get(b.message);d.append(c(e(b.args))),d[0].className+=" select2-results__message",this.$results.append(d)},c.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},c.prototype.append=function(a){this.hideLoading();var b=[];if(null==a.results||0===a.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));a.results=this.sort(a.results);for(var c=0;c<a.results.length;c++){var d=a.results[c],e=this.option(d);b.push(e)}this.$results.append(b)},c.prototype.position=function(a,b){var c=b.find(".select2-results");c.append(a)},c.prototype.sort=function(a){var b=this.options.get("sorter");return b(a)},c.prototype.highlightFirstItem=function(){var a=this.$results.find(".select2-results__option[aria-selected]"),b=a.filter("[aria-selected=true]");b.length>0?b.first().trigger("mouseenter"):a.first().trigger("mouseenter"),this.ensureHighlightVisible()},c.prototype.setClasses=function(){var b=this;this.data.current(function(c){var d=a.map(c,function(a){return a.id.toString()}),e=b.$results.find(".select2-results__option[aria-selected]");e.each(function(){var b=a(this),c=a.data(this,"data"),e=""+c.id;null!=c.element&&c.element.selected||null==c.element&&a.inArray(e,d)>-1?b.attr("aria-selected","true"):b.attr("aria-selected","false")})})},c.prototype.showLoading=function(a){this.hideLoading();var b=this.options.get("translations").get("searching"),c={disabled:!0,loading:!0,text:b(a)},d=this.option(c);d.className+=" loading-results",this.$results.prepend(d)},c.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},c.prototype.option=function(b){var c=document.createElement("li");c.className="select2-results__option";var d={role:"treeitem","aria-selected":"false"};b.disabled&&(delete d["aria-selected"],d["aria-disabled"]="true"),null==b.id&&delete d["aria-selected"],null!=b._resultId&&(c.id=b._resultId),b.title&&(c.title=b.title),b.children&&(d.role="group",d["aria-label"]=b.text,delete d["aria-selected"]);for(var e in d){var f=d[e];c.setAttribute(e,f)}if(b.children){var g=a(c),h=document.createElement("strong");h.className="select2-results__group";a(h);this.template(b,h);for(var i=[],j=0;j<b.children.length;j++){var k=b.children[j],l=this.option(k);i.push(l)}var m=a("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});m.append(i),g.append(h),g.append(m)}else this.template(b,c);return a.data(c,"data",b),c},c.prototype.bind=function(b,c){var d=this,e=b.id+"-results";this.$results.attr("id",e),b.on("results:all",function(a){d.clear(),d.append(a.data),b.isOpen()&&(d.setClasses(),d.highlightFirstItem())}),b.on("results:append",function(a){d.append(a.data),b.isOpen()&&d.setClasses()}),b.on("query",function(a){d.hideMessages(),d.showLoading(a)}),b.on("select",function(){b.isOpen()&&(d.setClasses(),d.highlightFirstItem())}),b.on("unselect",function(){b.isOpen()&&(d.setClasses(),d.highlightFirstItem())}),b.on("open",function(){d.$results.attr("aria-expanded","true"),d.$results.attr("aria-hidden","false"),d.setClasses(),d.ensureHighlightVisible()}),b.on("close",function(){d.$results.attr("aria-expanded","false"),d.$results.attr("aria-hidden","true"),d.$results.removeAttr("aria-activedescendant")}),b.on("results:toggle",function(){var a=d.getHighlightedResults();0!==a.length&&a.trigger("mouseup")}),b.on("results:select",function(){var a=d.getHighlightedResults();if(0!==a.length){var b=a.data("data");"true"==a.attr("aria-selected")?d.trigger("close",{}):d.trigger("select",{data:b})}}),b.on("results:previous",function(){var a=d.getHighlightedResults(),b=d.$results.find("[aria-selected]"),c=b.index(a);if(0!==c){var e=c-1;0===a.length&&(e=0);var f=b.eq(e);f.trigger("mouseenter");var g=d.$results.offset().top,h=f.offset().top,i=d.$results.scrollTop()+(h-g);0===e?d.$results.scrollTop(0):0>h-g&&d.$results.scrollTop(i)}}),b.on("results:next",function(){var a=d.getHighlightedResults(),b=d.$results.find("[aria-selected]"),c=b.index(a),e=c+1;if(!(e>=b.length)){var f=b.eq(e);f.trigger("mouseenter");var g=d.$results.offset().top+d.$results.outerHeight(!1),h=f.offset().top+f.outerHeight(!1),i=d.$results.scrollTop()+h-g;0===e?d.$results.scrollTop(0):h>g&&d.$results.scrollTop(i)}}),b.on("results:focus",function(a){a.element.addClass("select2-results__option--highlighted")}),b.on("results:message",function(a){d.displayMessage(a)}),a.fn.mousewheel&&this.$results.on("mousewheel",function(a){var b=d.$results.scrollTop(),c=d.$results.get(0).scrollHeight-b+a.deltaY,e=a.deltaY>0&&b-a.deltaY<=0,f=a.deltaY<0&&c<=d.$results.height();e?(d.$results.scrollTop(0),a.preventDefault(),a.stopPropagation()):f&&(d.$results.scrollTop(d.$results.get(0).scrollHeight-d.$results.height()),a.preventDefault(),a.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(b){var c=a(this),e=c.data("data");return"true"===c.attr("aria-selected")?void(d.options.get("multiple")?d.trigger("unselect",{originalEvent:b,data:e}):d.trigger("close",{})):void d.trigger("select",{originalEvent:b,data:e})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(b){var c=a(this).data("data");d.getHighlightedResults().removeClass("select2-results__option--highlighted"),d.trigger("results:focus",{data:c,element:a(this)})})},c.prototype.getHighlightedResults=function(){var a=this.$results.find(".select2-results__option--highlighted");return a},c.prototype.destroy=function(){this.$results.remove()},c.prototype.ensureHighlightVisible=function(){var a=this.getHighlightedResults();if(0!==a.length){var b=this.$results.find("[aria-selected]"),c=b.index(a),d=this.$results.offset().top,e=a.offset().top,f=this.$results.scrollTop()+(e-d),g=e-d;f-=2*a.outerHeight(!1),2>=c?this.$results.scrollTop(0):(g>this.$results.outerHeight()||0>g)&&this.$results.scrollTop(f)}},c.prototype.template=function(b,c){var d=this.options.get("templateResult"),e=this.options.get("escapeMarkup"),f=d(b,c);null==f?c.style.display="none":"string"==typeof f?c.innerHTML=e(f):a(c).append(f)},c}),b.define("select2/keys",[],function(){var a={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return a}),b.define("select2/selection/base",["jquery","../utils","../keys"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,b.Observable),d.prototype.render=function(){var b=a(\'<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>\');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),b.attr("title",this.$element.attr("title")),b.attr("tabindex",this._tabindex),this.$selection=b,b},d.prototype.bind=function(a,b){var d=this,e=(a.id+"-container",a.id+"-results");this.container=a,this.$selection.on("focus",function(a){d.trigger("focus",a)}),this.$selection.on("blur",function(a){d._handleBlur(a)}),this.$selection.on("keydown",function(a){d.trigger("keypress",a),a.which===c.SPACE&&a.preventDefault()}),a.on("results:focus",function(a){d.$selection.attr("aria-activedescendant",a.data._resultId)}),a.on("selection:update",function(a){d.update(a.data)}),a.on("open",function(){d.$selection.attr("aria-expanded","true"),d.$selection.attr("aria-owns",e),d._attachCloseHandler(a)}),a.on("close",function(){d.$selection.attr("aria-expanded","false"),d.$selection.removeAttr("aria-activedescendant"),d.$selection.removeAttr("aria-owns"),d.$selection.focus(),d._detachCloseHandler(a)}),a.on("enable",function(){d.$selection.attr("tabindex",d._tabindex)}),a.on("disable",function(){d.$selection.attr("tabindex","-1")})},d.prototype._handleBlur=function(b){var c=this;window.setTimeout(function(){document.activeElement==c.$selection[0]||a.contains(c.$selection[0],document.activeElement)||c.trigger("blur",b)},1)},d.prototype._attachCloseHandler=function(b){a(document.body).on("mousedown.select2."+b.id,function(b){var c=a(b.target),d=c.closest(".select2"),e=a(".select2.select2-container--open");e.each(function(){var b=a(this);if(this!=d[0]){var c=b.data("element");c.select2("close")}})})},d.prototype._detachCloseHandler=function(b){a(document.body).off("mousedown.select2."+b.id)},d.prototype.position=function(a,b){var c=b.find(".selection");c.append(a)},d.prototype.destroy=function(){this._detachCloseHandler(this.container)},d.prototype.update=function(a){throw new Error("The `update` method must be defined in child classes.")},d}),b.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(a,b,c,d){function e(){e.__super__.constructor.apply(this,arguments)}return c.Extend(e,b),e.prototype.render=function(){var a=e.__super__.render.call(this);return a.addClass("select2-selection--single"),a.html(\'<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>\'),a},e.prototype.bind=function(a,b){var c=this;e.__super__.bind.apply(this,arguments);var d=a.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",d),this.$selection.attr("aria-labelledby",d),this.$selection.on("mousedown",function(a){1===a.which&&c.trigger("toggle",{originalEvent:a})}),this.$selection.on("focus",function(a){}),this.$selection.on("blur",function(a){}),a.on("focus",function(b){a.isOpen()||c.$selection.focus()}),a.on("selection:update",function(a){c.update(a.data)})},e.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},e.prototype.display=function(a,b){var c=this.options.get("templateSelection"),d=this.options.get("escapeMarkup");return d(c(a,b))},e.prototype.selectionContainer=function(){return a("<span></span>")},e.prototype.update=function(a){if(0===a.length)return void this.clear();var b=a[0],c=this.$selection.find(".select2-selection__rendered"),d=this.display(b,c);c.empty().append(d),c.prop("title",b.title||b.text)},e}),b.define("select2/selection/multiple",["jquery","./base","../utils"],function(a,b,c){function d(a,b){d.__super__.constructor.apply(this,arguments)}return c.Extend(d,b),d.prototype.render=function(){var a=d.__super__.render.call(this);return a.addClass("select2-selection--multiple"),a.html(\'<ul class="select2-selection__rendered"></ul>\'),a},d.prototype.bind=function(b,c){var e=this;d.__super__.bind.apply(this,arguments),this.$selection.on("click",function(a){e.trigger("toggle",{originalEvent:a})}),this.$selection.on("click",".select2-selection__choice__remove",function(b){if(!e.options.get("disabled")){var c=a(this),d=c.parent(),f=d.data("data");e.trigger("unselect",{originalEvent:b,data:f})}})},d.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},d.prototype.display=function(a,b){var c=this.options.get("templateSelection"),d=this.options.get("escapeMarkup");return d(c(a,b))},d.prototype.selectionContainer=function(){var b=a(\'<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>\');return b},d.prototype.update=function(a){if(this.clear(),0!==a.length){for(var b=[],d=0;d<a.length;d++){var e=a[d],f=this.selectionContainer(),g=this.display(e,f);f.append(g),f.prop("title",e.title||e.text),f.data("data",e),b.push(f)}var h=this.$selection.find(".select2-selection__rendered");c.appendMany(h,b)}},d}),b.define("select2/selection/placeholder",["../utils"],function(a){function b(a,b,c){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c)}return b.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},b.prototype.createPlaceholder=function(a,b){var c=this.selectionContainer();return c.html(this.display(b)),c.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),c},b.prototype.update=function(a,b){var c=1==b.length&&b[0].id!=this.placeholder.id,d=b.length>1;if(d||c)return a.call(this,b);this.clear();var e=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(e)},b}),b.define("select2/selection/allowClear",["jquery","../keys"],function(a,b){function c(){}return c.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(a){d._handleClear(a)}),b.on("keypress",function(a){d._handleKeyboardClear(a,b)})},c.prototype._handleClear=function(a,b){if(!this.options.get("disabled")){var c=this.$selection.find(".select2-selection__clear");if(0!==c.length){b.stopPropagation();for(var d=c.data("data"),e=0;e<d.length;e++){var f={data:d[e]};if(this.trigger("unselect",f),f.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},c.prototype._handleKeyboardClear=function(a,c,d){d.isOpen()||(c.which==b.DELETE||c.which==b.BACKSPACE)&&this._handleClear(c)},c.prototype.update=function(b,c){if(b.call(this,c),!(this.$selection.find(".select2-selection__placeholder").length>0||0===c.length)){var d=a(\'<span class="select2-selection__clear">&times;</span>\');d.data("data",c),this.$selection.find(".select2-selection__rendered").prepend(d)}},c}),b.define("select2/selection/search",["jquery","../utils","../keys"],function(a,b,c){function d(a,b,c){a.call(this,b,c)}return d.prototype.render=function(b){var c=a(\'<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>\');this.$searchContainer=c,this.$search=c.find("input");var d=b.call(this);return this._transferTabIndex(),d},d.prototype.bind=function(a,b,d){var e=this;a.call(this,b,d),b.on("open",function(){e.$search.trigger("focus")}),b.on("close",function(){e.$search.val(""),e.$search.removeAttr("aria-activedescendant"),e.$search.trigger("focus")}),b.on("enable",function(){e.$search.prop("disabled",!1),e._transferTabIndex()}),b.on("disable",function(){e.$search.prop("disabled",!0)}),b.on("focus",function(a){e.$search.trigger("focus")}),b.on("results:focus",function(a){e.$search.attr("aria-activedescendant",a.id)}),this.$selection.on("focusin",".select2-search--inline",function(a){e.trigger("focus",a)}),this.$selection.on("focusout",".select2-search--inline",function(a){e._handleBlur(a)}),this.$selection.on("keydown",".select2-search--inline",function(a){a.stopPropagation(),e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented();var b=a.which;if(b===c.BACKSPACE&&""===e.$search.val()){var d=e.$searchContainer.prev(".select2-selection__choice");if(d.length>0){var f=d.data("data");e.searchRemoveChoice(f),a.preventDefault()}}});var f=document.documentMode,g=f&&11>=f;this.$selection.on("input.searchcheck",".select2-search--inline",function(a){return g?void e.$selection.off("input.search input.searchcheck"):void e.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(a){if(g&&"input"===a.type)return void e.$selection.off("input.search input.searchcheck");var b=a.which;b!=c.SHIFT&&b!=c.CTRL&&b!=c.ALT&&b!=c.TAB&&e.handleSearch(a)})},d.prototype._transferTabIndex=function(a){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},d.prototype.createPlaceholder=function(a,b){this.$search.attr("placeholder",b.text)},d.prototype.update=function(a,b){var c=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),a.call(this,b),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),c&&this.$search.focus()},d.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var a=this.$search.val();this.trigger("query",{term:a})}this._keyUpPrevented=!1},d.prototype.searchRemoveChoice=function(a,b){this.trigger("unselect",{data:b}),this.$search.val(b.text),this.handleSearch()},d.prototype.resizeSearch=function(){this.$search.css("width","25px");var a="";if(""!==this.$search.attr("placeholder"))a=this.$selection.find(".select2-selection__rendered").innerWidth();else{var b=this.$search.val().length+1;a=.75*b+"em"}this.$search.css("width",a)},d}),b.define("select2/selection/eventRelay",["jquery"],function(a){function b(){}return b.prototype.bind=function(b,c,d){var e=this,f=["open","opening","close","closing","select","selecting","unselect","unselecting"],g=["opening","closing","selecting","unselecting"];b.call(this,c,d),c.on("*",function(b,c){if(-1!==a.inArray(b,f)){c=c||{};var d=a.Event("select2:"+b,{params:c});e.$element.trigger(d),-1!==a.inArray(b,g)&&(c.prevented=d.isDefaultPrevented())}})},b}),b.define("select2/translation",["jquery","require"],function(a,b){function c(a){this.dict=a||{}}return c.prototype.all=function(){return this.dict},c.prototype.get=function(a){return this.dict[a]},c.prototype.extend=function(b){this.dict=a.extend({},b.all(),this.dict)},c._cache={},c.loadPath=function(a){if(!(a in c._cache)){var d=b(a);c._cache[a]=d}return new c(c._cache[a])},c}),b.define("select2/diacritics",[],function(){var a={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};return a}),b.define("select2/data/base",["../utils"],function(a){function b(a,c){b.__super__.constructor.call(this)}return a.Extend(b,a.Observable),b.prototype.current=function(a){throw new Error("The `current` method must be defined in child classes.")},b.prototype.query=function(a,b){throw new Error("The `query` method must be defined in child classes.")},b.prototype.bind=function(a,b){},b.prototype.destroy=function(){},b.prototype.generateResultId=function(b,c){var d=b.id+"-result-";return d+=a.generateChars(4),d+=null!=c.id?"-"+c.id.toString():"-"+a.generateChars(4)},b}),b.define("select2/data/select",["./base","../utils","jquery"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,a),d.prototype.current=function(a){var b=[],d=this;this.$element.find(":selected").each(function(){var a=c(this),e=d.item(a);b.push(e)}),a(b)},d.prototype.select=function(a){var b=this;if(a.selected=!0,c(a.element).is("option"))return a.element.selected=!0,void this.$element.trigger("change");\nif(this.$element.prop("multiple"))this.current(function(d){var e=[];a=[a],a.push.apply(a,d);for(var f=0;f<a.length;f++){var g=a[f].id;-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")});else{var d=a.id;this.$element.val(d),this.$element.trigger("change")}},d.prototype.unselect=function(a){var b=this;if(this.$element.prop("multiple"))return a.selected=!1,c(a.element).is("option")?(a.element.selected=!1,void this.$element.trigger("change")):void this.current(function(d){for(var e=[],f=0;f<d.length;f++){var g=d[f].id;g!==a.id&&-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")})},d.prototype.bind=function(a,b){var c=this;this.container=a,a.on("select",function(a){c.select(a.data)}),a.on("unselect",function(a){c.unselect(a.data)})},d.prototype.destroy=function(){this.$element.find("*").each(function(){c.removeData(this,"data")})},d.prototype.query=function(a,b){var d=[],e=this,f=this.$element.children();f.each(function(){var b=c(this);if(b.is("option")||b.is("optgroup")){var f=e.item(b),g=e.matches(a,f);null!==g&&d.push(g)}}),b({results:d})},d.prototype.addOptions=function(a){b.appendMany(this.$element,a)},d.prototype.option=function(a){var b;a.children?(b=document.createElement("optgroup"),b.label=a.text):(b=document.createElement("option"),void 0!==b.textContent?b.textContent=a.text:b.innerText=a.text),a.id&&(b.value=a.id),a.disabled&&(b.disabled=!0),a.selected&&(b.selected=!0),a.title&&(b.title=a.title);var d=c(b),e=this._normalizeItem(a);return e.element=b,c.data(b,"data",e),d},d.prototype.item=function(a){var b={};if(b=c.data(a[0],"data"),null!=b)return b;if(a.is("option"))b={id:a.val(),text:a.text(),disabled:a.prop("disabled"),selected:a.prop("selected"),title:a.prop("title")};else if(a.is("optgroup")){b={text:a.prop("label"),children:[],title:a.prop("title")};for(var d=a.children("option"),e=[],f=0;f<d.length;f++){var g=c(d[f]),h=this.item(g);e.push(h)}b.children=e}return b=this._normalizeItem(b),b.element=a[0],c.data(a[0],"data",b),b},d.prototype._normalizeItem=function(a){c.isPlainObject(a)||(a={id:a,text:a}),a=c.extend({},{text:""},a);var b={selected:!1,disabled:!1};return null!=a.id&&(a.id=a.id.toString()),null!=a.text&&(a.text=a.text.toString()),null==a._resultId&&a.id&&null!=this.container&&(a._resultId=this.generateResultId(this.container,a)),c.extend({},b,a)},d.prototype.matches=function(a,b){var c=this.options.get("matcher");return c(a,b)},d}),b.define("select2/data/array",["./select","../utils","jquery"],function(a,b,c){function d(a,b){var c=b.get("data")||[];d.__super__.constructor.call(this,a,b),this.addOptions(this.convertToOptions(c))}return b.Extend(d,a),d.prototype.select=function(a){var b=this.$element.find("option").filter(function(b,c){return c.value==a.id.toString()});0===b.length&&(b=this.option(a),this.addOptions(b)),d.__super__.select.call(this,a)},d.prototype.convertToOptions=function(a){function d(a){return function(){return c(this).val()==a.id}}for(var e=this,f=this.$element.find("option"),g=f.map(function(){return e.item(c(this)).id}).get(),h=[],i=0;i<a.length;i++){var j=this._normalizeItem(a[i]);if(c.inArray(j.id,g)>=0){var k=f.filter(d(j)),l=this.item(k),m=c.extend(!0,{},j,l),n=this.option(m);k.replaceWith(n)}else{var o=this.option(j);if(j.children){var p=this.convertToOptions(j.children);b.appendMany(o,p)}h.push(o)}}return h},d}),b.define("select2/data/ajax",["./array","../utils","jquery"],function(a,b,c){function d(a,b){this.ajaxOptions=this._applyDefaults(b.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),d.__super__.constructor.call(this,a,b)}return b.Extend(d,a),d.prototype._applyDefaults=function(a){var b={data:function(a){return c.extend({},a,{q:a.term})},transport:function(a,b,d){var e=c.ajax(a);return e.then(b),e.fail(d),e}};return c.extend({},b,a,!0)},d.prototype.processResults=function(a){return a},d.prototype.query=function(a,b){function d(){var d=f.transport(f,function(d){var f=e.processResults(d,a);e.options.get("debug")&&window.console&&console.error&&(f&&f.results&&c.isArray(f.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),b(f)},function(){d.status&&"0"===d.status||e.trigger("results:message",{message:"errorLoading"})});e._request=d}var e=this;null!=this._request&&(c.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var f=c.extend({type:"GET"},this.ajaxOptions);"function"==typeof f.url&&(f.url=f.url.call(this.$element,a)),"function"==typeof f.data&&(f.data=f.data.call(this.$element,a)),this.ajaxOptions.delay&&null!=a.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(d,this.ajaxOptions.delay)):d()},d}),b.define("select2/data/tags",["jquery"],function(a){function b(b,c,d){var e=d.get("tags"),f=d.get("createTag");void 0!==f&&(this.createTag=f);var g=d.get("insertTag");if(void 0!==g&&(this.insertTag=g),b.call(this,c,d),a.isArray(e))for(var h=0;h<e.length;h++){var i=e[h],j=this._normalizeItem(i),k=this.option(j);this.$element.append(k)}}return b.prototype.query=function(a,b,c){function d(a,f){for(var g=a.results,h=0;h<g.length;h++){var i=g[h],j=null!=i.children&&!d({results:i.children},!0),k=i.text===b.term;if(k||j)return f?!1:(a.data=g,void c(a))}if(f)return!0;var l=e.createTag(b);if(null!=l){var m=e.option(l);m.attr("data-select2-tag",!0),e.addOptions([m]),e.insertTag(g,l)}a.results=g,c(a)}var e=this;return this._removeOldTags(),null==b.term||null!=b.page?void a.call(this,b,c):void a.call(this,b,d)},b.prototype.createTag=function(b,c){var d=a.trim(c.term);return""===d?null:{id:d,text:d}},b.prototype.insertTag=function(a,b,c){b.unshift(c)},b.prototype._removeOldTags=function(b){var c=(this._lastTag,this.$element.find("option[data-select2-tag]"));c.each(function(){this.selected||a(this).remove()})},b}),b.define("select2/data/tokenizer",["jquery"],function(a){function b(a,b,c){var d=c.get("tokenizer");void 0!==d&&(this.tokenizer=d),a.call(this,b,c)}return b.prototype.bind=function(a,b,c){a.call(this,b,c),this.$search=b.dropdown.$search||b.selection.$search||c.find(".select2-search__field")},b.prototype.query=function(b,c,d){function e(b){var c=g._normalizeItem(b),d=g.$element.find("option").filter(function(){return a(this).val()===c.id});if(!d.length){var e=g.option(c);e.attr("data-select2-tag",!0),g._removeOldTags(),g.addOptions([e])}f(c)}function f(a){g.trigger("select",{data:a})}var g=this;c.term=c.term||"";var h=this.tokenizer(c,this.options,e);h.term!==c.term&&(this.$search.length&&(this.$search.val(h.term),this.$search.focus()),c.term=h.term),b.call(this,c,d)},b.prototype.tokenizer=function(b,c,d,e){for(var f=d.get("tokenSeparators")||[],g=c.term,h=0,i=this.createTag||function(a){return{id:a.term,text:a.term}};h<g.length;){var j=g[h];if(-1!==a.inArray(j,f)){var k=g.substr(0,h),l=a.extend({},c,{term:k}),m=i(l);null!=m?(e(m),g=g.substr(h+1)||"",h=0):h++}else h++}return{term:g}},b}),b.define("select2/data/minimumInputLength",[],function(){function a(a,b,c){this.minimumInputLength=c.get("minimumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){return b.term=b.term||"",b.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:b.term,params:b}}):void a.call(this,b,c)},a}),b.define("select2/data/maximumInputLength",[],function(){function a(a,b,c){this.maximumInputLength=c.get("maximumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){return b.term=b.term||"",this.maximumInputLength>0&&b.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:b.term,params:b}}):void a.call(this,b,c)},a}),b.define("select2/data/maximumSelectionLength",[],function(){function a(a,b,c){this.maximumSelectionLength=c.get("maximumSelectionLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){var d=this;this.current(function(e){var f=null!=e?e.length:0;return d.maximumSelectionLength>0&&f>=d.maximumSelectionLength?void d.trigger("results:message",{message:"maximumSelected",args:{maximum:d.maximumSelectionLength}}):void a.call(d,b,c)})},a}),b.define("select2/dropdown",["jquery","./utils"],function(a,b){function c(a,b){this.$element=a,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a(\'<span class="select2-dropdown"><span class="select2-results"></span></span>\');return b.attr("dir",this.options.get("dir")),this.$dropdown=b,b},c.prototype.bind=function(){},c.prototype.position=function(a,b){},c.prototype.destroy=function(){this.$dropdown.remove()},c}),b.define("select2/dropdown/search",["jquery","../utils"],function(a,b){function c(){}return c.prototype.render=function(b){var c=b.call(this),d=a(\'<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>\');return this.$searchContainer=d,this.$search=d.find("input"),c.prepend(d),c},c.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),this.$search.on("keydown",function(a){e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented()}),this.$search.on("input",function(b){a(this).off("keyup")}),this.$search.on("keyup input",function(a){e.handleSearch(a)}),c.on("open",function(){e.$search.attr("tabindex",0),e.$search.focus(),window.setTimeout(function(){e.$search.focus()},0)}),c.on("close",function(){e.$search.attr("tabindex",-1),e.$search.val("")}),c.on("focus",function(){c.isOpen()&&e.$search.focus()}),c.on("results:all",function(a){if(null==a.query.term||""===a.query.term){var b=e.showSearch(a);b?e.$searchContainer.removeClass("select2-search--hide"):e.$searchContainer.addClass("select2-search--hide")}})},c.prototype.handleSearch=function(a){if(!this._keyUpPrevented){var b=this.$search.val();this.trigger("query",{term:b})}this._keyUpPrevented=!1},c.prototype.showSearch=function(a,b){return!0},c}),b.define("select2/dropdown/hidePlaceholder",[],function(){function a(a,b,c,d){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c,d)}return a.prototype.append=function(a,b){b.results=this.removePlaceholder(b.results),a.call(this,b)},a.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},a.prototype.removePlaceholder=function(a,b){for(var c=b.slice(0),d=b.length-1;d>=0;d--){var e=b[d];this.placeholder.id===e.id&&c.splice(d,1)}return c},a}),b.define("select2/dropdown/infiniteScroll",["jquery"],function(a){function b(a,b,c,d){this.lastParams={},a.call(this,b,c,d),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return b.prototype.append=function(a,b){this.$loadingMore.remove(),this.loading=!1,a.call(this,b),this.showLoadingMore(b)&&this.$results.append(this.$loadingMore)},b.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),c.on("query",function(a){e.lastParams=a,e.loading=!0}),c.on("query:append",function(a){e.lastParams=a,e.loading=!0}),this.$results.on("scroll",function(){var b=a.contains(document.documentElement,e.$loadingMore[0]);if(!e.loading&&b){var c=e.$results.offset().top+e.$results.outerHeight(!1),d=e.$loadingMore.offset().top+e.$loadingMore.outerHeight(!1);c+50>=d&&e.loadMore()}})},b.prototype.loadMore=function(){this.loading=!0;var b=a.extend({},{page:1},this.lastParams);b.page++,this.trigger("query:append",b)},b.prototype.showLoadingMore=function(a,b){return b.pagination&&b.pagination.more},b.prototype.createLoadingMore=function(){var b=a(\'<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>\'),c=this.options.get("translations").get("loadingMore");return b.html(c(this.lastParams)),b},b}),b.define("select2/dropdown/attachBody",["jquery","../utils"],function(a,b){function c(b,c,d){this.$dropdownParent=d.get("dropdownParent")||a(document.body),b.call(this,c,d)}return c.prototype.bind=function(a,b,c){var d=this,e=!1;a.call(this,b,c),b.on("open",function(){d._showDropdown(),d._attachPositioningHandler(b),e||(e=!0,b.on("results:all",function(){d._positionDropdown(),d._resizeDropdown()}),b.on("results:append",function(){d._positionDropdown(),d._resizeDropdown()}))}),b.on("close",function(){d._hideDropdown(),d._detachPositioningHandler(b)}),this.$dropdownContainer.on("mousedown",function(a){a.stopPropagation()})},c.prototype.destroy=function(a){a.call(this),this.$dropdownContainer.remove()},c.prototype.position=function(a,b,c){b.attr("class",c.attr("class")),b.removeClass("select2"),b.addClass("select2-container--open"),b.css({position:"absolute",top:-999999}),this.$container=c},c.prototype.render=function(b){var c=a("<span></span>"),d=b.call(this);return c.append(d),this.$dropdownContainer=c,c},c.prototype._hideDropdown=function(a){this.$dropdownContainer.detach()},c.prototype._attachPositioningHandler=function(c,d){var e=this,f="scroll.select2."+d.id,g="resize.select2."+d.id,h="orientationchange.select2."+d.id,i=this.$container.parents().filter(b.hasScroll);i.each(function(){a(this).data("select2-scroll-position",{x:a(this).scrollLeft(),y:a(this).scrollTop()})}),i.on(f,function(b){var c=a(this).data("select2-scroll-position");a(this).scrollTop(c.y)}),a(window).on(f+" "+g+" "+h,function(a){e._positionDropdown(),e._resizeDropdown()})},c.prototype._detachPositioningHandler=function(c,d){var e="scroll.select2."+d.id,f="resize.select2."+d.id,g="orientationchange.select2."+d.id,h=this.$container.parents().filter(b.hasScroll);h.off(e),a(window).off(e+" "+f+" "+g)},c.prototype._positionDropdown=function(){var b=a(window),c=this.$dropdown.hasClass("select2-dropdown--above"),d=this.$dropdown.hasClass("select2-dropdown--below"),e=null,f=this.$container.offset();f.bottom=f.top+this.$container.outerHeight(!1);var g={height:this.$container.outerHeight(!1)};g.top=f.top,g.bottom=f.top+g.height;var h={height:this.$dropdown.outerHeight(!1)},i={top:b.scrollTop(),bottom:b.scrollTop()+b.height()},j=i.top<f.top-h.height,k=i.bottom>f.bottom+h.height,l={left:f.left,top:g.bottom},m=this.$dropdownParent;"static"===m.css("position")&&(m=m.offsetParent());var n=m.offset();l.top-=n.top,l.left-=n.left,c||d||(e="below"),k||!j||c?!j&&k&&c&&(e="below"):e="above",("above"==e||c&&"below"!==e)&&(l.top=g.top-n.top-h.height),null!=e&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+e),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+e)),this.$dropdownContainer.css(l)},c.prototype._resizeDropdown=function(){var a={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(a.minWidth=a.width,a.position="relative",a.width="auto"),this.$dropdown.css(a)},c.prototype._showDropdown=function(a){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},c}),b.define("select2/dropdown/minimumResultsForSearch",[],function(){function a(b){for(var c=0,d=0;d<b.length;d++){var e=b[d];e.children?c+=a(e.children):c++}return c}function b(a,b,c,d){this.minimumResultsForSearch=c.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),a.call(this,b,c,d)}return b.prototype.showSearch=function(b,c){return a(c.data.results)<this.minimumResultsForSearch?!1:b.call(this,c)},b}),b.define("select2/dropdown/selectOnClose",[],function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("close",function(a){d._handleSelectOnClose(a)})},a.prototype._handleSelectOnClose=function(a,b){if(b&&null!=b.originalSelect2Event){var c=b.originalSelect2Event;if("select"===c._type||"unselect"===c._type)return}var d=this.getHighlightedResults();if(!(d.length<1)){var e=d.data("data");null!=e.element&&e.element.selected||null==e.element&&e.selected||this.trigger("select",{data:e})}},a}),b.define("select2/dropdown/closeOnSelect",[],function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("select",function(a){d._selectTriggered(a)}),b.on("unselect",function(a){d._selectTriggered(a)})},a.prototype._selectTriggered=function(a,b){var c=b.originalEvent;c&&c.ctrlKey||this.trigger("close",{originalEvent:c,originalSelect2Event:b})},a}),b.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(a){var b=a.input.length-a.maximum,c="Please delete "+b+" character";return 1!=b&&(c+="s"),c},inputTooShort:function(a){var b=a.minimum-a.input.length,c="Please enter "+b+" or more characters";return c},loadingMore:function(){return"Loading more results…"},maximumSelected:function(a){var b="You can only select "+a.maximum+" item";return 1!=a.maximum&&(b+="s"),b},noResults:function(){return"No hay resultados"},searching:function(){return"Searching…"}}}),b.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){function D(){this.reset()}D.prototype.apply=function(l){if(l=a.extend(!0,{},this.defaults,l),null==l.dataAdapter){if(null!=l.ajax?l.dataAdapter=o:null!=l.data?l.dataAdapter=n:l.dataAdapter=m,l.minimumInputLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,r)),l.maximumInputLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,s)),l.maximumSelectionLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,t)),l.tags&&(l.dataAdapter=j.Decorate(l.dataAdapter,p)),(null!=l.tokenSeparators||null!=l.tokenizer)&&(l.dataAdapter=j.Decorate(l.dataAdapter,q)),null!=l.query){var C=b(l.amdBase+"compat/query");l.dataAdapter=j.Decorate(l.dataAdapter,C)}if(null!=l.initSelection){var D=b(l.amdBase+"compat/initSelection");l.dataAdapter=j.Decorate(l.dataAdapter,D)}}if(null==l.resultsAdapter&&(l.resultsAdapter=c,null!=l.ajax&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,x)),null!=l.placeholder&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,w)),l.selectOnClose&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,A))),null==l.dropdownAdapter){if(l.multiple)l.dropdownAdapter=u;else{var E=j.Decorate(u,v);l.dropdownAdapter=E}if(0!==l.minimumResultsForSearch&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,z)),l.closeOnSelect&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,B)),null!=l.dropdownCssClass||null!=l.dropdownCss||null!=l.adaptDropdownCssClass){var F=b(l.amdBase+"compat/dropdownCss");l.dropdownAdapter=j.Decorate(l.dropdownAdapter,F)}l.dropdownAdapter=j.Decorate(l.dropdownAdapter,y)}if(null==l.selectionAdapter){if(l.multiple?l.selectionAdapter=e:l.selectionAdapter=d,null!=l.placeholder&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,f)),l.allowClear&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,g)),l.multiple&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,h)),null!=l.containerCssClass||null!=l.containerCss||null!=l.adaptContainerCssClass){var G=b(l.amdBase+"compat/containerCss");l.selectionAdapter=j.Decorate(l.selectionAdapter,G)}l.selectionAdapter=j.Decorate(l.selectionAdapter,i)}if("string"==typeof l.language)if(l.language.indexOf("-")>0){var H=l.language.split("-"),I=H[0];l.language=[l.language,I]}else l.language=[l.language];if(a.isArray(l.language)){var J=new k;l.language.push("en");for(var K=l.language,L=0;L<K.length;L++){var M=K[L],N={};try{N=k.loadPath(M)}catch(O){try{M=this.defaults.amdLanguageBase+M,N=k.loadPath(M)}catch(P){l.debug&&window.console&&console.warn&&console.warn(\'Select2: The language file for "\'+M+\'" could not be automatically loaded. A fallback will be used instead.\');continue}}J.extend(N)}l.translations=J}else{var Q=k.loadPath(this.defaults.amdLanguageBase+"en"),R=new k(l.language);R.extend(Q),l.translations=R}return l},D.prototype.reset=function(){function b(a){function b(a){return l[a]||a}return a.replace(/[^\\u0000-\\u007E]/g,b)}function c(d,e){if(""===a.trim(d.term))return e;if(e.children&&e.children.length>0){for(var f=a.extend(!0,{},e),g=e.children.length-1;g>=0;g--){var h=e.children[g],i=c(d,h);null==i&&f.children.splice(g,1)}return f.children.length>0?f:c(d,f)}var j=b(e.text).toUpperCase(),k=b(d.term).toUpperCase();return j.indexOf(k)>-1?e:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:j.escapeMarkup,language:C,matcher:c,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(a){return a},templateResult:function(a){return a.text},templateSelection:function(a){return a.text},theme:"default",width:"resolve"}},D.prototype.set=function(b,c){var d=a.camelCase(b),e={};e[d]=c;var f=j._convertData(e);a.extend(this.defaults,f)};var E=new D;return E}),b.define("select2/options",["require","jquery","./defaults","./utils"],function(a,b,c,d){function e(b,e){if(this.options=b,null!=e&&this.fromElement(e),this.options=c.apply(this.options),e&&e.is("input")){var f=a(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=d.Decorate(this.options.dataAdapter,f)}}return e.prototype.fromElement=function(a){var c=["select2"];null==this.options.multiple&&(this.options.multiple=a.prop("multiple")),null==this.options.disabled&&(this.options.disabled=a.prop("disabled")),null==this.options.language&&(a.prop("lang")?this.options.language=a.prop("lang").toLowerCase():a.closest("[lang]").prop("lang")&&(this.options.language=a.closest("[lang]").prop("lang"))),null==this.options.dir&&(a.prop("dir")?this.options.dir=a.prop("dir"):a.closest("[dir]").prop("dir")?this.options.dir=a.closest("[dir]").prop("dir"):this.options.dir="ltr"),a.prop("disabled",this.options.disabled),a.prop("multiple",this.options.multiple),a.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn(\'Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.\'),a.data("data",a.data("select2Tags")),a.data("tags",!0)),a.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),a.attr("ajax--url",a.data("ajaxUrl")),a.data("ajax--url",a.data("ajaxUrl")));var e={};e=b.fn.jquery&&"1."==b.fn.jquery.substr(0,2)&&a[0].dataset?b.extend(!0,{},a[0].dataset,a.data()):a.data();var f=b.extend(!0,{},e);f=d._convertData(f);for(var g in f)b.inArray(g,c)>-1||(b.isPlainObject(this.options[g])?b.extend(this.options[g],f[g]):this.options[g]=f[g]);return this},e.prototype.get=function(a){return this.options[a]},e.prototype.set=function(a,b){this.options[a]=b},e}),b.define("select2/core",["jquery","./options","./utils","./keys"],function(a,b,c,d){var e=function(a,c){null!=a.data("select2")&&a.data("select2").destroy(),this.$element=a,this.id=this._generateId(a),c=c||{},this.options=new b(c,a),e.__super__.constructor.call(this);var d=a.attr("tabindex")||0;a.data("old-tabindex",d),a.attr("tabindex","-1");var f=this.options.get("dataAdapter");this.dataAdapter=new f(a,this.options);var g=this.render();this._placeContainer(g);var h=this.options.get("selectionAdapter");this.selection=new h(a,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,g);var i=this.options.get("dropdownAdapter");this.dropdown=new i(a,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,g);var j=this.options.get("resultsAdapter");this.results=new j(a,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var k=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(a){k.trigger("selection:update",{data:a})}),a.addClass("select2-hidden-accessible"),a.attr("aria-hidden","true"),this._syncAttributes(),a.data("select2",this)};return c.Extend(e,c.Observable),e.prototype._generateId=function(a){var b="";return b=null!=a.attr("id")?a.attr("id"):null!=a.attr("name")?a.attr("name")+"-"+c.generateChars(2):c.generateChars(4),b=b.replace(/(:|\\.|\\[|\\]|,)/g,""),b="select2-"+b},e.prototype._placeContainer=function(a){a.insertAfter(this.$element);var b=this._resolveWidth(this.$element,this.options.get("width"));null!=b&&a.css("width",b)},e.prototype._resolveWidth=function(a,b){var c=/^width:(([-+]?([0-9]*\\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==b){var d=this._resolveWidth(a,"style");return null!=d?d:this._resolveWidth(a,"element")}if("element"==b){var e=a.outerWidth(!1);return 0>=e?"auto":e+"px"}if("style"==b){var f=a.attr("style");if("string"!=typeof f)return null;for(var g=f.split(";"),h=0,i=g.length;i>h;h+=1){var j=g[h].replace(/\\s/g,""),k=j.match(c);if(null!==k&&k.length>=1)return k[1]}return null}return b},e.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},e.prototype._registerDomEvents=function(){var b=this;this.$element.on("change.select2",function(){b.dataAdapter.current(function(a){b.trigger("selection:update",{data:a})})}),this.$element.on("focus.select2",function(a){b.trigger("focus",a)}),this._syncA=c.bind(this._syncAttributes,this),this._syncS=c.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=d?(this._observer=new d(function(c){a.each(c,b._syncA),a.each(c,b._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",b._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",b._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",b._syncS,!1))},e.prototype._registerDataEvents=function(){var a=this;this.dataAdapter.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerSelectionEvents=function(){var b=this,c=["toggle","focus"];this.selection.on("toggle",function(){b.toggleDropdown()}),this.selection.on("focus",function(a){b.focus(a)}),this.selection.on("*",function(d,e){-1===a.inArray(d,c)&&b.trigger(d,e)})},e.prototype._registerDropdownEvents=function(){var a=this;this.dropdown.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerResultsEvents=function(){var a=this;this.results.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerEvents=function(){var a=this;this.on("open",function(){a.$container.addClass("select2-container--open")}),this.on("close",function(){a.$container.removeClass("select2-container--open")}),this.on("enable",function(){a.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){a.$container.addClass("select2-container--disabled")}),this.on("blur",function(){a.$container.removeClass("select2-container--focus")}),this.on("query",function(b){a.isOpen()||a.trigger("open",{}),this.dataAdapter.query(b,function(c){a.trigger("results:all",{data:c,query:b})})}),this.on("query:append",function(b){this.dataAdapter.query(b,function(c){a.trigger("results:append",{data:c,query:b})})}),this.on("keypress",function(b){var c=b.which;a.isOpen()?c===d.ESC||c===d.TAB||c===d.UP&&b.altKey?(a.close(),b.preventDefault()):c===d.ENTER?(a.trigger("results:select",{}),b.preventDefault()):c===d.SPACE&&b.ctrlKey?(a.trigger("results:toggle",{}),b.preventDefault()):c===d.UP?(a.trigger("results:previous",{}),b.preventDefault()):c===d.DOWN&&(a.trigger("results:next",{}),b.preventDefault()):(c===d.ENTER||c===d.SPACE||c===d.DOWN&&b.altKey)&&(a.open(),b.preventDefault())})},e.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},e.prototype._syncSubtree=function(a,b){var c=!1,d=this;if(!a||!a.target||"OPTION"===a.target.nodeName||"OPTGROUP"===a.target.nodeName){if(b)if(b.addedNodes&&b.addedNodes.length>0)for(var e=0;e<b.addedNodes.length;e++){var f=b.addedNodes[e];f.selected&&(c=!0)}else b.removedNodes&&b.removedNodes.length>0&&(c=!0);else c=!0;c&&this.dataAdapter.current(function(a){d.trigger("selection:update",{data:a})})}},e.prototype.trigger=function(a,b){var c=e.__super__.trigger,d={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===b&&(b={}),a in d){var f=d[a],g={prevented:!1,name:a,args:b};if(c.call(this,f,g),g.prevented)return void(b.prevented=!0)}c.call(this,a,b)},e.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},e.prototype.open=function(){this.isOpen()||this.trigger("query",{})},e.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},e.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},e.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},e.prototype.focus=function(a){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},e.prototype.enable=function(a){this.options.get("debug")&&window.console&&console.warn&&console.warn(\'Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.\'),(null==a||0===a.length)&&(a=[!0]);var b=!a[0];this.$element.prop("disabled",b)},e.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn(\'Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.\');var a=[];return this.dataAdapter.current(function(b){a=b}),a},e.prototype.val=function(b){if(this.options.get("debug")&&window.console&&console.warn&&console.warn(\'Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.\'),null==b||0===b.length)return this.$element.val();var c=b[0];a.isArray(c)&&(c=a.map(c,function(a){return a.toString()})),this.$element.val(c).trigger("change")},e.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null;\n},e.prototype.render=function(){var b=a(\'<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>\');return b.attr("dir",this.options.get("dir")),this.$container=b,this.$container.addClass("select2-container--"+this.options.get("theme")),b.data("element",this.$element),b},e}),b.define("jquery-mousewheel",["jquery"],function(a){return a}),b.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(a,b,c,d){if(null==a.fn.select2){var e=["open","close","destroy"];a.fn.select2=function(b){if(b=b||{},"object"==typeof b)return this.each(function(){var d=a.extend(!0,{},b);new c(a(this),d)}),this;if("string"==typeof b){var d,f=Array.prototype.slice.call(arguments,1);return this.each(function(){var c=a(this).data("select2");null==c&&window.console&&console.error&&console.error("The select2(\'"+b+"\') method was called on an element that is not using Select2."),d=c[b].apply(c,f)}),a.inArray(b,e)>-1?this:d}throw new Error("Invalid arguments for Select2: "+b)}}return null==a.fn.select2.defaults&&(a.fn.select2.defaults=d),c}),{define:b.define,require:b.require}}(),c=b.require("jquery.select2");return a.fn.select2.amd=b,c});'},4:function(e,n,t){t("HPcH"),t("dSD+"),t("fwVZ"),t("asxh"),t("l9iJ"),t("yx+d"),e.exports=t("06rZ")},"87JJ":function(e,n){e.exports="/*\n * JavaScript Canvas to Blob\n * https://github.com/blueimp/JavaScript-Canvas-to-Blob\n *\n * Copyright 2012, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n *\n * Based on stackoverflow user Stoive's code snippet:\n * http://stackoverflow.com/q/4998908\n */\n\n/* global atob, Blob, define */\n\n;(function (window) {\n  'use strict'\n\n  var CanvasPrototype = window.HTMLCanvasElement &&\n                          window.HTMLCanvasElement.prototype\n  var hasBlobConstructor = window.Blob && (function () {\n    try {\n      return Boolean(new Blob())\n    } catch (e) {\n      return false\n    }\n  }())\n  var hasArrayBufferViewSupport = hasBlobConstructor && window.Uint8Array &&\n    (function () {\n      try {\n        return new Blob([new Uint8Array(100)]).size === 100\n      } catch (e) {\n        return false\n      }\n    }())\n  var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder ||\n                      window.MozBlobBuilder || window.MSBlobBuilder\n  var dataURIPattern = /^data:((.*?)(;charset=.*?)?)(;base64)?,/\n  var dataURLtoBlob = (hasBlobConstructor || BlobBuilder) && window.atob &&\n    window.ArrayBuffer && window.Uint8Array &&\n    function (dataURI) {\n      var matches,\n        mediaType,\n        isBase64,\n        dataString,\n        byteString,\n        arrayBuffer,\n        intArray,\n        i,\n        bb\n      // Parse the dataURI components as per RFC 2397\n      matches = dataURI.match(dataURIPattern)\n      if (!matches) {\n        throw new Error('invalid data URI')\n      }\n      // Default to text/plain;charset=US-ASCII\n      mediaType = matches[2]\n        ? matches[1]\n        : 'text/plain' + (matches[3] || ';charset=US-ASCII')\n      isBase64 = !!matches[4]\n      dataString = dataURI.slice(matches[0].length)\n      if (isBase64) {\n        // Convert base64 to raw binary data held in a string:\n        byteString = atob(dataString)\n      } else {\n        // Convert base64/URLEncoded data component to raw binary:\n        byteString = decodeURIComponent(dataString)\n      }\n      // Write the bytes of the string to an ArrayBuffer:\n      arrayBuffer = new ArrayBuffer(byteString.length)\n      intArray = new Uint8Array(arrayBuffer)\n      for (i = 0; i < byteString.length; i += 1) {\n        intArray[i] = byteString.charCodeAt(i)\n      }\n      // Write the ArrayBuffer (or ArrayBufferView) to a blob:\n      if (hasBlobConstructor) {\n        return new Blob(\n          [hasArrayBufferViewSupport ? intArray : arrayBuffer],\n          {type: mediaType}\n        )\n      }\n      bb = new BlobBuilder()\n      bb.append(arrayBuffer)\n      return bb.getBlob(mediaType)\n    }\n  if (window.HTMLCanvasElement && !CanvasPrototype.toBlob) {\n    if (CanvasPrototype.mozGetAsFile) {\n      CanvasPrototype.toBlob = function (callback, type, quality) {\n        if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {\n          callback(dataURLtoBlob(this.toDataURL(type, quality)))\n        } else {\n          callback(this.mozGetAsFile('blob', type))\n        }\n      }\n    } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {\n      CanvasPrototype.toBlob = function (callback, type, quality) {\n        callback(dataURLtoBlob(this.toDataURL(type, quality)))\n      }\n    }\n  }\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return dataURLtoBlob\n    })\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = dataURLtoBlob\n  } else {\n    window.dataURLtoBlob = dataURLtoBlob\n  }\n}(window))"},Bdf5:function(e,n){e.exports='! function(e) {\r    var i = {\r        logo_align: "left",\r        links_align: "left",\r        socialBar_align: "left",\r        searchBar_align: "right",\r        trigger: "hover",\r        effect: "fade",\r        effect_speed: 400,\r        sibling: !0,\r        outside_click_close: !0,\r        top_fixed: !1,\r        sticky_header: !1,\r        sticky_header_height: 200,\r        menu_position: "horizontal",\r        full_width: !0,\r        mobile_settings: {\r            collapse: !1,\r            sibling: !0,\r            scrollBar: !0,\r            scrollBar_height: 400,\r            top_fixed: !1,\r            sticky_header: !1,\r            sticky_header_height: 200\r        }\r    };\r    e.fn.megaMenu = function(o) {\r        return o = e.extend({}, i, o || {}), this.each(function() {\r            var i, s = e(this),\r                t = "ul",\r                n = "li",\r                a = "a",\r                r = s.find(".menu-logo"),\r                l = r.children(n),\r                d = s.find(".menu-links"),\r                c = d.children(n),\r                f = s.find(".menu-social-bar"),\r                _ = s.find(".menu-search-bar"),\r                p = ".menu-mobile-collapse-trigger",\r                g = ".mobileTriggerButton",\r                u = ".desktopTriggerButton",\r                h = "active",\r                m = "activeTrigger",\r                b = "activeTriggerMobile",\r                v = ".drop-down-multilevel, .drop-down, .drop-down-tab-bar",\r                C = "desktopTopFixed",\r                w = "mobileTopFixed",\r                k = "menuFullWidth",\r                y = s.find(".menu-contact-form"),\r                x = y.find(".nav_form_notification");\r            i = {\r                contact_form_ajax: function() {\r                    e(y).submit(function(i) {\r                        var o = e(this);\r                        i.preventDefault();\r                        var s = e(this).serialize();\r                        o.find("button i.fa").css("display", "inline-block"), e.ajax({\r                            type: "POST",\r                            url: e(this).attr("action"),\r                            data: s\r                        }).done(function(e) {\r                            x.text(e), o.find(\'input[type="text"]\').val(""), o.find(\'input[type="email"]\').val(""), o.find("textarea").val(""), o.find("button i.fa").css("display", "none")\r                        }).fail(function(e) {\r                            "" !== e.responseText && x.text("Error"), o.find("button i.fa").css("display", "none")\r                        })\r                    })\r                },\r                menu_full_width: function() {\r                    o.full_width === !0 && s.addClass(k)\r                },\r                logo_Align: function() {\r                    "right" === o.logo_align ? r.addClass("menu-logo-align-right") : r.removeClass("menu-logo-align-right")\r                },\r                links_Align: function() {\r                    "right" === o.links_align ? d.addClass("menu-links-align-right") : d.removeClass("menu-links-align-right")\r                },\r                social_bar_Align: function() {\r                    "right" === o.socialBar_align ? f.addClass("menu-social-bar-right") : f.removeClass("menu-social-bar-right")\r                },\r                search_bar_Align: function() {\r                    "left" === o.searchBar_align ? _.addClass("menu-search-bar-left") : _.removeClass("menu-search-bar-left")\r                },\r                collapse_trigger_button: function() {\r                    if (o.mobile_settings.collapse === !0) {\r                        l.append(\'<div class="menu-mobile-collapse-trigger"><span></span></div>\');\r                        var i = d.add(f);\r                        i.hide(0), _.addClass(h), s.find(p).on("click", function() {\r                            return i.is(":hidden") ? (e(this).addClass(h), i.show(0)) : (e(this).removeClass(h), i.hide(0)), !1\r                        })\r                    }\r                },\r                switch_effect_remove: function() {\r                    s.find(v).removeClass("effect-fade effect-scale effect-expand-top effect-expand-bottom effect-expand-left effect-expand-right")\r                },\r                switch_effects: function() {\r                    switch (o.effect) {\r                        case "fade":\r                            this.switch_effect_remove(), s.find(v).addClass("effect-fade");\r                            break;\r                        case "scale":\r                            this.switch_effect_remove(), s.find(v).addClass("effect-scale");\r                            break;\r                        case "expand-top":\r                            this.switch_effect_remove(), s.find(v).addClass("effect-expand-top");\r                            break;\r                        case "expand-bottom":\r                            this.switch_effect_remove(), s.find(v).addClass("effect-expand-bottom");\r                            break;\r                        case "expand-left":\r                            this.switch_effect_remove(), s.find(v).addClass("effect-expand-left");\r                            break;\r                        case "expand-right":\r                            this.switch_effect_remove(), s.find(v).addClass("effect-expand-right")\r                    }\r                },\r                transition_delay: function() {\r                    s.find(v).css({\r                        webkitTransition: "all " + o.effect_speed + "ms ease ",\r                        transition: "all " + o.effect_speed + "ms ease "\r                    })\r                },\r                hover_trigger: function() {\r                    "hover" === o.trigger && (i.transition_delay(), s.find(v).parents(n).addClass("hoverTrigger"), i.switch_effects())\r                },\r                mobile_trigger: function() {\r                    0 === s.find(".mobileTriggerButton").length && s.find(v).prev(a).append(\'<div class="mobileTriggerButton"></div>\'), s.find(g).off("click").on("click", function() {\r                        var i = e(this),\r                            r = i.parents(a),\r                            l = r.next(v);\r                        return l.is(":hidden") ? (o.mobile_settings.sibling === !0 && (i.parents(s).siblings(t + "," + n).find(v).hide(0), i.parents(s).siblings(n).removeClass(b), i.parents(s).siblings(t).find(n).removeClass(b)), r.parent(n).addClass(b), l.show(0)) : (r.parent(n).removeClass(b), l.hide(0)), !1\r                    }), s.find("i.fa.fa-indicator").on("click", function() {\r                        return !1\r                    })\r                },\r                click_trigger: function() {\r                    "click" === o.trigger && (s.find(v).prev(a).append(\'<div class="desktopTriggerButton"></div>\'), s.find(v).parents(n).addClass("ClickTrigger"), i.switch_effects(), i.transition_delay(), s.find(u).off("click").on("click", function(i) {\r                        i.stopPropagation(), i.stopImmediatePropagation();\r                        var r = e(this),\r                            l = r.parents(a),\r                            d = l.next(v);\r                        d.hasClass(h) ? (l.parent(n).removeClass(m), d.removeClass(h)) : (o.sibling === !0 && (r.parents(s).siblings(t + "," + n).find(v).removeClass(h), r.parents(s).siblings(n).removeClass(m), r.parents(s).siblings(t).find(n).removeClass(m)), l.parent(n).addClass(m), d.addClass(h))\r                    }))\r                },\r                //outside_close: function() {\r//                    o.outside_click_close === !0 && "click" === o.trigger && s.find(v).is(":visible") ? e(document).off("click").on("click", function(e) {\r//                        s.is(e.target) || 0 !== s.has(e.target).length || (s.find(v).removeClass(h), c.removeClass("activeTrigger"))\r//                    }) : e(document).off("click")\r//                },\r                position: function() {\r                    "vertical-left" === o.menu_position ? s.addClass("vertical-left") : s.removeClass("vertical-left"), "vertical-right" === o.menu_position ? s.addClass("vertical-right") : s.removeClass("vertical-right")\r                },\r                destroy_menu: function() {\r                    s.find(v).parents(n).removeClass("hoverTrigger"), s.find(v).parents(n).removeClass("ClickTrigger")\r                }\r            }, i.destroy_menu(), i.menu_full_width(), i.logo_Align(), i.links_Align(), i.social_bar_Align(), i.search_bar_Align(), i.collapse_trigger_button(), i.hover_trigger(), i.mobile_trigger(), i.click_trigger(), i.position(), i.contact_form_ajax(), e(window).resize(function() {\r                //i.sticky_Header()\r            })\r        })\r    }\r}(jQuery);'},HPcH:function(e,n,t){t("P+fo")(t("TUKq"))},HnqZ:function(e,n){e.exports="/**\n * Parse JavaScript SDK v1.9.2\n *\n * The source tree of this library can be found at\n *   https://github.com/ParsePlatform/Parse-SDK-JS\n */\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Parse = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.track = track;\n\nvar _CoreManager = _dereq_('./CoreManager');\n\nvar _CoreManager2 = _interopRequireDefault(_CoreManager);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Parse.Analytics provides an interface to Parse's logging and analytics\n * backend.\n *\n * @class Parse.Analytics\n * @static\n */\n\n/**\n * Tracks the occurrence of a custom event with additional dimensions.\n * Parse will store a data point at the time of invocation with the given\n * event name.\n *\n * Dimensions will allow segmentation of the occurrences of this custom\n * event. Keys and values should be {@code String}s, and will throw\n * otherwise.\n *\n * To track a user signup along with additional metadata, consider the\n * following:\n * <pre>\n * var dimensions = {\n *  gender: 'm',\n *  source: 'web',\n *  dayType: 'weekend'\n * };\n * Parse.Analytics.track('signup', dimensions);\n * </pre>\n *\n * There is a default limit of 8 dimensions per event tracked.\n *\n * @method track\n * @param {String} name The name of the custom event to report to Parse as\n * having happened.\n * @param {Object} dimensions The dictionary of information by which to\n * segment this event.\n * @param {Object} options A Backbone-style callback object.\n * @return {Parse.Promise} A promise that is resolved when the round-trip\n * to the server completes.\n */\nfunction track(name, dimensions, options) {\n  name = name || '';\n  name = name.replace(/^\\s*/, '');\n  name = name.replace(/\\s*$/, '');\n  if (name.length === 0) {\n    throw new TypeError('A name for the custom event must be provided');\n  }\n\n  for (var key in dimensions) {\n    if (typeof key !== 'string' || typeof dimensions[key] !== 'string') {\n      throw new TypeError('track() dimensions expects keys and values of type \"string\".');\n    }\n  }\n\n  options = options || {};\n  return _CoreManager2.default.getAnalyticsController().track(name, dimensions)._thenRunCallbacks(options);\n} /**\n   * Copyright (c) 2015-present, Parse, LLC.\n   * All rights reserved.\n   *\n   * This source code is licensed under the BSD-style license found in the\n   * LICENSE file in the root directory of this source tree. An additional grant\n   * of patent rights can be found in the PATENTS file in the same directory.\n   *\n   * \n   */\n\nvar DefaultController = {\n  track: function (name, dimensions) {\n    var RESTController = _CoreManager2.default.getRESTController();\n    return RESTController.request('POST', 'events/' + name, { dimensions: dimensions });\n  }\n};\n\n_CoreManager2.default.setAnalyticsController(DefaultController);\n},{\"./CoreManager\":3}],2:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.run = run;\n\nvar _CoreManager = _dereq_('./CoreManager');\n\nvar _CoreManager2 = _interopRequireDefault(_CoreManager);\n\nvar _decode = _dereq_('./decode');\n\nvar _decode2 = _interopRequireDefault(_decode);\n\nvar _encode = _dereq_('./encode');\n\nvar _encode2 = _interopRequireDefault(_encode);\n\nvar _ParseError = _dereq_('./ParseError');\n\nvar _ParseError2 = _interopRequireDefault(_ParseError);\n\nvar _ParsePromise = _dereq_('./ParsePromise');\n\nvar _ParsePromise2 = _interopRequireDefault(_ParsePromise);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Contains functions for calling and declaring\n * <a href=\"/docs/cloud_code_guide#functions\">cloud functions</a>.\n * <p><strong><em>\n *   Some functions are only available from Cloud Code.\n * </em></strong></p>\n *\n * @class Parse.Cloud\n * @static\n */\n\n/**\n * Makes a call to a cloud function.\n * @method run\n * @param {String} name The function name.\n * @param {Object} data The parameters to send to the cloud function.\n * @param {Object} options A Backbone-style options object\n * options.success, if set, should be a function to handle a successful\n * call to a cloud function.  options.error should be a function that\n * handles an error running the cloud function.  Both functions are\n * optional.  Both functions take a single argument.\n * @return {Parse.Promise} A promise that will be resolved with the result\n * of the function.\n */\nfunction run(name, data, options) {\n  options = options || {};\n\n  if (typeof name !== 'string' || name.length === 0) {\n    throw new TypeError('Cloud function name must be a string.');\n  }\n\n  var requestOptions = {};\n  if (options.useMasterKey) {\n    requestOptions.useMasterKey = options.useMasterKey;\n  }\n  if (options.sessionToken) {\n    requestOptions.sessionToken = options.sessionToken;\n  }\n\n  return _CoreManager2.default.getCloudController().run(name, data, requestOptions)._thenRunCallbacks(options);\n} /**\n   * Copyright (c) 2015-present, Parse, LLC.\n   * All rights reserved.\n   *\n   * This source code is licensed under the BSD-style license found in the\n   * LICENSE file in the root directory of this source tree. An additional grant\n   * of patent rights can be found in the PATENTS file in the same directory.\n   *\n   * \n   */\n\nvar DefaultController = {\n  run: function (name, data, options) {\n    var RESTController = _CoreManager2.default.getRESTController();\n\n    var payload = (0, _encode2.default)(data, true);\n\n    var requestOptions = {};\n    if (options.hasOwnProperty('useMasterKey')) {\n      requestOptions.useMasterKey = options.useMasterKey;\n    }\n    if (options.hasOwnProperty('sessionToken')) {\n      requestOptions.sessionToken = options.sessionToken;\n    }\n\n    var request = RESTController.request('POST', 'functions/' + name, payload, requestOptions);\n\n    return request.then(function (res) {\n      var decoded = (0, _decode2.default)(res);\n      if (decoded && decoded.hasOwnProperty('result')) {\n        return _ParsePromise2.default.as(decoded.result);\n      }\n      return _ParsePromise2.default.error(new _ParseError2.default(_ParseError2.default.INVALID_JSON, 'The server returned an invalid response.'));\n    })._thenRunCallbacks(options);\n  }\n};\n\n_CoreManager2.default.setCloudController(DefaultController);\n},{\"./CoreManager\":3,\"./ParseError\":13,\"./ParsePromise\":20,\"./decode\":35,\"./encode\":36}],3:[function(_dereq_,module,exports){\n(function (process){\n'use strict';\n\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nvar config = {\n  // Defaults\n  IS_NODE: typeof process !== 'undefined' && !!process.versions && !!process.versions.node && !process.versions.electron,\n  REQUEST_ATTEMPT_LIMIT: 5,\n  SERVER_URL: 'https://api.parse.com/1',\n  LIVEQUERY_SERVER_URL: null,\n  VERSION: 'js' + '1.9.2',\n  APPLICATION_ID: null,\n  JAVASCRIPT_KEY: null,\n  MASTER_KEY: null,\n  USE_MASTER_KEY: false,\n  PERFORM_USER_REWRITE: true,\n  FORCE_REVOCABLE_SESSION: false\n};\n\nfunction requireMethods(name, methods, controller) {\n  methods.forEach(function (func) {\n    if (typeof controller[func] !== 'function') {\n      throw new Error(name + ' must implement ' + func + '()');\n    }\n  });\n}\n\nmodule.exports = {\n  get: function (key) {\n    if (config.hasOwnProperty(key)) {\n      return config[key];\n    }\n    throw new Error('Configuration key not found: ' + key);\n  },\n\n  set: function (key, value) {\n    config[key] = value;\n  },\n\n  /* Specialized Controller Setters/Getters */\n\n  setAnalyticsController: function (controller) {\n    requireMethods('AnalyticsController', ['track'], controller);\n    config['AnalyticsController'] = controller;\n  },\n  getAnalyticsController: function () {\n    return config['AnalyticsController'];\n  },\n  setCloudController: function (controller) {\n    requireMethods('CloudController', ['run'], controller);\n    config['CloudController'] = controller;\n  },\n  getCloudController: function () {\n    return config['CloudController'];\n  },\n  setConfigController: function (controller) {\n    requireMethods('ConfigController', ['current', 'get'], controller);\n    config['ConfigController'] = controller;\n  },\n  getConfigController: function () {\n    return config['ConfigController'];\n  },\n  setFileController: function (controller) {\n    requireMethods('FileController', ['saveFile', 'saveBase64'], controller);\n    config['FileController'] = controller;\n  },\n  getFileController: function () {\n    return config['FileController'];\n  },\n  setInstallationController: function (controller) {\n    requireMethods('InstallationController', ['currentInstallationId'], controller);\n    config['InstallationController'] = controller;\n  },\n  getInstallationController: function () {\n    return config['InstallationController'];\n  },\n  setObjectController: function (controller) {\n    requireMethods('ObjectController', ['save', 'fetch', 'destroy'], controller);\n    config['ObjectController'] = controller;\n  },\n  getObjectController: function () {\n    return config['ObjectController'];\n  },\n  setObjectStateController: function (controller) {\n    requireMethods('ObjectStateController', ['getState', 'initializeState', 'removeState', 'getServerData', 'setServerData', 'getPendingOps', 'setPendingOp', 'pushPendingState', 'popPendingState', 'mergeFirstPendingState', 'getObjectCache', 'estimateAttribute', 'estimateAttributes', 'commitServerChanges', 'enqueueTask', 'clearAllState'], controller);\n\n    config['ObjectStateController'] = controller;\n  },\n  getObjectStateController: function () {\n    return config['ObjectStateController'];\n  },\n  setPushController: function (controller) {\n    requireMethods('PushController', ['send'], controller);\n    config['PushController'] = controller;\n  },\n  getPushController: function () {\n    return config['PushController'];\n  },\n  setQueryController: function (controller) {\n    requireMethods('QueryController', ['find'], controller);\n    config['QueryController'] = controller;\n  },\n  getQueryController: function () {\n    return config['QueryController'];\n  },\n  setRESTController: function (controller) {\n    requireMethods('RESTController', ['request', 'ajax'], controller);\n    config['RESTController'] = controller;\n  },\n  getRESTController: function () {\n    return config['RESTController'];\n  },\n  setSessionController: function (controller) {\n    requireMethods('SessionController', ['getSession'], controller);\n    config['SessionController'] = controller;\n  },\n  getSessionController: function () {\n    return config['SessionController'];\n  },\n  setStorageController: function (controller) {\n    if (controller.async) {\n      requireMethods('An async StorageController', ['getItemAsync', 'setItemAsync', 'removeItemAsync'], controller);\n    } else {\n      requireMethods('A synchronous StorageController', ['getItem', 'setItem', 'removeItem'], controller);\n    }\n    config['StorageController'] = controller;\n  },\n  getStorageController: function () {\n    return config['StorageController'];\n  },\n  setUserController: function (controller) {\n    requireMethods('UserController', ['setCurrentUser', 'currentUser', 'currentUserAsync', 'signUp', 'logIn', 'become', 'logOut', 'requestPasswordReset', 'upgradeToRevocableSession', 'linkWith'], controller);\n    config['UserController'] = controller;\n  },\n  getUserController: function () {\n    return config['UserController'];\n  },\n  setLiveQueryController: function (controller) {\n    requireMethods('LiveQueryController', ['subscribe', 'unsubscribe', 'open', 'close'], controller);\n    config['LiveQueryController'] = controller;\n  },\n  getLiveQueryController: function () {\n    return config['LiveQueryController'];\n  },\n  setHooksController: function (controller) {\n    requireMethods('HooksController', ['create', 'get', 'update', 'remove'], controller);\n    config['HooksController'] = controller;\n  },\n  getHooksController: function () {\n    return config['HooksController'];\n  }\n};\n}).call(this,_dereq_('_process'))\n},{\"_process\":168}],4:[function(_dereq_,module,exports){\n'use strict';\n\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * This is a simple wrapper to unify EventEmitter implementations across platforms.\n */\n\nmodule.exports = _dereq_('events').EventEmitter;\nvar EventEmitter;\n},{\"events\":169}],5:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parseDate = _dereq_('./parseDate');\n\nvar _parseDate2 = _interopRequireDefault(_parseDate);\n\nvar _ParseUser = _dereq_('./ParseUser');\n\nvar _ParseUser2 = _interopRequireDefault(_ParseUser);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * -weak\n */\n\nvar PUBLIC_KEY = \"*\";\n\nvar initialized = false;\nvar requestedPermissions;\nvar initOptions;\nvar provider = {\n  authenticate: function (options) {\n    var _this = this;\n\n    if (typeof FB === 'undefined') {\n      options.error(this, 'Facebook SDK not found.');\n    }\n    FB.login(function (response) {\n      if (response.authResponse) {\n        if (options.success) {\n          options.success(_this, {\n            id: response.authResponse.userID,\n            access_token: response.authResponse.accessToken,\n            expiration_date: new Date(response.authResponse.expiresIn * 1000 + new Date().getTime()).toJSON()\n          });\n        }\n      } else {\n        if (options.error) {\n          options.error(_this, response);\n        }\n      }\n    }, {\n      scope: requestedPermissions\n    });\n  },\n  restoreAuthentication: function (authData) {\n    if (authData) {\n      var expiration = (0, _parseDate2.default)(authData.expiration_date);\n      var expiresIn = expiration ? (expiration.getTime() - new Date().getTime()) / 1000 : 0;\n\n      var authResponse = {\n        userID: authData.id,\n        accessToken: authData.access_token,\n        expiresIn: expiresIn\n      };\n      var newOptions = {};\n      if (initOptions) {\n        for (var key in initOptions) {\n          newOptions[key] = initOptions[key];\n        }\n      }\n      newOptions.authResponse = authResponse;\n\n      // Suppress checks for login status from the browser.\n      newOptions.status = false;\n\n      // If the user doesn't match the one known by the FB SDK, log out.\n      // Most of the time, the users will match -- it's only in cases where\n      // the FB SDK knows of a different user than the one being restored\n      // from a Parse User that logged in with username/password.\n      var existingResponse = FB.getAuthResponse();\n      if (existingResponse && existingResponse.userID !== authResponse.userID) {\n        FB.logout();\n      }\n\n      FB.init(newOptions);\n    }\n    return true;\n  },\n  getAuthType: function () {\n    return 'facebook';\n  },\n  deauthenticate: function () {\n    this.restoreAuthentication(null);\n  }\n};\n\n/**\n * Provides a set of utilities for using Parse with Facebook.\n * @class Parse.FacebookUtils\n * @static\n */\nvar FacebookUtils = {\n  /**\n   * Initializes Parse Facebook integration.  Call this function after you\n   * have loaded the Facebook Javascript SDK with the same parameters\n   * as you would pass to<code>\n   * <a href=\n   * \"https://developers.facebook.com/docs/reference/javascript/FB.init/\">\n   * FB.init()</a></code>.  Parse.FacebookUtils will invoke FB.init() for you\n   * with these arguments.\n   *\n   * @method init\n   * @param {Object} options Facebook options argument as described here:\n   *   <a href=\n   *   \"https://developers.facebook.com/docs/reference/javascript/FB.init/\">\n   *   FB.init()</a>. The status flag will be coerced to 'false' because it\n   *   interferes with Parse Facebook integration. Call FB.getLoginStatus()\n   *   explicitly if this behavior is required by your application.\n   */\n  init: function (options) {\n    if (typeof FB === 'undefined') {\n      throw new Error('The Facebook JavaScript SDK must be loaded before calling init.');\n    }\n    initOptions = {};\n    if (options) {\n      for (var key in options) {\n        initOptions[key] = options[key];\n      }\n    }\n    if (initOptions.status && typeof console !== 'undefined') {\n      var warn = console.warn || console.log || function () {};\n      warn.call(console, 'The \"status\" flag passed into' + ' FB.init, when set to true, can interfere with Parse Facebook' + ' integration, so it has been suppressed. Please call' + ' FB.getLoginStatus() explicitly if you require this behavior.');\n    }\n    initOptions.status = false;\n    FB.init(initOptions);\n    _ParseUser2.default._registerAuthenticationProvider(provider);\n    initialized = true;\n  },\n\n  /**\n   * Gets whether the user has their account linked to Facebook.\n   *\n   * @method isLinked\n   * @param {Parse.User} user User to check for a facebook link.\n   *     The user must be logged in on this device.\n   * @return {Boolean} <code>true</code> if the user has their account\n   *     linked to Facebook.\n   */\n  isLinked: function (user) {\n    return user._isLinked('facebook');\n  },\n\n  /**\n   * Logs in a user using Facebook. This method delegates to the Facebook\n   * SDK to authenticate the user, and then automatically logs in (or\n   * creates, in the case where it is a new user) a Parse.User.\n   *\n   * @method logIn\n   * @param {String, Object} permissions The permissions required for Facebook\n   *    log in.  This is a comma-separated string of permissions.\n   *    Alternatively, supply a Facebook authData object as described in our\n   *    REST API docs if you want to handle getting facebook auth tokens\n   *    yourself.\n   * @param {Object} options Standard options object with success and error\n   *    callbacks.\n   */\n  logIn: function (permissions, options) {\n    if (!permissions || typeof permissions === 'string') {\n      if (!initialized) {\n        throw new Error('You must initialize FacebookUtils before calling logIn.');\n      }\n      requestedPermissions = permissions;\n      return _ParseUser2.default._logInWith('facebook', options);\n    } else {\n      var newOptions = {};\n      if (options) {\n        for (var key in options) {\n          newOptions[key] = options[key];\n        }\n      }\n      newOptions.authData = permissions;\n      return _ParseUser2.default._logInWith('facebook', newOptions);\n    }\n  },\n\n  /**\n   * Links Facebook to an existing PFUser. This method delegates to the\n   * Facebook SDK to authenticate the user, and then automatically links\n   * the account to the Parse.User.\n   *\n   * @method link\n   * @param {Parse.User} user User to link to Facebook. This must be the\n   *     current user.\n   * @param {String, Object} permissions The permissions required for Facebook\n   *    log in.  This is a comma-separated string of permissions.\n   *    Alternatively, supply a Facebook authData object as described in our\n   *    REST API docs if you want to handle getting facebook auth tokens\n   *    yourself.\n   * @param {Object} options Standard options object with success and error\n   *    callbacks.\n   */\n  link: function (user, permissions, options) {\n    if (!permissions || typeof permissions === 'string') {\n      if (!initialized) {\n        throw new Error('You must initialize FacebookUtils before calling link.');\n      }\n      requestedPermissions = permissions;\n      return user._linkWith('facebook', options);\n    } else {\n      var newOptions = {};\n      if (options) {\n        for (var key in options) {\n          newOptions[key] = options[key];\n        }\n      }\n      newOptions.authData = permissions;\n      return user._linkWith('facebook', newOptions);\n    }\n  },\n\n  /**\n   * Unlinks the Parse.User from a Facebook account.\n   *\n   * @method unlink\n   * @param {Parse.User} user User to unlink from Facebook. This must be the\n   *     current user.\n   * @param {Object} options Standard options object with success and error\n   *    callbacks.\n   */\n  unlink: function (user, options) {\n    if (!initialized) {\n      throw new Error('You must initialize FacebookUtils before calling unlink.');\n    }\n    return user._unlinkFrom('facebook', options);\n  }\n};\n\nexports.default = FacebookUtils;\n},{\"./ParseUser\":25,\"./parseDate\":40}],6:[function(_dereq_,module,exports){\n'use strict';\n\nvar _CoreManager = _dereq_('./CoreManager');\n\nvar _CoreManager2 = _interopRequireDefault(_CoreManager);\n\nvar _ParsePromise = _dereq_('./ParsePromise');\n\nvar _ParsePromise2 = _interopRequireDefault(_ParsePromise);\n\nvar _Storage = _dereq_('./Storage');\n\nvar _Storage2 = _interopRequireDefault(_Storage);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar iidCache = null; /**\n                      * Copyright (c) 2015-present, Parse, LLC.\n                      * All rights reserved.\n                      *\n                      * This source code is licensed under the BSD-style license found in the\n                      * LICENSE file in the root directory of this source tree. An additional grant\n                      * of patent rights can be found in the PATENTS file in the same directory.\n                      *\n                      * \n                      */\n\nfunction hexOctet() {\n  return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n}\n\nfunction generateId() {\n  return hexOctet() + hexOctet() + '-' + hexOctet() + '-' + hexOctet() + '-' + hexOctet() + '-' + hexOctet() + hexOctet() + hexOctet();\n}\n\nvar InstallationController = {\n  currentInstallationId: function () {\n    if (typeof iidCache === 'string') {\n      return _ParsePromise2.default.as(iidCache);\n    }\n    var path = _Storage2.default.generatePath('installationId');\n    return _Storage2.default.getItemAsync(path).then(function (iid) {\n      if (!iid) {\n        iid = generateId();\n        return _Storage2.default.setItemAsync(path, iid).then(function () {\n          iidCache = iid;\n          return iid;\n        });\n      }\n      iidCache = iid;\n      return iid;\n    });\n  },\n  _clearCache: function () {\n    iidCache = null;\n  },\n  _setInstallationIdCache: function (iid) {\n    iidCache = iid;\n  }\n};\n\nmodule.exports = InstallationController;\n},{\"./CoreManager\":3,\"./ParsePromise\":20,\"./Storage\":29}],7:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = _dereq_('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getIterator2 = _dereq_('babel-runtime/core-js/get-iterator');\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _stringify = _dereq_('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _map = _dereq_('babel-runtime/core-js/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _getPrototypeOf = _dereq_('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = _dereq_('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = _dereq_('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = _dereq_('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = _dereq_('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _EventEmitter2 = _dereq_('./EventEmitter');\n\nvar _EventEmitter3 = _interopRequireDefault(_EventEmitter2);\n\nvar _ParsePromise = _dereq_('./ParsePromise');\n\nvar _ParsePromise2 = _interopRequireDefault(_ParsePromise);\n\nvar _ParseObject = _dereq_('./ParseObject');\n\nvar _ParseObject2 = _interopRequireDefault(_ParseObject);\n\nvar _LiveQuerySubscription = _dereq_('./LiveQuerySubscription');\n\nvar _LiveQuerySubscription2 = _interopRequireDefault(_LiveQuerySubscription);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n// The LiveQuery client inner state\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\nvar CLIENT_STATE = {\n  INITIALIZED: 'initialized',\n  CONNECTING: 'connecting',\n  CONNECTED: 'connected',\n  CLOSED: 'closed',\n  RECONNECTING: 'reconnecting',\n  DISCONNECTED: 'disconnected'\n};\n\n// The event type the LiveQuery client should sent to server\nvar OP_TYPES = {\n  CONNECT: 'connect',\n  SUBSCRIBE: 'subscribe',\n  UNSUBSCRIBE: 'unsubscribe',\n  ERROR: 'error'\n};\n\n// The event we get back from LiveQuery server\nvar OP_EVENTS = {\n  CONNECTED: 'connected',\n  SUBSCRIBED: 'subscribed',\n  UNSUBSCRIBED: 'unsubscribed',\n  ERROR: 'error',\n  CREATE: 'create',\n  UPDATE: 'update',\n  ENTER: 'enter',\n  LEAVE: 'leave',\n  DELETE: 'delete'\n};\n\n// The event the LiveQuery client should emit\nvar CLIENT_EMMITER_TYPES = {\n  CLOSE: 'close',\n  ERROR: 'error',\n  OPEN: 'open'\n};\n\n// The event the LiveQuery subscription should emit\nvar SUBSCRIPTION_EMMITER_TYPES = {\n  OPEN: 'open',\n  CLOSE: 'close',\n  ERROR: 'error',\n  CREATE: 'create',\n  UPDATE: 'update',\n  ENTER: 'enter',\n  LEAVE: 'leave',\n  DELETE: 'delete'\n};\n\nvar generateInterval = function (k) {\n  return Math.random() * Math.min(30, Math.pow(2, k) - 1) * 1000;\n};\n\n/**\n * Creates a new LiveQueryClient.\n * Extends events.EventEmitter\n * <a href=\"https://nodejs.org/api/events.html#events_class_eventemitter\">cloud functions</a>.\n * \n * A wrapper of a standard WebSocket client. We add several useful methods to \n * help you connect/disconnect to LiveQueryServer, subscribe/unsubscribe a ParseQuery easily.\n *\n * javascriptKey and masterKey are used for verifying the LiveQueryClient when it tries\n * to connect to the LiveQuery server\n * \n * @class Parse.LiveQueryClient\n * @constructor\n * @param {Object} options\n * @param {string} options.applicationId - applicationId of your Parse app\n * @param {string} options.serverURL - <b>the URL of your LiveQuery server</b>\n * @param {string} options.javascriptKey (optional)\n * @param {string} options.masterKey (optional) Your Parse Master Key. (Node.js only!)\n * @param {string} options.sessionToken (optional)\n *\n *\n * We expose three events to help you monitor the status of the LiveQueryClient.\n *\n * <pre>\n * let Parse = require('parse/node');\n * let LiveQueryClient = Parse.LiveQueryClient;\n * let client = new LiveQueryClient({\n *   applicationId: '',\n *   serverURL: '',\n *   javascriptKey: '',\n *   masterKey: ''\n *  });\n * </pre>\n * \n * Open - When we establish the WebSocket connection to the LiveQuery server, you'll get this event.\n * <pre>\n * client.on('open', () => {\n * \n * });</pre>\n *\n * Close - When we lose the WebSocket connection to the LiveQuery server, you'll get this event.\n * <pre>\n * client.on('close', () => {\n * \n * });</pre>\n *\n * Error - When some network error or LiveQuery server error happens, you'll get this event.\n * <pre>\n * client.on('error', (error) => {\n * \n * });</pre>\n * \n * \n */\n\nvar LiveQueryClient = function (_EventEmitter) {\n  (0, _inherits3.default)(LiveQueryClient, _EventEmitter);\n\n  function LiveQueryClient(_ref) {\n    var applicationId = _ref.applicationId;\n    var serverURL = _ref.serverURL;\n    var javascriptKey = _ref.javascriptKey;\n    var masterKey = _ref.masterKey;\n    var sessionToken = _ref.sessionToken;\n    (0, _classCallCheck3.default)(this, LiveQueryClient);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (LiveQueryClient.__proto__ || (0, _getPrototypeOf2.default)(LiveQueryClient)).call(this));\n\n    if (!serverURL || serverURL.indexOf('ws') !== 0) {\n      throw new Error('You need to set a proper Parse LiveQuery server url before using LiveQueryClient');\n    }\n\n    _this.reconnectHandle = null;\n    _this.attempts = 1;;\n    _this.id = 0;\n    _this.requestId = 1;\n    _this.serverURL = serverURL;\n    _this.applicationId = applicationId;\n    _this.javascriptKey = javascriptKey;\n    _this.masterKey = masterKey;\n    _this.sessionToken = sessionToken;\n    _this.connectPromise = new _ParsePromise2.default();\n    _this.subscriptions = new _map2.default();\n    _this.state = CLIENT_STATE.INITIALIZED;\n    return _this;\n  }\n\n  (0, _createClass3.default)(LiveQueryClient, [{\n    key: 'shouldOpen',\n    value: function () {\n      return this.state === CLIENT_STATE.INITIALIZED || this.state === CLIENT_STATE.DISCONNECTED;\n    }\n\n    /**\n     * Subscribes to a ParseQuery\n     * \n     * If you provide the sessionToken, when the LiveQuery server gets ParseObject's \n     * updates from parse server, it'll try to check whether the sessionToken fulfills \n     * the ParseObject's ACL. The LiveQuery server will only send updates to clients whose \n     * sessionToken is fit for the ParseObject's ACL. You can check the LiveQuery protocol\n     * <a href=\"https://github.com/ParsePlatform/parse-server/wiki/Parse-LiveQuery-Protocol-Specification\">here</a> for more details. The subscription you get is the same subscription you get \n     * from our Standard API.\n     * \n     * @method subscribe\n     * @param {Object} query - the ParseQuery you want to subscribe to\n     * @param {string} sessionToken (optional) \n     * @return {Object} subscription\n     */\n\n  }, {\n    key: 'subscribe',\n    value: function (query, sessionToken) {\n      var _this2 = this;\n\n      if (!query) {\n        return;\n      }\n      var where = query.toJSON().where;\n      var className = query.className;\n      var subscribeRequest = {\n        op: OP_TYPES.SUBSCRIBE,\n        requestId: this.requestId,\n        query: {\n          className: className,\n          where: where\n        }\n      };\n\n      if (sessionToken) {\n        subscribeRequest.sessionToken = sessionToken;\n      }\n\n      var subscription = new _LiveQuerySubscription2.default(this.requestId, query, sessionToken);\n      this.subscriptions.set(this.requestId, subscription);\n      this.requestId += 1;\n      this.connectPromise.then(function () {\n        _this2.socket.send((0, _stringify2.default)(subscribeRequest));\n      });\n\n      // adding listener so process does not crash\n      // best practice is for developer to register their own listener\n      subscription.on('error', function () {});\n\n      return subscription;\n    }\n\n    /**\n     * After calling unsubscribe you'll stop receiving events from the subscription object.\n     * \n     * @method unsubscribe\n     * @param {Object} subscription - subscription you would like to unsubscribe from.\n     */\n\n  }, {\n    key: 'unsubscribe',\n    value: function (subscription) {\n      var _this3 = this;\n\n      if (!subscription) {\n        return;\n      }\n\n      this.subscriptions.delete(subscription.id);\n      var unsubscribeRequest = {\n        op: OP_TYPES.UNSUBSCRIBE,\n        requestId: subscription.id\n      };\n      this.connectPromise.then(function () {\n        _this3.socket.send((0, _stringify2.default)(unsubscribeRequest));\n      });\n    }\n\n    /**\n     * After open is called, the LiveQueryClient will try to send a connect request\n     * to the LiveQuery server.\n     * \n     * @method open\n     */\n\n  }, {\n    key: 'open',\n    value: function () {\n      var _this4 = this;\n\n      var WebSocketImplementation = this._getWebSocketImplementation();\n      if (!WebSocketImplementation) {\n        this.emit(CLIENT_EMMITER_TYPES.ERROR, 'Can not find WebSocket implementation');\n        return;\n      }\n\n      if (this.state !== CLIENT_STATE.RECONNECTING) {\n        this.state = CLIENT_STATE.CONNECTING;\n      }\n\n      // Get WebSocket implementation\n      this.socket = new WebSocketImplementation(this.serverURL);\n\n      // Bind WebSocket callbacks\n      this.socket.onopen = function () {\n        _this4._handleWebSocketOpen();\n      };\n\n      this.socket.onmessage = function (event) {\n        _this4._handleWebSocketMessage(event);\n      };\n\n      this.socket.onclose = function () {\n        _this4._handleWebSocketClose();\n      };\n\n      this.socket.onerror = function (error) {\n        _this4._handleWebSocketError(error);\n      };\n    }\n  }, {\n    key: 'resubscribe',\n    value: function () {\n      var _this5 = this;\n\n      this.subscriptions.forEach(function (subscription, requestId) {\n        var query = subscription.query;\n        var where = query.toJSON().where;\n        var className = query.className;\n        var sessionToken = subscription.sessionToken;\n        var subscribeRequest = {\n          op: OP_TYPES.SUBSCRIBE,\n          requestId: requestId,\n          query: {\n            className: className,\n            where: where\n          }\n        };\n\n        if (sessionToken) {\n          subscribeRequest.sessionToken = sessionToken;\n        }\n\n        _this5.connectPromise.then(function () {\n          _this5.socket.send((0, _stringify2.default)(subscribeRequest));\n        });\n      });\n    }\n\n    /**\n     * This method will close the WebSocket connection to this LiveQueryClient, \n     * cancel the auto reconnect and unsubscribe all subscriptions based on it.\n     * \n     * @method close\n     */\n\n  }, {\n    key: 'close',\n    value: function () {\n      if (this.state === CLIENT_STATE.INITIALIZED || this.state === CLIENT_STATE.DISCONNECTED) {\n        return;\n      }\n      this.state = CLIENT_STATE.DISCONNECTED;\n      this.socket.close();\n      // Notify each subscription about the close\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = (0, _getIterator3.default)(this.subscriptions.values()), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var subscription = _step.value;\n\n          subscription.emit(SUBSCRIPTION_EMMITER_TYPES.CLOSE);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      this._handleReset();\n      this.emit(CLIENT_EMMITER_TYPES.CLOSE);\n    }\n  }, {\n    key: '_getWebSocketImplementation',\n    value: function () {\n      return typeof WebSocket === 'function' || (typeof WebSocket === 'undefined' ? 'undefined' : (0, _typeof3.default)(WebSocket)) === 'object' ? WebSocket : null;\n    }\n\n    // ensure we start with valid state if connect is called again after close\n\n  }, {\n    key: '_handleReset',\n    value: function () {\n      this.attempts = 1;;\n      this.id = 0;\n      this.requestId = 1;\n      this.connectPromise = new _ParsePromise2.default();\n      this.subscriptions = new _map2.default();\n    }\n  }, {\n    key: '_handleWebSocketOpen',\n    value: function () {\n      this.attempts = 1;\n      var connectRequest = {\n        op: OP_TYPES.CONNECT,\n        applicationId: this.applicationId,\n        javascriptKey: this.javascriptKey,\n        masterKey: this.masterKey,\n        sessionToken: this.sessionToken\n      };\n      this.socket.send((0, _stringify2.default)(connectRequest));\n    }\n  }, {\n    key: '_handleWebSocketMessage',\n    value: function (event) {\n      var data = event.data;\n      if (typeof data === 'string') {\n        data = JSON.parse(data);\n      }\n      var subscription = null;\n      if (data.requestId) {\n        subscription = this.subscriptions.get(data.requestId);\n      }\n      switch (data.op) {\n        case OP_EVENTS.CONNECTED:\n          if (this.state === CLIENT_STATE.RECONNECTING) {\n            this.resubscribe();\n          }\n          this.emit(CLIENT_EMMITER_TYPES.OPEN);\n          this.id = data.clientId;\n          this.connectPromise.resolve();\n          this.state = CLIENT_STATE.CONNECTED;\n          break;\n        case OP_EVENTS.SUBSCRIBED:\n          if (subscription) {\n            subscription.emit(SUBSCRIPTION_EMMITER_TYPES.OPEN);\n          }\n          break;\n        case OP_EVENTS.ERROR:\n          if (data.requestId) {\n            if (subscription) {\n              subscription.emit(SUBSCRIPTION_EMMITER_TYPES.ERROR, data.error);\n            }\n          } else {\n            this.emit(CLIENT_EMMITER_TYPES.ERROR, data.error);\n          }\n          break;\n        case OP_EVENTS.UNSUBSCRIBED:\n          // We have already deleted subscription in unsubscribe(), do nothing here\n          break;\n        default:\n          // create, update, enter, leave, delete cases\n          var className = data.object.className;\n          // Delete the extrea __type and className fields during transfer to full JSON\n          delete data.object.__type;\n          delete data.object.className;\n          var parseObject = new _ParseObject2.default(className);\n          parseObject._finishFetch(data.object);\n          if (!subscription) {\n            break;\n          }\n          subscription.emit(data.op, parseObject);\n      }\n    }\n  }, {\n    key: '_handleWebSocketClose',\n    value: function () {\n      if (this.state === CLIENT_STATE.DISCONNECTED) {\n        return;\n      }\n      this.state = CLIENT_STATE.CLOSED;\n      this.emit(CLIENT_EMMITER_TYPES.CLOSE);\n      // Notify each subscription about the close\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = (0, _getIterator3.default)(this.subscriptions.values()), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var subscription = _step2.value;\n\n          subscription.emit(SUBSCRIPTION_EMMITER_TYPES.CLOSE);\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      this._handleReconnect();\n    }\n  }, {\n    key: '_handleWebSocketError',\n    value: function (error) {\n      this.emit(CLIENT_EMMITER_TYPES.ERROR, error);\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = (0, _getIterator3.default)(this.subscriptions.values()), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var subscription = _step3.value;\n\n          subscription.emit(SUBSCRIPTION_EMMITER_TYPES.ERROR);\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      this._handleReconnect();\n    }\n  }, {\n    key: '_handleReconnect',\n    value: function () {\n      var _this6 = this;\n\n      // if closed or currently reconnecting we stop attempting to reconnect\n      if (this.state === CLIENT_STATE.DISCONNECTED) {\n        return;\n      }\n\n      this.state = CLIENT_STATE.RECONNECTING;\n      var time = generateInterval(this.attempts);\n\n      // handle case when both close/error occur at frequent rates we ensure we do not reconnect unnecessarily.\n      // we're unable to distinguish different between close/error when we're unable to reconnect therefore\n      // we try to reonnect in both cases\n      // server side ws and browser WebSocket behave differently in when close/error get triggered\n\n      if (this.reconnectHandle) {\n        clearTimeout(this.reconnectHandle);\n      }\n\n      this.reconnectHandle = setTimeout(function () {\n        _this6.attempts++;\n        _this6.connectPromise = new _ParsePromise2.default();\n        _this6.open();\n      }.bind(this), time);\n    }\n  }]);\n  return LiveQueryClient;\n}(_EventEmitter3.default);\n\nexports.default = LiveQueryClient;\n},{\"./EventEmitter\":4,\"./LiveQuerySubscription\":8,\"./ParseObject\":18,\"./ParsePromise\":20,\"babel-runtime/core-js/get-iterator\":43,\"babel-runtime/core-js/json/stringify\":44,\"babel-runtime/core-js/map\":45,\"babel-runtime/core-js/object/get-prototype-of\":50,\"babel-runtime/helpers/classCallCheck\":56,\"babel-runtime/helpers/createClass\":57,\"babel-runtime/helpers/inherits\":59,\"babel-runtime/helpers/possibleConstructorReturn\":60,\"babel-runtime/helpers/typeof\":61}],8:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = _dereq_('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = _dereq_('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = _dereq_('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = _dereq_('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = _dereq_('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _EventEmitter2 = _dereq_('./EventEmitter');\n\nvar _EventEmitter3 = _interopRequireDefault(_EventEmitter2);\n\nvar _CoreManager = _dereq_('./CoreManager');\n\nvar _CoreManager2 = _interopRequireDefault(_CoreManager);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Creates a new LiveQuery Subscription.\n * Extends events.EventEmitter\n * <a href=\"https://nodejs.org/api/events.html#events_class_eventemitter\">cloud functions</a>.\n * \n * @constructor\n * @param {string} id - subscription id\n * @param {string} query - query to subscribe to\n * @param {string} sessionToken - optional session token\n *\n * <p>Open Event - When you call query.subscribe(), we send a subscribe request to \n * the LiveQuery server, when we get the confirmation from the LiveQuery server,\n * this event will be emitted. When the client loses WebSocket connection to the\n * LiveQuery server, we will try to auto reconnect the LiveQuery server. If we\n * reconnect the LiveQuery server and successfully resubscribe the ParseQuery,\n * you'll also get this event.\n * \n * <pre>\n * subscription.on('open', () => {\n * \n * });</pre></p>\n *\n * <p>Create Event - When a new ParseObject is created and it fulfills the ParseQuery you subscribe,\n * you'll get this event. The object is the ParseObject which is created.\n * \n * <pre>\n * subscription.on('create', (object) => {\n * \n * });</pre></p>\n *\n * <p>Update Event - When an existing ParseObject which fulfills the ParseQuery you subscribe \n * is updated (The ParseObject fulfills the ParseQuery before and after changes),\n * you'll get this event. The object is the ParseObject which is updated.\n * Its content is the latest value of the ParseObject.\n * \n * <pre>\n * subscription.on('update', (object) => {\n * \n * });</pre></p>\n * \n * <p>Enter Event - When an existing ParseObject's old value doesn't fulfill the ParseQuery\n * but its new value fulfills the ParseQuery, you'll get this event. The object is the\n * ParseObject which enters the ParseQuery. Its content is the latest value of the ParseObject.\n * \n * <pre>\n * subscription.on('enter', (object) => {\n * \n * });</pre></p>\n *\n *\n * <p>Update Event - When an existing ParseObject's old value fulfills the ParseQuery but its new value\n * doesn't fulfill the ParseQuery, you'll get this event. The object is the ParseObject\n * which leaves the ParseQuery. Its content is the latest value of the ParseObject.\n * \n * <pre>\n * subscription.on('leave', (object) => {\n * \n * });</pre></p>\n *\n *\n * <p>Delete Event - When an existing ParseObject which fulfills the ParseQuery is deleted, you'll\n * get this event. The object is the ParseObject which is deleted.\n * \n * <pre>\n * subscription.on('delete', (object) => {\n * \n * });</pre></p>\n *\n *\n * <p>Close Event - When the client loses the WebSocket connection to the LiveQuery\n * server and we stop receiving events, you'll get this event.\n * \n * <pre>\n * subscription.on('close', () => {\n * \n * });</pre></p>\n *\n * \n */\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\nvar Subscription = function (_EventEmitter) {\n  (0, _inherits3.default)(Subscription, _EventEmitter);\n\n  function Subscription(id, query, sessionToken) {\n    (0, _classCallCheck3.default)(this, Subscription);\n\n    var _this2 = (0, _possibleConstructorReturn3.default)(this, (Subscription.__proto__ || (0, _getPrototypeOf2.default)(Subscription)).call(this));\n\n    _this2.id = id;\n    _this2.query = query;\n    _this2.sessionToken = sessionToken;\n    return _this2;\n  }\n\n  /**\n   * @method unsubscribe\n   */\n\n  (0, _createClass3.default)(Subscription, [{\n    key: 'unsubscribe',\n    value: function () {\n      var _this3 = this;\n\n      var _this = this;\n      _CoreManager2.default.getLiveQueryController().getDefaultLiveQueryClient().then(function (liveQueryClient) {\n        liveQueryClient.unsubscribe(_this);\n        _this.emit('close');\n        _this3.resolve();\n      });\n    }\n  }]);\n  return Subscription;\n}(_EventEmitter3.default);\n\nexports.default = Subscription;\n},{\"./CoreManager\":3,\"./EventEmitter\":4,\"babel-runtime/core-js/object/get-prototype-of\":50,\"babel-runtime/helpers/classCallCheck\":56,\"babel-runtime/helpers/createClass\":57,\"babel-runtime/helpers/inherits\":59,\"babel-runtime/helpers/possibleConstructorReturn\":60}],9:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _stringify = _dereq_('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _typeof2 = _dereq_('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.defaultState = defaultState;\nexports.setServerData = setServerData;\nexports.setPendingOp = setPendingOp;\nexports.pushPendingState = pushPendingState;\nexports.popPendingState = popPendingState;\nexports.mergeFirstPendingState = mergeFirstPendingState;\nexports.estimateAttribute = estimateAttribute;\nexports.estimateAttributes = estimateAttributes;\nexports.commitServerChanges = commitServerChanges;\n\nvar _encode = _dereq_('./encode');\n\nvar _encode2 = _interopRequireDefault(_encode);\n\nvar _ParseFile = _dereq_('./ParseFile');\n\nvar _ParseFile2 = _interopRequireDefault(_ParseFile);\n\nvar _ParseObject = _dereq_('./ParseObject');\n\nvar _ParseObject2 = _interopRequireDefault(_ParseObject);\n\nvar _ParsePromise = _dereq_('./ParsePromise');\n\nvar _ParsePromise2 = _interopRequireDefault(_ParsePromise);\n\nvar _ParseRelation = _dereq_('./ParseRelation');\n\nvar _ParseRelation2 = _interopRequireDefault(_ParseRelation);\n\nvar _TaskQueue = _dereq_('./TaskQueue');\n\nvar _TaskQueue2 = _interopRequireDefault(_TaskQueue);\n\nvar _ParseOp = _dereq_('./ParseOp');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction defaultState() {\n  return {\n    serverData: {},\n    pendingOps: [{}],\n    objectCache: {},\n    tasks: new _TaskQueue2.default(),\n    existed: false\n  };\n} /**\n   * Copyright (c) 2015-present, Parse, LLC.\n   * All rights reserved.\n   *\n   * This source code is licensed under the BSD-style license found in the\n   * LICENSE file in the root directory of this source tree. An additional grant\n   * of patent rights can be found in the PATENTS file in the same directory.\n   *\n   * \n   */\n\nfunction setServerData(serverData, attributes) {\n  for (var _attr in attributes) {\n    if (typeof attributes[_attr] !== 'undefined') {\n      serverData[_attr] = attributes[_attr];\n    } else {\n      delete serverData[_attr];\n    }\n  }\n}\n\nfunction setPendingOp(pendingOps, attr, op) {\n  var last = pendingOps.length - 1;\n  if (op) {\n    pendingOps[last][attr] = op;\n  } else {\n    delete pendingOps[last][attr];\n  }\n}\n\nfunction pushPendingState(pendingOps) {\n  pendingOps.push({});\n}\n\nfunction popPendingState(pendingOps) {\n  var first = pendingOps.shift();\n  if (!pendingOps.length) {\n    pendingOps[0] = {};\n  }\n  return first;\n}\n\nfunction mergeFirstPendingState(pendingOps) {\n  var first = popPendingState(pendingOps);\n  var next = pendingOps[0];\n  for (var _attr2 in first) {\n    if (next[_attr2] && first[_attr2]) {\n      var merged = next[_attr2].mergeWith(first[_attr2]);\n      if (merged) {\n        next[_attr2] = merged;\n      }\n    } else {\n      next[_attr2] = first[_attr2];\n    }\n  }\n}\n\nfunction estimateAttribute(serverData, pendingOps, className, id, attr) {\n  var value = serverData[attr];\n  for (var i = 0; i < pendingOps.length; i++) {\n    if (pendingOps[i][attr]) {\n      if (pendingOps[i][attr] instanceof _ParseOp.RelationOp) {\n        if (id) {\n          value = pendingOps[i][attr].applyTo(value, { className: className, id: id }, attr);\n        }\n      } else {\n        value = pendingOps[i][attr].applyTo(value);\n      }\n    }\n  }\n  return value;\n}\n\nfunction estimateAttributes(serverData, pendingOps, className, id) {\n  var data = {};\n  var attr = void 0;\n  for (attr in serverData) {\n    data[attr] = serverData[attr];\n  }\n  for (var i = 0; i < pendingOps.length; i++) {\n    for (attr in pendingOps[i]) {\n      if (pendingOps[i][attr] instanceof _ParseOp.RelationOp) {\n        if (id) {\n          data[attr] = pendingOps[i][attr].applyTo(data[attr], { className: className, id: id }, attr);\n        }\n      } else {\n        data[attr] = pendingOps[i][attr].applyTo(data[attr]);\n      }\n    }\n  }\n  return data;\n}\n\nfunction commitServerChanges(serverData, objectCache, changes) {\n  for (var _attr3 in changes) {\n    var val = changes[_attr3];\n    serverData[_attr3] = val;\n    if (val && (typeof val === 'undefined' ? 'undefined' : (0, _typeof3.default)(val)) === 'object' && !(val instanceof _ParseObject2.default) && !(val instanceof _ParseFile2.default) && !(val instanceof _ParseRelation2.default)) {\n      var json = (0, _encode2.default)(val, false, true);\n      objectCache[_attr3] = (0, _stringify2.default)(json);\n    }\n  }\n}\n},{\"./ParseFile\":14,\"./ParseObject\":18,\"./ParseOp\":19,\"./ParsePromise\":20,\"./ParseRelation\":22,\"./TaskQueue\":31,\"./encode\":36,\"babel-runtime/core-js/json/stringify\":44,\"babel-runtime/helpers/typeof\":61}],10:[function(_dereq_,module,exports){\n'use strict';\n\nvar _decode = _dereq_('./decode');\n\nvar _decode2 = _interopRequireDefault(_decode);\n\nvar _encode = _dereq_('./encode');\n\nvar _encode2 = _interopRequireDefault(_encode);\n\nvar _CoreManager = _dereq_('./CoreManager');\n\nvar _CoreManager2 = _interopRequireDefault(_CoreManager);\n\nvar _InstallationController = _dereq_('./InstallationController');\n\nvar _InstallationController2 = _interopRequireDefault(_InstallationController);\n\nvar _ParseOp = _dereq_('./ParseOp');\n\nvar ParseOp = _interopRequireWildcard(_ParseOp);\n\nvar _RESTController = _dereq_('./RESTController');\n\nvar _RESTController2 = _interopRequireDefault(_RESTController);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }newObj.default = obj;return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Contains all Parse API classes and functions.\n * @class Parse\n * @static\n */\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\nvar Parse = {\n  /**\n   * Call this method first to set up your authentication tokens for Parse.\n   * You can get your keys from the Data Browser on parse.com.\n   * @method initialize\n   * @param {String} applicationId Your Parse Application ID.\n   * @param {String} javaScriptKey (optional) Your Parse JavaScript Key (Not needed for parse-server)\n   * @param {String} masterKey (optional) Your Parse Master Key. (Node.js only!)\n   * @static\n   */\n  initialize: function (applicationId, javaScriptKey) {\n    if ('browser' === 'browser' && _CoreManager2.default.get('IS_NODE')) {\n      console.log('It looks like you\\'re using the browser version of the SDK in a ' + 'node.js environment. You should require(\\'parse/node\\') instead.');\n    }\n    Parse._initialize(applicationId, javaScriptKey);\n  },\n  _initialize: function (applicationId, javaScriptKey, masterKey) {\n    _CoreManager2.default.set('APPLICATION_ID', applicationId);\n    _CoreManager2.default.set('JAVASCRIPT_KEY', javaScriptKey);\n    _CoreManager2.default.set('MASTER_KEY', masterKey);\n    _CoreManager2.default.set('USE_MASTER_KEY', false);\n  }\n};\n\n/** These legacy setters may eventually be deprecated **/\nObject.defineProperty(Parse, 'applicationId', {\n  get: function () {\n    return _CoreManager2.default.get('APPLICATION_ID');\n  },\n  set: function (value) {\n    _CoreManager2.default.set('APPLICATION_ID', value);\n  }\n});\nObject.defineProperty(Parse, 'javaScriptKey', {\n  get: function () {\n    return _CoreManager2.default.get('JAVASCRIPT_KEY');\n  },\n  set: function (value) {\n    _CoreManager2.default.set('JAVASCRIPT_KEY', value);\n  }\n});\nObject.defineProperty(Parse, 'masterKey', {\n  get: function () {\n    return _CoreManager2.default.get('MASTER_KEY');\n  },\n  set: function (value) {\n    _CoreManager2.default.set('MASTER_KEY', value);\n  }\n});\nObject.defineProperty(Parse, 'serverURL', {\n  get: function () {\n    return _CoreManager2.default.get('SERVER_URL');\n  },\n  set: function (value) {\n    _CoreManager2.default.set('SERVER_URL', value);\n  }\n});\nObject.defineProperty(Parse, 'liveQueryServerURL', {\n  get: function () {\n    return _CoreManager2.default.get('LIVEQUERY_SERVER_URL');\n  },\n  set: function (value) {\n    _CoreManager2.default.set('LIVEQUERY_SERVER_URL', value);\n  }\n});\n/** End setters **/\n\nParse.ACL = _dereq_('./ParseACL').default;\nParse.Analytics = _dereq_('./Analytics');\nParse.Cloud = _dereq_('./Cloud');\nParse.CoreManager = _dereq_('./CoreManager');\nParse.Config = _dereq_('./ParseConfig').default;\nParse.Error = _dereq_('./ParseError').default;\nParse.FacebookUtils = _dereq_('./FacebookUtils').default;\nParse.File = _dereq_('./ParseFile').default;\nParse.GeoPoint = _dereq_('./ParseGeoPoint').default;\nParse.Installation = _dereq_('./ParseInstallation').default;\nParse.Object = _dereq_('./ParseObject').default;\nParse.Op = {\n  Set: ParseOp.SetOp,\n  Unset: ParseOp.UnsetOp,\n  Increment: ParseOp.IncrementOp,\n  Add: ParseOp.AddOp,\n  Remove: ParseOp.RemoveOp,\n  AddUnique: ParseOp.AddUniqueOp,\n  Relation: ParseOp.RelationOp\n};\nParse.Promise = _dereq_('./ParsePromise').default;\nParse.Push = _dereq_('./Push');\nParse.Query = _dereq_('./ParseQuery').default;\nParse.Relation = _dereq_('./ParseRelation').default;\nParse.Role = _dereq_('./ParseRole').default;\nParse.Session = _dereq_('./ParseSession').default;\nParse.Storage = _dereq_('./Storage');\nParse.User = _dereq_('./ParseUser').default;\nParse.LiveQuery = _dereq_('./ParseLiveQuery').default;\nParse.LiveQueryClient = _dereq_('./LiveQueryClient').default;\n\nParse._request = function () {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return _CoreManager2.default.getRESTController().request.apply(null, args);\n};\nParse._ajax = function () {\n  for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  return _CoreManager2.default.getRESTController().ajax.apply(null, args);\n};\n// We attempt to match the signatures of the legacy versions of these methods\nParse._decode = function (_, value) {\n  return (0, _decode2.default)(value);\n};\nParse._encode = function (value, _, disallowObjects) {\n  return (0, _encode2.default)(value, disallowObjects);\n};\nParse._getInstallationId = function () {\n  return _CoreManager2.default.getInstallationController().currentInstallationId();\n};\n\n_CoreManager2.default.setInstallationController(_InstallationController2.default);\n_CoreManager2.default.setRESTController(_RESTController2.default);\n\n// For legacy requires, of the form `var Parse = require('parse').Parse`\nParse.Parse = Parse;\n\nmodule.exports = Parse;\n},{\"./Analytics\":1,\"./Cloud\":2,\"./CoreManager\":3,\"./FacebookUtils\":5,\"./InstallationController\":6,\"./LiveQueryClient\":7,\"./ParseACL\":11,\"./ParseConfig\":12,\"./ParseError\":13,\"./ParseFile\":14,\"./ParseGeoPoint\":15,\"./ParseInstallation\":16,\"./ParseLiveQuery\":17,\"./ParseObject\":18,\"./ParseOp\":19,\"./ParsePromise\":20,\"./ParseQuery\":21,\"./ParseRelation\":22,\"./ParseRole\":23,\"./ParseSession\":24,\"./ParseUser\":25,\"./Push\":26,\"./RESTController\":27,\"./Storage\":29,\"./decode\":35,\"./encode\":36}],11:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keys = _dereq_('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _typeof2 = _dereq_('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _classCallCheck2 = _dereq_('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = _dereq_('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _ParseRole = _dereq_('./ParseRole');\n\nvar _ParseRole2 = _interopRequireDefault(_ParseRole);\n\nvar _ParseUser = _dereq_('./ParseUser');\n\nvar _ParseUser2 = _interopRequireDefault(_ParseUser);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nvar PUBLIC_KEY = '*';\n\n/**\n * Creates a new ACL.\n * If no argument is given, the ACL has no permissions for anyone.\n * If the argument is a Parse.User, the ACL will have read and write\n *   permission for only that user.\n * If the argument is any other JSON object, that object will be interpretted\n *   as a serialized ACL created with toJSON().\n * @class Parse.ACL\n * @constructor\n *\n * <p>An ACL, or Access Control List can be added to any\n * <code>Parse.Object</code> to restrict access to only a subset of users\n * of your application.</p>\n */\n\nvar ParseACL = function () {\n  function ParseACL(arg1) {\n    (0, _classCallCheck3.default)(this, ParseACL);\n\n    this.permissionsById = {};\n    if (arg1 && (typeof arg1 === 'undefined' ? 'undefined' : (0, _typeof3.default)(arg1)) === 'object') {\n      if (arg1 instanceof _ParseUser2.default) {\n        this.setReadAccess(arg1, true);\n        this.setWriteAccess(arg1, true);\n      } else {\n        for (var userId in arg1) {\n          var accessList = arg1[userId];\n          if (typeof userId !== 'string') {\n            throw new TypeError('Tried to create an ACL with an invalid user id.');\n          }\n          this.permissionsById[userId] = {};\n          for (var permission in accessList) {\n            var allowed = accessList[permission];\n            if (permission !== 'read' && permission !== 'write') {\n              throw new TypeError('Tried to create an ACL with an invalid permission type.');\n            }\n            if (typeof allowed !== 'boolean') {\n              throw new TypeError('Tried to create an ACL with an invalid permission value.');\n            }\n            this.permissionsById[userId][permission] = allowed;\n          }\n        }\n      }\n    } else if (typeof arg1 === 'function') {\n      throw new TypeError('ParseACL constructed with a function. Did you forget ()?');\n    }\n  }\n\n  /**\n   * Returns a JSON-encoded version of the ACL.\n   * @method toJSON\n   * @return {Object}\n   */\n\n  (0, _createClass3.default)(ParseACL, [{\n    key: 'toJSON',\n    value: function () {\n      var permissions = {};\n      for (var p in this.permissionsById) {\n        permissions[p] = this.permissionsById[p];\n      }\n      return permissions;\n    }\n\n    /**\n     * Returns whether this ACL is equal to another object\n     * @method equals\n     * @param other The other object to compare to\n     * @return {Boolean}\n     */\n\n  }, {\n    key: 'equals',\n    value: function (other) {\n      if (!(other instanceof ParseACL)) {\n        return false;\n      }\n      var users = (0, _keys2.default)(this.permissionsById);\n      var otherUsers = (0, _keys2.default)(other.permissionsById);\n      if (users.length !== otherUsers.length) {\n        return false;\n      }\n      for (var u in this.permissionsById) {\n        if (!other.permissionsById[u]) {\n          return false;\n        }\n        if (this.permissionsById[u].read !== other.permissionsById[u].read) {\n          return false;\n        }\n        if (this.permissionsById[u].write !== other.permissionsById[u].write) {\n          return false;\n        }\n      }\n      return true;\n    }\n  }, {\n    key: '_setAccess',\n    value: function (accessType, userId, allowed) {\n      if (userId instanceof _ParseUser2.default) {\n        userId = userId.id;\n      } else if (userId instanceof _ParseRole2.default) {\n        var name = userId.getName();\n        if (!name) {\n          throw new TypeError('Role must have a name');\n        }\n        userId = 'role:' + name;\n      }\n      if (typeof userId !== 'string') {\n        throw new TypeError('userId must be a string.');\n      }\n      if (typeof allowed !== 'boolean') {\n        throw new TypeError('allowed must be either true or false.');\n      }\n      var permissions = this.permissionsById[userId];\n      if (!permissions) {\n        if (!allowed) {\n          // The user already doesn't have this permission, so no action is needed\n          return;\n        } else {\n          permissions = {};\n          this.permissionsById[userId] = permissions;\n        }\n      }\n\n      if (allowed) {\n        this.permissionsById[userId][accessType] = true;\n      } else {\n        delete permissions[accessType];\n        if ((0, _keys2.default)(permissions).length === 0) {\n          delete this.permissionsById[userId];\n        }\n      }\n    }\n  }, {\n    key: '_getAccess',\n    value: function (accessType, userId) {\n      if (userId instanceof _ParseUser2.default) {\n        userId = userId.id;\n        if (!userId) {\n          throw new Error('Cannot get access for a ParseUser without an ID');\n        }\n      } else if (userId instanceof _ParseRole2.default) {\n        var name = userId.getName();\n        if (!name) {\n          throw new TypeError('Role must have a name');\n        }\n        userId = 'role:' + name;\n      }\n      var permissions = this.permissionsById[userId];\n      if (!permissions) {\n        return false;\n      }\n      return !!permissions[accessType];\n    }\n\n    /**\n     * Sets whether the given user is allowed to read this object.\n     * @method setReadAccess\n     * @param userId An instance of Parse.User or its objectId.\n     * @param {Boolean} allowed Whether that user should have read access.\n     */\n\n  }, {\n    key: 'setReadAccess',\n    value: function (userId, allowed) {\n      this._setAccess('read', userId, allowed);\n    }\n\n    /**\n     * Get whether the given user id is *explicitly* allowed to read this object.\n     * Even if this returns false, the user may still be able to access it if\n     * getPublicReadAccess returns true or a role that the user belongs to has\n     * write access.\n     * @method getReadAccess\n     * @param userId An instance of Parse.User or its objectId, or a Parse.Role.\n     * @return {Boolean}\n     */\n\n  }, {\n    key: 'getReadAccess',\n    value: function (userId) {\n      return this._getAccess('read', userId);\n    }\n\n    /**\n     * Sets whether the given user id is allowed to write this object.\n     * @method setWriteAccess\n     * @param userId An instance of Parse.User or its objectId, or a Parse.Role..\n     * @param {Boolean} allowed Whether that user should have write access.\n     */\n\n  }, {\n    key: 'setWriteAccess',\n    value: function (userId, allowed) {\n      this._setAccess('write', userId, allowed);\n    }\n\n    /**\n     * Gets whether the given user id is *explicitly* allowed to write this object.\n     * Even if this returns false, the user may still be able to write it if\n     * getPublicWriteAccess returns true or a role that the user belongs to has\n     * write access.\n     * @method getWriteAccess\n     * @param userId An instance of Parse.User or its objectId, or a Parse.Role.\n     * @return {Boolean}\n     */\n\n  }, {\n    key: 'getWriteAccess',\n    value: function (userId) {\n      return this._getAccess('write', userId);\n    }\n\n    /**\n     * Sets whether the public is allowed to read this object.\n     * @method setPublicReadAccess\n     * @param {Boolean} allowed\n     */\n\n  }, {\n    key: 'setPublicReadAccess',\n    value: function (allowed) {\n      this.setReadAccess(PUBLIC_KEY, allowed);\n    }\n\n    /**\n     * Gets whether the public is allowed to read this object.\n     * @method getPublicReadAccess\n     * @return {Boolean}\n     */\n\n  }, {\n    key: 'getPublicReadAccess',\n    value: function () {\n      return this.getReadAccess(PUBLIC_KEY);\n    }\n\n    /**\n     * Sets whether the public is allowed to write this object.\n     * @method setPublicWriteAccess\n     * @param {Boolean} allowed\n     */\n\n  }, {\n    key: 'setPublicWriteAccess',\n    value: function (allowed) {\n      this.setWriteAccess(PUBLIC_KEY, allowed);\n    }\n\n    /**\n     * Gets whether the public is allowed to write this object.\n     * @method getPublicWriteAccess\n     * @return {Boolean}\n     */\n\n  }, {\n    key: 'getPublicWriteAccess',\n    value: function () {\n      return this.getWriteAccess(PUBLIC_KEY);\n    }\n\n    /**\n     * Gets whether users belonging to the given role are allowed\n     * to read this object. Even if this returns false, the role may\n     * still be able to write it if a parent role has read access.\n     *\n     * @method getRoleReadAccess\n     * @param role The name of the role, or a Parse.Role object.\n     * @return {Boolean} true if the role has read access. false otherwise.\n     * @throws {TypeError} If role is neither a Parse.Role nor a String.\n     */\n\n  }, {\n    key: 'getRoleReadAccess',\n    value: function (role) {\n      if (role instanceof _ParseRole2.default) {\n        // Normalize to the String name\n        role = role.getName();\n      }\n      if (typeof role !== 'string') {\n        throw new TypeError('role must be a ParseRole or a String');\n      }\n      return this.getReadAccess('role:' + role);\n    }\n\n    /**\n     * Gets whether users belonging to the given role are allowed\n     * to write this object. Even if this returns false, the role may\n     * still be able to write it if a parent role has write access.\n     *\n     * @method getRoleWriteAccess\n     * @param role The name of the role, or a Parse.Role object.\n     * @return {Boolean} true if the role has write access. false otherwise.\n     * @throws {TypeError} If role is neither a Parse.Role nor a String.\n     */\n\n  }, {\n    key: 'getRoleWriteAccess',\n    value: function (role) {\n      if (role instanceof _ParseRole2.default) {\n        // Normalize to the String name\n        role = role.getName();\n      }\n      if (typeof role !== 'string') {\n        throw new TypeError('role must be a ParseRole or a String');\n      }\n      return this.getWriteAccess('role:' + role);\n    }\n\n    /**\n     * Sets whether users belonging to the given role are allowed\n     * to read this object.\n     *\n     * @method setRoleReadAccess\n     * @param role The name of the role, or a Parse.Role object.\n     * @param {Boolean} allowed Whether the given role can read this object.\n     * @throws {TypeError} If role is neither a Parse.Role nor a String.\n     */\n\n  }, {\n    key: 'setRoleReadAccess',\n    value: function (role, allowed) {\n      if (role instanceof _ParseRole2.default) {\n        // Normalize to the String name\n        role = role.getName();\n      }\n      if (typeof role !== 'string') {\n        throw new TypeError('role must be a ParseRole or a String');\n      }\n      this.setReadAccess('role:' + role, allowed);\n    }\n\n    /**\n     * Sets whether users belonging to the given role are allowed\n     * to write this object.\n     *\n     * @method setRoleWriteAccess\n     * @param role The name of the role, or a Parse.Role object.\n     * @param {Boolean} allowed Whether the given role can write this object.\n     * @throws {TypeError} If role is neither a Parse.Role nor a String.\n     */\n\n  }, {\n    key: 'setRoleWriteAccess',\n    value: function (role, allowed) {\n      if (role instanceof _ParseRole2.default) {\n        // Normalize to the String name\n        role = role.getName();\n      }\n      if (typeof role !== 'string') {\n        throw new TypeError('role must be a ParseRole or a String');\n      }\n      this.setWriteAccess('role:' + role, allowed);\n    }\n  }]);\n  return ParseACL;\n}();\n\nexports.default = ParseACL;\n},{\"./ParseRole\":23,\"./ParseUser\":25,\"babel-runtime/core-js/object/keys\":51,\"babel-runtime/helpers/classCallCheck\":56,\"babel-runtime/helpers/createClass\":57,\"babel-runtime/helpers/typeof\":61}],12:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _stringify = _dereq_('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _typeof2 = _dereq_('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _classCallCheck2 = _dereq_('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = _dereq_('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _CoreManager = _dereq_('./CoreManager');\n\nvar _CoreManager2 = _interopRequireDefault(_CoreManager);\n\nvar _decode = _dereq_('./decode');\n\nvar _decode2 = _interopRequireDefault(_decode);\n\nvar _encode = _dereq_('./encode');\n\nvar _encode2 = _interopRequireDefault(_encode);\n\nvar _escape2 = _dereq_('./escape');\n\nvar _escape3 = _interopRequireDefault(_escape2);\n\nvar _ParseError = _dereq_('./ParseError');\n\nvar _ParseError2 = _interopRequireDefault(_ParseError);\n\nvar _ParsePromise = _dereq_('./ParsePromise');\n\nvar _ParsePromise2 = _interopRequireDefault(_ParsePromise);\n\nvar _Storage = _dereq_('./Storage');\n\nvar _Storage2 = _interopRequireDefault(_Storage);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Parse.Config is a local representation of configuration data that\n * can be set from the Parse dashboard.\n *\n * @class Parse.Config\n * @constructor\n */\n\nvar ParseConfig = function () {\n  function ParseConfig() {\n    (0, _classCallCheck3.default)(this, ParseConfig);\n\n    this.attributes = {};\n    this._escapedAttributes = {};\n  }\n\n  /**\n   * Gets the value of an attribute.\n   * @method get\n   * @param {String} attr The name of an attribute.\n   */\n\n  (0, _createClass3.default)(ParseConfig, [{\n    key: 'get',\n    value: function (attr) {\n      return this.attributes[attr];\n    }\n\n    /**\n     * Gets the HTML-escaped value of an attribute.\n     * @method escape\n     * @param {String} attr The name of an attribute.\n     */\n\n  }, {\n    key: 'escape',\n    value: function (attr) {\n      var html = this._escapedAttributes[attr];\n      if (html) {\n        return html;\n      }\n      var val = this.attributes[attr];\n      var escaped = '';\n      if (val != null) {\n        escaped = (0, _escape3.default)(val.toString());\n      }\n      this._escapedAttributes[attr] = escaped;\n      return escaped;\n    }\n\n    /**\n     * Retrieves the most recently-fetched configuration object, either from\n     * memory or from local storage if necessary.\n     *\n     * @method current\n     * @static\n     * @return {Config} The most recently-fetched Parse.Config if it\n     *     exists, else an empty Parse.Config.\n     */\n\n  }], [{\n    key: 'current',\n    value: function () {\n      var controller = _CoreManager2.default.getConfigController();\n      return controller.current();\n    }\n\n    /**\n     * Gets a new configuration object from the server.\n     * @method get\n     * @static\n     * @param {Object} options A Backbone-style options object.\n     * Valid options are:<ul>\n     *   <li>success: Function to call when the get completes successfully.\n     *   <li>error: Function to call when the get fails.\n     * </ul>\n     * @return {Parse.Promise} A promise that is resolved with a newly-created\n     *     configuration object when the get completes.\n     */\n\n  }, {\n    key: 'get',\n    value: function (options) {\n      options = options || {};\n\n      var controller = _CoreManager2.default.getConfigController();\n      return controller.get()._thenRunCallbacks(options);\n    }\n  }]);\n  return ParseConfig;\n}(); /**\n      * Copyright (c) 2015-present, Parse, LLC.\n      * All rights reserved.\n      *\n      * This source code is licensed under the BSD-style license found in the\n      * LICENSE file in the root directory of this source tree. An additional grant\n      * of patent rights can be found in the PATENTS file in the same directory.\n      *\n      * \n      */\n\nexports.default = ParseConfig;\n\nvar currentConfig = null;\n\nvar CURRENT_CONFIG_KEY = 'currentConfig';\n\nfunction decodePayload(data) {\n  try {\n    var json = JSON.parse(data);\n    if (json && (typeof json === 'undefined' ? 'undefined' : (0, _typeof3.default)(json)) === 'object') {\n      return (0, _decode2.default)(json);\n    }\n  } catch (e) {\n    return null;\n  }\n}\n\nvar DefaultController = {\n  current: function () {\n    if (currentConfig) {\n      return currentConfig;\n    }\n\n    var config = new ParseConfig();\n    var storagePath = _Storage2.default.generatePath(CURRENT_CONFIG_KEY);\n    var configData;\n    if (!_Storage2.default.async()) {\n      configData = _Storage2.default.getItem(storagePath);\n\n      if (configData) {\n        var attributes = decodePayload(configData);\n        if (attributes) {\n          config.attributes = attributes;\n          currentConfig = config;\n        }\n      }\n      return config;\n    }\n    // Return a promise for async storage controllers\n    return _Storage2.default.getItemAsync(storagePath).then(function (configData) {\n      if (configData) {\n        var attributes = decodePayload(configData);\n        if (attributes) {\n          config.attributes = attributes;\n          currentConfig = config;\n        }\n      }\n      return config;\n    });\n  },\n  get: function () {\n    var RESTController = _CoreManager2.default.getRESTController();\n\n    return RESTController.request('GET', 'config', {}, {}).then(function (response) {\n      if (!response || !response.params) {\n        var error = new _ParseError2.default(_ParseError2.default.INVALID_JSON, 'Config JSON response invalid.');\n        return _ParsePromise2.default.error(error);\n      }\n\n      var config = new ParseConfig();\n      config.attributes = {};\n      for (var attr in response.params) {\n        config.attributes[attr] = (0, _decode2.default)(response.params[attr]);\n      }\n      currentConfig = config;\n      return _Storage2.default.setItemAsync(_Storage2.default.generatePath(CURRENT_CONFIG_KEY), (0, _stringify2.default)(response.params)).then(function () {\n        return config;\n      });\n    });\n  }\n};\n\n_CoreManager2.default.setConfigController(DefaultController);\n},{\"./CoreManager\":3,\"./ParseError\":13,\"./ParsePromise\":20,\"./Storage\":29,\"./decode\":35,\"./encode\":36,\"./escape\":38,\"babel-runtime/core-js/json/stringify\":44,\"babel-runtime/helpers/classCallCheck\":56,\"babel-runtime/helpers/createClass\":57,\"babel-runtime/helpers/typeof\":61}],13:[function(_dereq_,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = _dereq_(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/**\n * Constructs a new Parse.Error object with the given code and message.\n * @class Parse.Error\n * @constructor\n * @param {Number} code An error code constant from <code>Parse.Error</code>.\n * @param {String} message A detailed description of the error.\n */\nvar ParseError = function ParseError(code, message) {\n  (0, _classCallCheck3.default)(this, ParseError);\n\n  this.code = code;\n  this.message = message;\n};\n\n/**\n * Error code indicating some error other than those enumerated here.\n * @property OTHER_CAUSE\n * @static\n * @final\n */\n\nexports.default = ParseError;\nParseError.OTHER_CAUSE = -1;\n\n/**\n * Error code indicating that something has gone wrong with the server.\n * If you get this error code, it is Parse's fault. Contact us at\n * https://parse.com/help\n * @property INTERNAL_SERVER_ERROR\n * @static\n * @final\n */\nParseError.INTERNAL_SERVER_ERROR = 1;\n\n/**\n * Error code indicating the connection to the Parse servers failed.\n * @property CONNECTION_FAILED\n * @static\n * @final\n */\nParseError.CONNECTION_FAILED = 100;\n\n/**\n * Error code indicating the specified object doesn't exist.\n * @property OBJECT_NOT_FOUND\n * @static\n * @final\n */\nParseError.OBJECT_NOT_FOUND = 101;\n\n/**\n * Error code indicating you tried to query with a datatype that doesn't\n * support it, like exact matching an array or object.\n * @property INVALID_QUERY\n * @static\n * @final\n */\nParseError.INVALID_QUERY = 102;\n\n/**\n * Error code indicating a missing or invalid classname. Classnames are\n * case-sensitive. They must start with a letter, and a-zA-Z0-9_ are the\n * only valid characters.\n * @property INVALID_CLASS_NAME\n * @static\n * @final\n */\nParseError.INVALID_CLASS_NAME = 103;\n\n/**\n * Error code indicating an unspecified object id.\n * @property MISSING_OBJECT_ID\n * @static\n * @final\n */\nParseError.MISSING_OBJECT_ID = 104;\n\n/**\n * Error code indicating an invalid key name. Keys are case-sensitive. They\n * must start with a letter, and a-zA-Z0-9_ are the only valid characters.\n * @property INVALID_KEY_NAME\n * @static\n * @final\n */\nParseError.INVALID_KEY_NAME = 105;\n\n/**\n * Error code indicating a malformed pointer. You should not see this unless\n * you have been mucking about changing internal Parse code.\n * @property INVALID_POINTER\n * @static\n * @final\n */\nParseError.INVALID_POINTER = 106;\n\n/**\n * Error code indicating that badly formed JSON was received upstream. This\n * either indicates you have done something unusual with modifying how\n * things encode to JSON, or the network is failing badly.\n * @property INVALID_JSON\n * @static\n * @final\n */\nParseError.INVALID_JSON = 107;\n\n/**\n * Error code indicating that the feature you tried to access is only\n * available internally for testing purposes.\n * @property COMMAND_UNAVAILABLE\n * @static\n * @final\n */\nParseError.COMMAND_UNAVAILABLE = 108;\n\n/**\n * You must call Parse.initialize before using the Parse library.\n * @property NOT_INITIALIZED\n * @static\n * @final\n */\nParseError.NOT_INITIALIZED = 109;\n\n/**\n * Error code indicating that a field was set to an inconsistent type.\n * @property INCORRECT_TYPE\n * @static\n * @final\n */\nParseError.INCORRECT_TYPE = 111;\n\n/**\n * Error code indicating an invalid channel name. A channel name is either\n * an empty string (the broadcast channel) or contains only a-zA-Z0-9_\n * characters and starts with a letter.\n * @property INVALID_CHANNEL_NAME\n * @static\n * @final\n */\nParseError.INVALID_CHANNEL_NAME = 112;\n\n/**\n * Error code indicating that push is misconfigured.\n * @property PUSH_MISCONFIGURED\n * @static\n * @final\n */\nParseError.PUSH_MISCONFIGURED = 115;\n\n/**\n * Error code indicating that the object is too large.\n * @property OBJECT_TOO_LARGE\n * @static\n * @final\n */\nParseError.OBJECT_TOO_LARGE = 116;\n\n/**\n * Error code indicating that the operation isn't allowed for clients.\n * @property OPERATION_FORBIDDEN\n * @static\n * @final\n */\nParseError.OPERATION_FORBIDDEN = 119;\n\n/**\n * Error code indicating the result was not found in the cache.\n * @property CACHE_MISS\n * @static\n * @final\n */\nParseError.CACHE_MISS = 120;\n\n/**\n * Error code indicating that an invalid key was used in a nested\n * JSONObject.\n * @property INVALID_NESTED_KEY\n * @static\n * @final\n */\nParseError.INVALID_NESTED_KEY = 121;\n\n/**\n * Error code indicating that an invalid filename was used for ParseFile.\n * A valid file name contains only a-zA-Z0-9_. characters and is between 1\n * and 128 characters.\n * @property INVALID_FILE_NAME\n * @static\n * @final\n */\nParseError.INVALID_FILE_NAME = 122;\n\n/**\n * Error code indicating an invalid ACL was provided.\n * @property INVALID_ACL\n * @static\n * @final\n */\nParseError.INVALID_ACL = 123;\n\n/**\n * Error code indicating that the request timed out on the server. Typically\n * this indicates that the request is too expensive to run.\n * @property TIMEOUT\n * @static\n * @final\n */\nParseError.TIMEOUT = 124;\n\n/**\n * Error code indicating that the email address was invalid.\n * @property INVALID_EMAIL_ADDRESS\n * @static\n * @final\n */\nParseError.INVALID_EMAIL_ADDRESS = 125;\n\n/**\n * Error code indicating a missing content type.\n * @property MISSING_CONTENT_TYPE\n * @static\n * @final\n */\nParseError.MISSING_CONTENT_TYPE = 126;\n\n/**\n * Error code indicating a missing content length.\n * @property MISSING_CONTENT_LENGTH\n * @static\n * @final\n */\nParseError.MISSING_CONTENT_LENGTH = 127;\n\n/**\n * Error code indicating an invalid content length.\n * @property INVALID_CONTENT_LENGTH\n * @static\n * @final\n */\nParseError.INVALID_CONTENT_LENGTH = 128;\n\n/**\n * Error code indicating a file that was too large.\n * @property FILE_TOO_LARGE\n * @static\n * @final\n */\nParseError.FILE_TOO_LARGE = 129;\n\n/**\n * Error code indicating an error saving a file.\n * @property FILE_SAVE_ERROR\n * @static\n * @final\n */\nParseError.FILE_SAVE_ERROR = 130;\n\n/**\n * Error code indicating that a unique field was given a value that is\n * already taken.\n * @property DUPLICATE_VALUE\n * @static\n * @final\n */\nParseError.DUPLICATE_VALUE = 137;\n\n/**\n * Error code indicating that a role's name is invalid.\n * @property INVALID_ROLE_NAME\n * @static\n * @final\n */\nParseError.INVALID_ROLE_NAME = 139;\n\n/**\n * Error code indicating that an application quota was exceeded.  Upgrade to\n * resolve.\n * @property EXCEEDED_QUOTA\n * @static\n * @final\n */\nParseError.EXCEEDED_QUOTA = 140;\n\n/**\n * Error code indicating that a Cloud Code script failed.\n * @property SCRIPT_FAILED\n * @static\n * @final\n */\nParseError.SCRIPT_FAILED = 141;\n\n/**\n * Error code indicating that a Cloud Code validation failed.\n * @property VALIDATION_ERROR\n * @static\n * @final\n */\nParseError.VALIDATION_ERROR = 142;\n\n/**\n * Error code indicating that invalid image data was provided.\n * @property INVALID_IMAGE_DATA\n * @static\n * @final\n */\nParseError.INVALID_IMAGE_DATA = 143;\n\n/**\n * Error code indicating an unsaved file.\n * @property UNSAVED_FILE_ERROR\n * @static\n * @final\n */\nParseError.UNSAVED_FILE_ERROR = 151;\n\n/**\n * Error code indicating an invalid push time.\n * @property INVALID_PUSH_TIME_ERROR\n * @static\n * @final\n */\nParseError.INVALID_PUSH_TIME_ERROR = 152;\n\n/**\n * Error code indicating an error deleting a file.\n * @property FILE_DELETE_ERROR\n * @static\n * @final\n */\nParseError.FILE_DELETE_ERROR = 153;\n\n/**\n * Error code indicating that the application has exceeded its request\n * limit.\n * @property REQUEST_LIMIT_EXCEEDED\n * @static\n * @final\n */\nParseError.REQUEST_LIMIT_EXCEEDED = 155;\n\n/**\n * Error code indicating an invalid event name.\n * @property INVALID_EVENT_NAME\n * @static\n * @final\n */\nParseError.INVALID_EVENT_NAME = 160;\n\n/**\n * Error code indicating that the username is missing or empty.\n * @property USERNAME_MISSING\n * @static\n * @final\n */\nParseError.USERNAME_MISSING = 200;\n\n/**\n * Error code indicating that the password is missing or empty.\n * @property PASSWORD_MISSING\n * @static\n * @final\n */\nParseError.PASSWORD_MISSING = 201;\n\n/**\n * Error code indicating that the username has already been taken.\n * @property USERNAME_TAKEN\n * @static\n * @final\n */\nParseError.USERNAME_TAKEN = 202;\n\n/**\n * Error code indicating that the email has already been taken.\n * @property EMAIL_TAKEN\n * @static\n * @final\n */\nParseError.EMAIL_TAKEN = 203;\n\n/**\n * Error code indicating that the email is missing, but must be specified.\n * @property EMAIL_MISSING\n * @static\n * @final\n */\nParseError.EMAIL_MISSING = 204;\n\n/**\n * Error code indicating that a user with the specified email was not found.\n * @property EMAIL_NOT_FOUND\n * @static\n * @final\n */\nParseError.EMAIL_NOT_FOUND = 205;\n\n/**\n * Error code indicating that a user object without a valid session could\n * not be altered.\n * @property SESSION_MISSING\n * @static\n * @final\n */\nParseError.SESSION_MISSING = 206;\n\n/**\n * Error code indicating that a user can only be created through signup.\n * @property MUST_CREATE_USER_THROUGH_SIGNUP\n * @static\n * @final\n */\nParseError.MUST_CREATE_USER_THROUGH_SIGNUP = 207;\n\n/**\n * Error code indicating that an an account being linked is already linked\n * to another user.\n * @property ACCOUNT_ALREADY_LINKED\n * @static\n * @final\n */\nParseError.ACCOUNT_ALREADY_LINKED = 208;\n\n/**\n * Error code indicating that the current session token is invalid.\n * @property INVALID_SESSION_TOKEN\n * @static\n * @final\n */\nParseError.INVALID_SESSION_TOKEN = 209;\n\n/**\n * Error code indicating that a user cannot be linked to an account because\n * that account's id could not be found.\n * @property LINKED_ID_MISSING\n * @static\n * @final\n */\nParseError.LINKED_ID_MISSING = 250;\n\n/**\n * Error code indicating that a user with a linked (e.g. Facebook) account\n * has an invalid session.\n * @property INVALID_LINKED_SESSION\n * @static\n * @final\n */\nParseError.INVALID_LINKED_SESSION = 251;\n\n/**\n * Error code indicating that a service being linked (e.g. Facebook or\n * Twitter) is unsupported.\n * @property UNSUPPORTED_SERVICE\n * @static\n * @final\n */\nParseError.UNSUPPORTED_SERVICE = 252;\n\n/**\n * Error code indicating that there were multiple errors. Aggregate errors\n * have an \"errors\" property, which is an array of error objects with more\n * detail about each error that occurred.\n * @property AGGREGATE_ERROR\n * @static\n * @final\n */\nParseError.AGGREGATE_ERROR = 600;\n\n/**\n * Error code indicating the client was unable to read an input file.\n * @property FILE_READ_ERROR\n * @static\n * @final\n */\nParseError.FILE_READ_ERROR = 601;\n\n/**\n * Error code indicating a real error code is unavailable because\n * we had to use an XDomainRequest object to allow CORS requests in\n * Internet Explorer, which strips the body from HTTP responses that have\n * a non-2XX status code.\n * @property X_DOMAIN_REQUEST\n * @static\n * @final\n */\nParseError.X_DOMAIN_REQUEST = 602;\n},{\"babel-runtime/helpers/classCallCheck\":56}],14:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = _dereq_('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = _dereq_('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _CoreManager = _dereq_('./CoreManager');\n\nvar _CoreManager2 = _interopRequireDefault(_CoreManager);\n\nvar _ParsePromise = _dereq_('./ParsePromise');\n\nvar _ParsePromise2 = _interopRequireDefault(_ParsePromise);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nvar dataUriRegexp = /^data:([a-zA-Z]*\\/[a-zA-Z+.-]*);(charset=[a-zA-Z0-9\\-\\/\\s]*,)?base64,/;\n\nfunction b64Digit(number) {\n  if (number < 26) {\n    return String.fromCharCode(65 + number);\n  }\n  if (number < 52) {\n    return String.fromCharCode(97 + (number - 26));\n  }\n  if (number < 62) {\n    return String.fromCharCode(48 + (number - 52));\n  }\n  if (number === 62) {\n    return '+';\n  }\n  if (number === 63) {\n    return '/';\n  }\n  throw new TypeError('Tried to encode large digit ' + number + ' in base64.');\n}\n\n/**\n * A Parse.File is a local representation of a file that is saved to the Parse\n * cloud.\n * @class Parse.File\n * @constructor\n * @param name {String} The file's name. This will be prefixed by a unique\n *     value once the file has finished saving. The file name must begin with\n *     an alphanumeric character, and consist of alphanumeric characters,\n *     periods, spaces, underscores, or dashes.\n * @param data {Array} The data for the file, as either:\n *     1. an Array of byte value Numbers, or\n *     2. an Object like { base64: \"...\" } with a base64-encoded String.\n *     3. a File object selected with a file upload control. (3) only works\n *        in Firefox 3.6+, Safari 6.0.2+, Chrome 7+, and IE 10+.\n *        For example:<pre>\n * var fileUploadControl = $(\"#profilePhotoFileUpload\")[0];\n * if (fileUploadControl.files.length > 0) {\n *   var file = fileUploadControl.files[0];\n *   var name = \"photo.jpg\";\n *   var parseFile = new Parse.File(name, file);\n *   parseFile.save().then(function() {\n *     // The file has been saved to Parse.\n *   }, function(error) {\n *     // The file either could not be read, or could not be saved to Parse.\n *   });\n * }</pre>\n * @param type {String} Optional Content-Type header to use for the file. If\n *     this is omitted, the content type will be inferred from the name's\n *     extension.\n */\n\nvar ParseFile = function () {\n  function ParseFile(name, data, type) {\n    (0, _classCallCheck3.default)(this, ParseFile);\n\n    var specifiedType = type || '';\n\n    this._name = name;\n\n    if (data !== undefined) {\n      if (Array.isArray(data)) {\n        this._source = {\n          format: 'base64',\n          base64: ParseFile.encodeBase64(data),\n          type: specifiedType\n        };\n      } else if (typeof File !== 'undefined' && data instanceof File) {\n        this._source = {\n          format: 'file',\n          file: data,\n          type: specifiedType\n        };\n      } else if (data && typeof data.base64 === 'string') {\n        var _base = data.base64;\n        var commaIndex = _base.indexOf(',');\n\n        if (commaIndex !== -1) {\n          var matches = dataUriRegexp.exec(_base.slice(0, commaIndex + 1));\n          // if data URI with type and charset, there will be 4 matches.\n          this._source = {\n            format: 'base64',\n            base64: _base.slice(commaIndex + 1),\n            type: matches[1]\n          };\n        } else {\n          this._source = {\n            format: 'base64',\n            base64: _base,\n            type: specifiedType\n          };\n        }\n      } else {\n        throw new TypeError('Cannot create a Parse.File with that data.');\n      }\n    }\n  }\n\n  /**\n   * Gets the name of the file. Before save is called, this is the filename\n   * given by the user. After save is called, that name gets prefixed with a\n   * unique identifier.\n   * @method name\n   * @return {String}\n   */\n\n  (0, _createClass3.default)(ParseFile, [{\n    key: 'name',\n    value: function () {\n      return this._name;\n    }\n\n    /**\n     * Gets the url of the file. It is only available after you save the file or\n     * after you get the file from a Parse.Object.\n     * @method url\n     * @param {Object} options An object to specify url options\n     * @return {String}\n     */\n\n  }, {\n    key: 'url',\n    value: function (options) {\n      options = options || {};\n      if (!this._url) {\n        return;\n      }\n      if (options.forceSecure) {\n        return this._url.replace(/^http:\\/\\//i, 'https://');\n      } else {\n        return this._url;\n      }\n    }\n\n    /**\n     * Saves the file to the Parse cloud.\n     * @method save\n     * @param {Object} options A Backbone-style options object.\n     * @return {Parse.Promise} Promise that is resolved when the save finishes.\n     */\n\n  }, {\n    key: 'save',\n    value: function (options) {\n      var _this = this;\n\n      options = options || {};\n      var controller = _CoreManager2.default.getFileController();\n      if (!this._previousSave) {\n        if (this._source.format === 'file') {\n          this._previousSave = controller.saveFile(this._name, this._source).then(function (res) {\n            _this._name = res.name;\n            _this._url = res.url;\n            return _this;\n          });\n        } else {\n          this._previousSave = controller.saveBase64(this._name, this._source).then(function (res) {\n            _this._name = res.name;\n            _this._url = res.url;\n            return _this;\n          });\n        }\n      }\n      if (this._previousSave) {\n        return this._previousSave._thenRunCallbacks(options);\n      }\n    }\n  }, {\n    key: 'toJSON',\n    value: function () {\n      return {\n        __type: 'File',\n        name: this._name,\n        url: this._url\n      };\n    }\n  }, {\n    key: 'equals',\n    value: function (other) {\n      if (this === other) {\n        return true;\n      }\n      // Unsaved Files are never equal, since they will be saved to different URLs\n      return other instanceof ParseFile && this.name() === other.name() && this.url() === other.url() && typeof this.url() !== 'undefined';\n    }\n  }], [{\n    key: 'fromJSON',\n    value: function (obj) {\n      if (obj.__type !== 'File') {\n        throw new TypeError('JSON object does not represent a ParseFile');\n      }\n      var file = new ParseFile(obj.name);\n      file._url = obj.url;\n      return file;\n    }\n  }, {\n    key: 'encodeBase64',\n    value: function (bytes) {\n      var chunks = [];\n      chunks.length = Math.ceil(bytes.length / 3);\n      for (var i = 0; i < chunks.length; i++) {\n        var b1 = bytes[i * 3];\n        var b2 = bytes[i * 3 + 1] || 0;\n        var b3 = bytes[i * 3 + 2] || 0;\n\n        var has2 = i * 3 + 1 < bytes.length;\n        var has3 = i * 3 + 2 < bytes.length;\n\n        chunks[i] = [b64Digit(b1 >> 2 & 0x3F), b64Digit(b1 << 4 & 0x30 | b2 >> 4 & 0x0F), has2 ? b64Digit(b2 << 2 & 0x3C | b3 >> 6 & 0x03) : '=', has3 ? b64Digit(b3 & 0x3F) : '='].join('');\n      }\n\n      return chunks.join('');\n    }\n  }]);\n  return ParseFile;\n}();\n\nexports.default = ParseFile;\n\nvar DefaultController = {\n  saveFile: function (name, source) {\n    if (source.format !== 'file') {\n      throw new Error('saveFile can only be used with File-type sources.');\n    }\n    // To directly upload a File, we use a REST-style AJAX request\n    var headers = {\n      'X-Parse-Application-ID': _CoreManager2.default.get('APPLICATION_ID'),\n      'X-Parse-JavaScript-Key': _CoreManager2.default.get('JAVASCRIPT_KEY'),\n      'Content-Type': source.type || (source.file ? source.file.type : null)\n    };\n    var url = _CoreManager2.default.get('SERVER_URL');\n    if (url[url.length - 1] !== '/') {\n      url += '/';\n    }\n    url += 'files/' + name;\n    return _CoreManager2.default.getRESTController().ajax('POST', url, source.file, headers);\n  },\n\n  saveBase64: function (name, source) {\n    if (source.format !== 'base64') {\n      throw new Error('saveBase64 can only be used with Base64-type sources.');\n    }\n    var data = {\n      base64: source.base64\n    };\n    if (source.type) {\n      data._ContentType = source.type;\n    }\n\n    return _CoreManager2.default.getRESTController().request('POST', 'files/' + name, data);\n  }\n};\n\n_CoreManager2.default.setFileController(DefaultController);\n},{\"./CoreManager\":3,\"./ParsePromise\":20,\"babel-runtime/helpers/classCallCheck\":56,\"babel-runtime/helpers/createClass\":57}],15:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = _dereq_('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _classCallCheck2 = _dereq_('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = _dereq_('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _ParsePromise = _dereq_('./ParsePromise');\n\nvar _ParsePromise2 = _interopRequireDefault(_ParsePromise);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Creates a new GeoPoint with any of the following forms:<br>\n *   <pre>\n *   new GeoPoint(otherGeoPoint)\n *   new GeoPoint(30, 30)\n *   new GeoPoint([30, 30])\n *   new GeoPoint({latitude: 30, longitude: 30})\n *   new GeoPoint()  // defaults to (0, 0)\n *   </pre>\n * @class Parse.GeoPoint\n * @constructor\n *\n * <p>Represents a latitude / longitude point that may be associated\n * with a key in a ParseObject or used as a reference point for geo queries.\n * This allows proximity-based queries on the key.</p>\n *\n * <p>Only one key in a class may contain a GeoPoint.</p>\n *\n * <p>Example:<pre>\n *   var point = new Parse.GeoPoint(30.0, -20.0);\n *   var object = new Parse.Object(\"PlaceObject\");\n *   object.set(\"location\", point);\n *   object.save();</pre></p>\n */\nvar ParseGeoPoint = function () {\n  function ParseGeoPoint(arg1, arg2) {\n    (0, _classCallCheck3.default)(this, ParseGeoPoint);\n\n    if (Array.isArray(arg1)) {\n      ParseGeoPoint._validate(arg1[0], arg1[1]);\n      this._latitude = arg1[0];\n      this._longitude = arg1[1];\n    } else if ((typeof arg1 === 'undefined' ? 'undefined' : (0, _typeof3.default)(arg1)) === 'object') {\n      ParseGeoPoint._validate(arg1.latitude, arg1.longitude);\n      this._latitude = arg1.latitude;\n      this._longitude = arg1.longitude;\n    } else if (typeof arg1 === 'number' && typeof arg2 === 'number') {\n      ParseGeoPoint._validate(arg1, arg2);\n      this._latitude = arg1;\n      this._longitude = arg2;\n    } else {\n      this._latitude = 0;\n      this._longitude = 0;\n    }\n  }\n\n  /**\n   * North-south portion of the coordinate, in range [-90, 90].\n   * Throws an exception if set out of range in a modern browser.\n   * @property latitude\n   * @type Number\n   */\n\n  (0, _createClass3.default)(ParseGeoPoint, [{\n    key: 'toJSON',\n\n    /**\n     * Returns a JSON representation of the GeoPoint, suitable for Parse.\n     * @method toJSON\n     * @return {Object}\n     */\n    value: function () {\n      ParseGeoPoint._validate(this._latitude, this._longitude);\n      return {\n        __type: 'GeoPoint',\n        latitude: this._latitude,\n        longitude: this._longitude\n      };\n    }\n  }, {\n    key: 'equals',\n    value: function (other) {\n      return other instanceof ParseGeoPoint && this.latitude === other.latitude && this.longitude === other.longitude;\n    }\n\n    /**\n     * Returns the distance from this GeoPoint to another in radians.\n     * @method radiansTo\n     * @param {Parse.GeoPoint} point the other Parse.GeoPoint.\n     * @return {Number}\n     */\n\n  }, {\n    key: 'radiansTo',\n    value: function (point) {\n      var d2r = Math.PI / 180.0;\n      var lat1rad = this.latitude * d2r;\n      var long1rad = this.longitude * d2r;\n      var lat2rad = point.latitude * d2r;\n      var long2rad = point.longitude * d2r;\n\n      var sinDeltaLatDiv2 = Math.sin((lat1rad - lat2rad) / 2);\n      var sinDeltaLongDiv2 = Math.sin((long1rad - long2rad) / 2);\n      // Square of half the straight line chord distance between both points.\n      var a = sinDeltaLatDiv2 * sinDeltaLatDiv2 + Math.cos(lat1rad) * Math.cos(lat2rad) * sinDeltaLongDiv2 * sinDeltaLongDiv2;\n      a = Math.min(1.0, a);\n      return 2 * Math.asin(Math.sqrt(a));\n    }\n\n    /**\n     * Returns the distance from this GeoPoint to another in kilometers.\n     * @method kilometersTo\n     * @param {Parse.GeoPoint} point the other Parse.GeoPoint.\n     * @return {Number}\n     */\n\n  }, {\n    key: 'kilometersTo',\n    value: function (point) {\n      return this.radiansTo(point) * 6371.0;\n    }\n\n    /**\n     * Returns the distance from this GeoPoint to another in miles.\n     * @method milesTo\n     * @param {Parse.GeoPoint} point the other Parse.GeoPoint.\n     * @return {Number}\n     */\n\n  }, {\n    key: 'milesTo',\n    value: function (point) {\n      return this.radiansTo(point) * 3958.8;\n    }\n\n    /**\n     * Throws an exception if the given lat-long is out of bounds.\n     */\n\n  }, {\n    key: 'latitude',\n    get: function () {\n      return this._latitude;\n    },\n    set: function (val) {\n      ParseGeoPoint._validate(val, this.longitude);\n      this._latitude = val;\n    }\n\n    /**\n     * East-west portion of the coordinate, in range [-180, 180].\n     * Throws if set out of range in a modern browser.\n     * @property longitude\n     * @type Number\n     */\n\n  }, {\n    key: 'longitude',\n    get: function () {\n      return this._longitude;\n    },\n    set: function (val) {\n      ParseGeoPoint._validate(this.latitude, val);\n      this._longitude = val;\n    }\n  }], [{\n    key: '_validate',\n    value: function (latitude, longitude) {\n      if (latitude !== latitude || longitude !== longitude) {\n        throw new TypeError('GeoPoint latitude and longitude must be valid numbers');\n      }\n      if (latitude < -90.0) {\n        throw new TypeError('GeoPoint latitude out of bounds: ' + latitude + ' < -90.0.');\n      }\n      if (latitude > 90.0) {\n        throw new TypeError('GeoPoint latitude out of bounds: ' + latitude + ' > 90.0.');\n      }\n      if (longitude < -180.0) {\n        throw new TypeError('GeoPoint longitude out of bounds: ' + longitude + ' < -180.0.');\n      }\n      if (longitude > 180.0) {\n        throw new TypeError('GeoPoint longitude out of bounds: ' + longitude + ' > 180.0.');\n      }\n    }\n\n    /**\n     * Creates a GeoPoint with the user's current location, if available.\n     * Calls options.success with a new GeoPoint instance or calls options.error.\n     * @method current\n     * @param {Object} options An object with success and error callbacks.\n     * @static\n     */\n\n  }, {\n    key: 'current',\n    value: function (options) {\n      var promise = new _ParsePromise2.default();\n      navigator.geolocation.getCurrentPosition(function (location) {\n        promise.resolve(new ParseGeoPoint(location.coords.latitude, location.coords.longitude));\n      }, function (error) {\n        promise.reject(error);\n      });\n\n      return promise._thenRunCallbacks(options);\n    }\n  }]);\n  return ParseGeoPoint;\n}(); /**\n      * Copyright (c) 2015-present, Parse, LLC.\n      * All rights reserved.\n      *\n      * This source code is licensed under the BSD-style license found in the\n      * LICENSE file in the root directory of this source tree. An additional grant\n      * of patent rights can be found in the PATENTS file in the same directory.\n      *\n      * \n      */\n\nexports.default = ParseGeoPoint;\n},{\"./ParsePromise\":20,\"babel-runtime/helpers/classCallCheck\":56,\"babel-runtime/helpers/createClass\":57,\"babel-runtime/helpers/typeof\":61}],16:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = _dereq_('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getPrototypeOf = _dereq_('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = _dereq_('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = _dereq_('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = _dereq_('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _ParseObject2 = _dereq_('./ParseObject');\n\nvar _ParseObject3 = _interopRequireDefault(_ParseObject2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar Installation = function (_ParseObject) {\n  (0, _inherits3.default)(Installation, _ParseObject);\n\n  function Installation(attributes) {\n    (0, _classCallCheck3.default)(this, Installation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Installation.__proto__ || (0, _getPrototypeOf2.default)(Installation)).call(this, '_Installation'));\n\n    if (attributes && (typeof attributes === 'undefined' ? 'undefined' : (0, _typeof3.default)(attributes)) === 'object') {\n      if (!_this.set(attributes || {})) {\n        throw new Error('Can\\'t create an invalid Session');\n      }\n    }\n    return _this;\n  }\n\n  return Installation;\n}(_ParseObject3.default); /**\n                           * Copyright (c) 2015-present, Parse, LLC.\n                           * All rights reserved.\n                           *\n                           * This source code is licensed under the BSD-style license found in the\n                           * LICENSE file in the root directory of this source tree. An additional grant\n                           * of patent rights can be found in the PATENTS file in the same directory.\n                           *\n                           * \n                           */\n\nexports.default = Installation;\n\n_ParseObject3.default.registerSubclass('_Installation', Installation);\n},{\"./ParseObject\":18,\"babel-runtime/core-js/object/get-prototype-of\":50,\"babel-runtime/helpers/classCallCheck\":56,\"babel-runtime/helpers/inherits\":59,\"babel-runtime/helpers/possibleConstructorReturn\":60,\"babel-runtime/helpers/typeof\":61}],17:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _EventEmitter = _dereq_('./EventEmitter');\n\nvar _EventEmitter2 = _interopRequireDefault(_EventEmitter);\n\nvar _LiveQueryClient = _dereq_('./LiveQueryClient');\n\nvar _LiveQueryClient2 = _interopRequireDefault(_LiveQueryClient);\n\nvar _CoreManager = _dereq_('./CoreManager');\n\nvar _CoreManager2 = _interopRequireDefault(_CoreManager);\n\nvar _ParsePromise = _dereq_('./ParsePromise');\n\nvar _ParsePromise2 = _interopRequireDefault(_ParsePromise);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nfunction open() {\n  var LiveQueryController = _CoreManager2.default.getLiveQueryController();\n  LiveQueryController.open();\n}\n\nfunction close() {\n  var LiveQueryController = _CoreManager2.default.getLiveQueryController();\n  LiveQueryController.close();\n}\n\n/**\n *\n * We expose three events to help you monitor the status of the WebSocket connection:\n *\n * <p>Open - When we establish the WebSocket connection to the LiveQuery server, you'll get this event.\n * \n * <pre>\n * Parse.LiveQuery.on('open', () => {\n * \n * });</pre></p>\n *\n * <p>Close - When we lose the WebSocket connection to the LiveQuery server, you'll get this event.\n * \n * <pre>\n * Parse.LiveQuery.on('close', () => {\n * \n * });</pre></p>\n *\n * <p>Error - When some network error or LiveQuery server error happens, you'll get this event.\n * \n * <pre>\n * Parse.LiveQuery.on('error', (error) => {\n * \n * });</pre></p>\n * \n * @class Parse.LiveQuery\n * @static\n * \n */\nvar LiveQuery = new _EventEmitter2.default();\n\n/**\n * After open is called, the LiveQuery will try to send a connect request\n * to the LiveQuery server.\n * \n * @method open\n */\nLiveQuery.open = open;\n\n/**\n * When you're done using LiveQuery, you can call Parse.LiveQuery.close().\n * This function will close the WebSocket connection to the LiveQuery server,\n * cancel the auto reconnect, and unsubscribe all subscriptions based on it.\n * If you call query.subscribe() after this, we'll create a new WebSocket\n * connection to the LiveQuery server.\n * \n * @method close\n */\n\nLiveQuery.close = close;\n// Register a default onError callback to make sure we do not crash on error\nLiveQuery.on('error', function () {});\n\nexports.default = LiveQuery;\n\nfunction getSessionToken() {\n  var controller = _CoreManager2.default.getUserController();\n  return controller.currentUserAsync().then(function (currentUser) {\n    return currentUser ? currentUser.getSessionToken() : undefined;\n  });\n}\n\nfunction getLiveQueryClient() {\n  return _CoreManager2.default.getLiveQueryController().getDefaultLiveQueryClient();\n}\n\nvar defaultLiveQueryClient = void 0;\nvar DefaultLiveQueryController = {\n  setDefaultLiveQueryClient: function (liveQueryClient) {\n    defaultLiveQueryClient = liveQueryClient;\n  },\n  getDefaultLiveQueryClient: function () {\n    if (defaultLiveQueryClient) {\n      return _ParsePromise2.default.as(defaultLiveQueryClient);\n    }\n\n    return getSessionToken().then(function (sessionToken) {\n      var liveQueryServerURL = _CoreManager2.default.get('LIVEQUERY_SERVER_URL');\n\n      if (liveQueryServerURL && liveQueryServerURL.indexOf('ws') !== 0) {\n        throw new Error('You need to set a proper Parse LiveQuery server url before using LiveQueryClient');\n      }\n\n      // If we can not find Parse.liveQueryServerURL, we try to extract it from Parse.serverURL\n      if (!liveQueryServerURL) {\n        var tempServerURL = _CoreManager2.default.get('SERVER_URL');\n        var protocol = 'ws://';\n        // If Parse is being served over SSL/HTTPS, ensure LiveQuery Server uses 'wss://' prefix\n        if (tempServerURL.indexOf('https') === 0) {\n          protocol = 'wss://';\n        }\n        var host = tempServerURL.replace(/^https?:\\/\\//, '');\n        liveQueryServerURL = protocol + host;\n        _CoreManager2.default.set('LIVEQUERY_SERVER_URL', liveQueryServerURL);\n      }\n\n      var applicationId = _CoreManager2.default.get('APPLICATION_ID');\n      var javascriptKey = _CoreManager2.default.get('JAVASCRIPT_KEY');\n      var masterKey = _CoreManager2.default.get('MASTER_KEY');\n      // Get currentUser sessionToken if possible\n      defaultLiveQueryClient = new _LiveQueryClient2.default({\n        applicationId: applicationId,\n        serverURL: liveQueryServerURL,\n        javascriptKey: javascriptKey,\n        masterKey: masterKey,\n        sessionToken: sessionToken\n      });\n      // Register a default onError callback to make sure we do not crash on error\n      // Cannot create these events on a nested way because of EventEmiiter from React Native\n      defaultLiveQueryClient.on('error', function (error) {\n        LiveQuery.emit('error', error);\n      });\n      defaultLiveQueryClient.on('open', function () {\n        LiveQuery.emit('open');\n      });\n      defaultLiveQueryClient.on('close', function () {\n        LiveQuery.emit('close');\n      });\n\n      return defaultLiveQueryClient;\n    });\n  },\n  open: function () {\n    var _this = this;\n\n    getLiveQueryClient().then(function (liveQueryClient) {\n      _this.resolve(liveQueryClient.open());\n    });\n  },\n  close: function () {\n    var _this2 = this;\n\n    getLiveQueryClient().then(function (liveQueryClient) {\n      _this2.resolve(liveQueryClient.close());\n    });\n  },\n  subscribe: function (query) {\n    var _this3 = this;\n\n    var subscriptionWrap = new _EventEmitter2.default();\n\n    getLiveQueryClient().then(function (liveQueryClient) {\n      if (liveQueryClient.shouldOpen()) {\n        liveQueryClient.open();\n      }\n      var promiseSessionToken = getSessionToken();\n      // new event emitter\n      return promiseSessionToken.then(function (sessionToken) {\n\n        var subscription = liveQueryClient.subscribe(query, sessionToken);\n        // enter, leave create, etc\n\n        subscriptionWrap.id = subscription.id;\n        subscriptionWrap.query = subscription.query;\n        subscriptionWrap.sessionToken = subscription.sessionToken;\n        subscriptionWrap.unsubscribe = subscription.unsubscribe;\n        // Cannot create these events on a nested way because of EventEmiiter from React Native\n        subscription.on('open', function () {\n          subscriptionWrap.emit('open');\n        });\n        subscription.on('create', function (object) {\n          subscriptionWrap.emit('create', object);\n        });\n        subscription.on('update', function (object) {\n          subscriptionWrap.emit('update', object);\n        });\n        subscription.on('enter', function (object) {\n          subscriptionWrap.emit('enter', object);\n        });\n        subscription.on('leave', function (object) {\n          subscriptionWrap.emit('leave', object);\n        });\n        subscription.on('delete', function (object) {\n          subscriptionWrap.emit('delete', object);\n        });\n\n        _this3.resolve();\n      });\n    });\n    return subscriptionWrap;\n  },\n  unsubscribe: function (subscription) {\n    var _this4 = this;\n\n    getLiveQueryClient().then(function (liveQueryClient) {\n      _this4.resolve(liveQueryClient.unsubscribe(subscription));\n    });\n  },\n  _clearCachedDefaultClient: function () {\n    defaultLiveQueryClient = null;\n  }\n};\n\n_CoreManager2.default.setLiveQueryController(DefaultLiveQueryController);\n},{\"./CoreManager\":3,\"./EventEmitter\":4,\"./LiveQueryClient\":7,\"./ParsePromise\":20}],18:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _defineProperty = _dereq_('babel-runtime/core-js/object/define-property');\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nvar _create = _dereq_('babel-runtime/core-js/object/create');\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _freeze = _dereq_('babel-runtime/core-js/object/freeze');\n\nvar _freeze2 = _interopRequireDefault(_freeze);\n\nvar _stringify = _dereq_('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _keys = _dereq_('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _typeof2 = _dereq_('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _classCallCheck2 = _dereq_('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = _dereq_('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _CoreManager = _dereq_('./CoreManager');\n\nvar _CoreManager2 = _interopRequireDefault(_CoreManager);\n\nvar _canBeSerialized = _dereq_('./canBeSerialized');\n\nvar _canBeSerialized2 = _interopRequireDefault(_canBeSerialized);\n\nvar _decode = _dereq_('./decode');\n\nvar _decode2 = _interopRequireDefault(_decode);\n\nvar _encode = _dereq_('./encode');\n\nvar _encode2 = _interopRequireDefault(_encode);\n\nvar _equals = _dereq_('./equals');\n\nvar _equals2 = _interopRequireDefault(_equals);\n\nvar _escape2 = _dereq_('./escape');\n\nvar _escape3 = _interopRequireDefault(_escape2);\n\nvar _ParseACL = _dereq_('./ParseACL');\n\nvar _ParseACL2 = _interopRequireDefault(_ParseACL);\n\nvar _parseDate = _dereq_('./parseDate');\n\nvar _parseDate2 = _interopRequireDefault(_parseDate);\n\nvar _ParseError = _dereq_('./ParseError');\n\nvar _ParseError2 = _interopRequireDefault(_ParseError);\n\nvar _ParseFile = _dereq_('./ParseFile');\n\nvar _ParseFile2 = _interopRequireDefault(_ParseFile);\n\nvar _ParseOp = _dereq_('./ParseOp');\n\nvar _ParsePromise = _dereq_('./ParsePromise');\n\nvar _ParsePromise2 = _interopRequireDefault(_ParsePromise);\n\nvar _ParseQuery = _dereq_('./ParseQuery');\n\nvar _ParseQuery2 = _interopRequireDefault(_ParseQuery);\n\nvar _ParseRelation = _dereq_('./ParseRelation');\n\nvar _ParseRelation2 = _interopRequireDefault(_ParseRelation);\n\nvar _SingleInstanceStateController = _dereq_('./SingleInstanceStateController');\n\nvar SingleInstanceStateController = _interopRequireWildcard(_SingleInstanceStateController);\n\nvar _unique = _dereq_('./unique');\n\nvar _unique2 = _interopRequireDefault(_unique);\n\nvar _UniqueInstanceStateController = _dereq_('./UniqueInstanceStateController');\n\nvar UniqueInstanceStateController = _interopRequireWildcard(_UniqueInstanceStateController);\n\nvar _unsavedChildren = _dereq_('./unsavedChildren');\n\nvar _unsavedChildren2 = _interopRequireDefault(_unsavedChildren);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }newObj.default = obj;return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n// Mapping of class names to constructors, so we can populate objects from the\n// server with appropriate subclasses of ParseObject\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nvar classMap = {};\n\n// Global counter for generating unique local Ids\nvar localCount = 0;\n// Global counter for generating unique Ids for non-single-instance objects\nvar objectCount = 0;\n// On web clients, objects are single-instance: any two objects with the same Id\n// will have the same attributes. However, this may be dangerous default\n// behavior in a server scenario\nvar singleInstance = !_CoreManager2.default.get('IS_NODE');\nif (singleInstance) {\n  _CoreManager2.default.setObjectStateController(SingleInstanceStateController);\n} else {\n  _CoreManager2.default.setObjectStateController(UniqueInstanceStateController);\n}\n\nfunction getServerUrlPath() {\n  var serverUrl = _CoreManager2.default.get('SERVER_URL');\n  if (serverUrl[serverUrl.length - 1] !== '/') {\n    serverUrl += '/';\n  }\n  var url = serverUrl.replace(/https?:\\/\\//, '');\n  return url.substr(url.indexOf('/'));\n}\n\n/**\n * Creates a new model with defined attributes.\n *\n * <p>You won't normally call this method directly.  It is recommended that\n * you use a subclass of <code>Parse.Object</code> instead, created by calling\n * <code>extend</code>.</p>\n *\n * <p>However, if you don't want to use a subclass, or aren't sure which\n * subclass is appropriate, you can use this form:<pre>\n *     var object = new Parse.Object(\"ClassName\");\n * </pre>\n * That is basically equivalent to:<pre>\n *     var MyClass = Parse.Object.extend(\"ClassName\");\n *     var object = new MyClass();\n * </pre></p>\n *\n * @class Parse.Object\n * @constructor\n * @param {String} className The class name for the object\n * @param {Object} attributes The initial set of data to store in the object.\n * @param {Object} options The options for this object instance.\n */\n\nvar ParseObject = function () {\n  /**\n   * The ID of this object, unique within its class.\n   * @property id\n   * @type String\n   */\n  function ParseObject(className, attributes, options) {\n    (0, _classCallCheck3.default)(this, ParseObject);\n\n    // Enable legacy initializers\n    if (typeof this.initialize === 'function') {\n      this.initialize.apply(this, arguments);\n    }\n\n    var toSet = null;\n    this._objCount = objectCount++;\n    if (typeof className === 'string') {\n      this.className = className;\n      if (attributes && (typeof attributes === 'undefined' ? 'undefined' : (0, _typeof3.default)(attributes)) === 'object') {\n        toSet = attributes;\n      }\n    } else if (className && (typeof className === 'undefined' ? 'undefined' : (0, _typeof3.default)(className)) === 'object') {\n      this.className = className.className;\n      toSet = {};\n      for (var attr in className) {\n        if (attr !== 'className') {\n          toSet[attr] = className[attr];\n        }\n      }\n      if (attributes && (typeof attributes === 'undefined' ? 'undefined' : (0, _typeof3.default)(attributes)) === 'object') {\n        options = attributes;\n      }\n    }\n    if (toSet && !this.set(toSet, options)) {\n      throw new Error('Can\\'t create an invalid Parse Object');\n    }\n  }\n\n  /** Prototype getters / setters **/\n\n  (0, _createClass3.default)(ParseObject, [{\n    key: '_getId',\n\n    /** Private methods **/\n\n    /**\n     * Returns a local or server Id used uniquely identify this object\n     */\n    value: function () {\n      if (typeof this.id === 'string') {\n        return this.id;\n      }\n      if (typeof this._localId === 'string') {\n        return this._localId;\n      }\n      var localId = 'local' + String(localCount++);\n      this._localId = localId;\n      return localId;\n    }\n\n    /**\n     * Returns a unique identifier used to pull data from the State Controller.\n     */\n\n  }, {\n    key: '_getStateIdentifier',\n    value: function () {\n      if (singleInstance) {\n        var _id = this.id;\n        if (!_id) {\n          _id = this._getId();\n        }\n        return {\n          id: _id,\n          className: this.className\n        };\n      } else {\n        return this;\n      }\n    }\n  }, {\n    key: '_getServerData',\n    value: function () {\n      var stateController = _CoreManager2.default.getObjectStateController();\n      return stateController.getServerData(this._getStateIdentifier());\n    }\n  }, {\n    key: '_clearServerData',\n    value: function () {\n      var serverData = this._getServerData();\n      var unset = {};\n      for (var attr in serverData) {\n        unset[attr] = undefined;\n      }\n      var stateController = _CoreManager2.default.getObjectStateController();\n      stateController.setServerData(this._getStateIdentifier(), unset);\n    }\n  }, {\n    key: '_getPendingOps',\n    value: function () {\n      var stateController = _CoreManager2.default.getObjectStateController();\n      return stateController.getPendingOps(this._getStateIdentifier());\n    }\n  }, {\n    key: '_clearPendingOps',\n    value: function () {\n      var pending = this._getPendingOps();\n      var latest = pending[pending.length - 1];\n      var keys = (0, _keys2.default)(latest);\n      keys.forEach(function (key) {\n        delete latest[key];\n      });\n    }\n  }, {\n    key: '_getDirtyObjectAttributes',\n    value: function () {\n      var attributes = this.attributes;\n      var stateController = _CoreManager2.default.getObjectStateController();\n      var objectCache = stateController.getObjectCache(this._getStateIdentifier());\n      var dirty = {};\n      for (var attr in attributes) {\n        var val = attributes[attr];\n        if (val && (typeof val === 'undefined' ? 'undefined' : (0, _typeof3.default)(val)) === 'object' && !(val instanceof ParseObject) && !(val instanceof _ParseFile2.default) && !(val instanceof _ParseRelation2.default)) {\n          // Due to the way browsers construct maps, the key order will not change\n          // unless the object is changed\n          try {\n            var json = (0, _encode2.default)(val, false, true);\n            var stringified = (0, _stringify2.default)(json);\n            if (objectCache[attr] !== stringified) {\n              dirty[attr] = val;\n            }\n          } catch (e) {\n            // Error occurred, possibly by a nested unsaved pointer in a mutable container\n            // No matter how it happened, it indicates a change in the attribute\n            dirty[attr] = val;\n          }\n        }\n      }\n      return dirty;\n    }\n  }, {\n    key: '_toFullJSON',\n    value: function (seen) {\n      var json = this.toJSON(seen);\n      json.__type = 'Object';\n      json.className = this.className;\n      return json;\n    }\n  }, {\n    key: '_getSaveJSON',\n    value: function () {\n      var pending = this._getPendingOps();\n      var dirtyObjects = this._getDirtyObjectAttributes();\n      var json = {};\n\n      for (var attr in dirtyObjects) {\n        json[attr] = new _ParseOp.SetOp(dirtyObjects[attr]).toJSON();\n      }\n      for (attr in pending[0]) {\n        json[attr] = pending[0][attr].toJSON();\n      }\n      return json;\n    }\n  }, {\n    key: '_getSaveParams',\n    value: function () {\n      var method = this.id ? 'PUT' : 'POST';\n      var body = this._getSaveJSON();\n      var path = 'classes/' + this.className;\n      if (this.id) {\n        path += '/' + this.id;\n      } else if (this.className === '_User') {\n        path = 'users';\n      }\n      return {\n        method: method,\n        body: body,\n        path: path\n      };\n    }\n  }, {\n    key: '_finishFetch',\n    value: function (serverData) {\n      if (!this.id && serverData.objectId) {\n        this.id = serverData.objectId;\n      }\n      var stateController = _CoreManager2.default.getObjectStateController();\n      stateController.initializeState(this._getStateIdentifier());\n      var decoded = {};\n      for (var attr in serverData) {\n        if (attr === 'ACL') {\n          decoded[attr] = new _ParseACL2.default(serverData[attr]);\n        } else if (attr !== 'objectId') {\n          decoded[attr] = (0, _decode2.default)(serverData[attr]);\n          if (decoded[attr] instanceof _ParseRelation2.default) {\n            decoded[attr]._ensureParentAndKey(this, attr);\n          }\n        }\n      }\n      if (decoded.createdAt && typeof decoded.createdAt === 'string') {\n        decoded.createdAt = (0, _parseDate2.default)(decoded.createdAt);\n      }\n      if (decoded.updatedAt && typeof decoded.updatedAt === 'string') {\n        decoded.updatedAt = (0, _parseDate2.default)(decoded.updatedAt);\n      }\n      if (!decoded.updatedAt && decoded.createdAt) {\n        decoded.updatedAt = decoded.createdAt;\n      }\n      stateController.commitServerChanges(this._getStateIdentifier(), decoded);\n    }\n  }, {\n    key: '_setExisted',\n    value: function (existed) {\n      var stateController = _CoreManager2.default.getObjectStateController();\n      var state = stateController.getState(this._getStateIdentifier());\n      if (state) {\n        state.existed = existed;\n      }\n    }\n  }, {\n    key: '_migrateId',\n    value: function (serverId) {\n      if (this._localId && serverId) {\n        if (singleInstance) {\n          var stateController = _CoreManager2.default.getObjectStateController();\n          var oldState = stateController.removeState(this._getStateIdentifier());\n          this.id = serverId;\n          delete this._localId;\n          if (oldState) {\n            stateController.initializeState(this._getStateIdentifier(), oldState);\n          }\n        } else {\n          this.id = serverId;\n          delete this._localId;\n        }\n      }\n    }\n  }, {\n    key: '_handleSaveResponse',\n    value: function (response, status) {\n      var changes = {};\n\n      var stateController = _CoreManager2.default.getObjectStateController();\n      var pending = stateController.popPendingState(this._getStateIdentifier());\n      for (var attr in pending) {\n        if (pending[attr] instanceof _ParseOp.RelationOp) {\n          changes[attr] = pending[attr].applyTo(undefined, this, attr);\n        } else if (!(attr in response)) {\n          // Only SetOps and UnsetOps should not come back with results\n          changes[attr] = pending[attr].applyTo(undefined);\n        }\n      }\n      for (attr in response) {\n        if ((attr === 'createdAt' || attr === 'updatedAt') && typeof response[attr] === 'string') {\n          changes[attr] = (0, _parseDate2.default)(response[attr]);\n        } else if (attr === 'ACL') {\n          changes[attr] = new _ParseACL2.default(response[attr]);\n        } else if (attr !== 'objectId') {\n          changes[attr] = (0, _decode2.default)(response[attr]);\n          if (changes[attr] instanceof _ParseOp.UnsetOp) {\n            changes[attr] = undefined;\n          }\n        }\n      }\n      if (changes.createdAt && !changes.updatedAt) {\n        changes.updatedAt = changes.createdAt;\n      }\n\n      this._migrateId(response.objectId);\n\n      if (status !== 201) {\n        this._setExisted(true);\n      }\n\n      stateController.commitServerChanges(this._getStateIdentifier(), changes);\n    }\n  }, {\n    key: '_handleSaveError',\n    value: function () {\n      this._getPendingOps();\n\n      var stateController = _CoreManager2.default.getObjectStateController();\n      stateController.mergeFirstPendingState(this._getStateIdentifier());\n    }\n\n    /** Public methods **/\n\n  }, {\n    key: 'initialize',\n    value: function () {}\n    // NOOP\n\n\n    /**\n     * Returns a JSON version of the object suitable for saving to Parse.\n     * @method toJSON\n     * @return {Object}\n     */\n\n  }, {\n    key: 'toJSON',\n    value: function (seen) {\n      var seenEntry = this.id ? this.className + ':' + this.id : this;\n      var seen = seen || [seenEntry];\n      var json = {};\n      var attrs = this.attributes;\n      for (var attr in attrs) {\n        if ((attr === 'createdAt' || attr === 'updatedAt') && attrs[attr].toJSON) {\n          json[attr] = attrs[attr].toJSON();\n        } else {\n          json[attr] = (0, _encode2.default)(attrs[attr], false, false, seen);\n        }\n      }\n      var pending = this._getPendingOps();\n      for (var attr in pending[0]) {\n        json[attr] = pending[0][attr].toJSON();\n      }\n\n      if (this.id) {\n        json.objectId = this.id;\n      }\n      return json;\n    }\n\n    /**\n     * Determines whether this ParseObject is equal to another ParseObject\n     * @method equals\n     * @return {Boolean}\n     */\n\n  }, {\n    key: 'equals',\n    value: function (other) {\n      if (this === other) {\n        return true;\n      }\n      return other instanceof ParseObject && this.className === other.className && this.id === other.id && typeof this.id !== 'undefined';\n    }\n\n    /**\n     * Returns true if this object has been modified since its last\n     * save/refresh.  If an attribute is specified, it returns true only if that\n     * particular attribute has been modified since the last save/refresh.\n     * @method dirty\n     * @param {String} attr An attribute name (optional).\n     * @return {Boolean}\n     */\n\n  }, {\n    key: 'dirty',\n    value: function (attr) {\n      if (!this.id) {\n        return true;\n      }\n      var pendingOps = this._getPendingOps();\n      var dirtyObjects = this._getDirtyObjectAttributes();\n      if (attr) {\n        if (dirtyObjects.hasOwnProperty(attr)) {\n          return true;\n        }\n        for (var i = 0; i < pendingOps.length; i++) {\n          if (pendingOps[i].hasOwnProperty(attr)) {\n            return true;\n          }\n        }\n        return false;\n      }\n      if ((0, _keys2.default)(pendingOps[0]).length !== 0) {\n        return true;\n      }\n      if ((0, _keys2.default)(dirtyObjects).length !== 0) {\n        return true;\n      }\n      return false;\n    }\n\n    /**\n     * Returns an array of keys that have been modified since last save/refresh\n     * @method dirtyKeys\n     * @return {Array of string}\n     */\n\n  }, {\n    key: 'dirtyKeys',\n    value: function () {\n      var pendingOps = this._getPendingOps();\n      var keys = {};\n      for (var i = 0; i < pendingOps.length; i++) {\n        for (var attr in pendingOps[i]) {\n          keys[attr] = true;\n        }\n      }\n      var dirtyObjects = this._getDirtyObjectAttributes();\n      for (var attr in dirtyObjects) {\n        keys[attr] = true;\n      }\n      return (0, _keys2.default)(keys);\n    }\n\n    /**\n     * Gets a Pointer referencing this Object.\n     * @method toPointer\n     * @return {Object}\n     */\n\n  }, {\n    key: 'toPointer',\n    value: function () {\n      if (!this.id) {\n        throw new Error('Cannot create a pointer to an unsaved ParseObject');\n      }\n      return {\n        __type: 'Pointer',\n        className: this.className,\n        objectId: this.id\n      };\n    }\n\n    /**\n     * Gets the value of an attribute.\n     * @method get\n     * @param {String} attr The string name of an attribute.\n     */\n\n  }, {\n    key: 'get',\n    value: function (attr) {\n      return this.attributes[attr];\n    }\n\n    /**\n     * Gets a relation on the given class for the attribute.\n     * @method relation\n     * @param String attr The attribute to get the relation for.\n     */\n\n  }, {\n    key: 'relation',\n    value: function (attr) {\n      var value = this.get(attr);\n      if (value) {\n        if (!(value instanceof _ParseRelation2.default)) {\n          throw new Error('Called relation() on non-relation field ' + attr);\n        }\n        value._ensureParentAndKey(this, attr);\n        return value;\n      }\n      return new _ParseRelation2.default(this, attr);\n    }\n\n    /**\n     * Gets the HTML-escaped value of an attribute.\n     * @method escape\n     * @param {String} attr The string name of an attribute.\n     */\n\n  }, {\n    key: 'escape',\n    value: function (attr) {\n      var val = this.attributes[attr];\n      if (val == null) {\n        return '';\n      }\n\n      if (typeof val !== 'string') {\n        if (typeof val.toString !== 'function') {\n          return '';\n        }\n        val = val.toString();\n      }\n      return (0, _escape3.default)(val);\n    }\n\n    /**\n     * Returns <code>true</code> if the attribute contains a value that is not\n     * null or undefined.\n     * @method has\n     * @param {String} attr The string name of the attribute.\n     * @return {Boolean}\n     */\n\n  }, {\n    key: 'has',\n    value: function (attr) {\n      var attributes = this.attributes;\n      if (attributes.hasOwnProperty(attr)) {\n        return attributes[attr] != null;\n      }\n      return false;\n    }\n\n    /**\n     * Sets a hash of model attributes on the object.\n     *\n     * <p>You can call it with an object containing keys and values, or with one\n     * key and value.  For example:<pre>\n     *   gameTurn.set({\n     *     player: player1,\n     *     diceRoll: 2\n     *   }, {\n     *     error: function(gameTurnAgain, error) {\n     *       // The set failed validation.\n     *     }\n     *   });\n     *\n     *   game.set(\"currentPlayer\", player2, {\n     *     error: function(gameTurnAgain, error) {\n     *       // The set failed validation.\n     *     }\n     *   });\n     *\n     *   game.set(\"finished\", true);</pre></p>\n     *\n     * @method set\n     * @param {String} key The key to set.\n     * @param {} value The value to give it.\n     * @param {Object} options A set of options for the set.\n     *     The only supported option is <code>error</code>.\n     * @return {Boolean} true if the set succeeded.\n     */\n\n  }, {\n    key: 'set',\n    value: function (key, value, options) {\n      var changes = {};\n      var newOps = {};\n      if (key && (typeof key === 'undefined' ? 'undefined' : (0, _typeof3.default)(key)) === 'object') {\n        changes = key;\n        options = value;\n      } else if (typeof key === 'string') {\n        changes[key] = value;\n      } else {\n        return this;\n      }\n\n      options = options || {};\n      var readonly = [];\n      if (typeof this.constructor.readOnlyAttributes === 'function') {\n        readonly = readonly.concat(this.constructor.readOnlyAttributes());\n      }\n      for (var k in changes) {\n        if (k === 'createdAt' || k === 'updatedAt') {\n          // This property is read-only, but for legacy reasons we silently\n          // ignore it\n          continue;\n        }\n        if (readonly.indexOf(k) > -1) {\n          throw new Error('Cannot modify readonly attribute: ' + k);\n        }\n        if (options.unset) {\n          newOps[k] = new _ParseOp.UnsetOp();\n        } else if (changes[k] instanceof _ParseOp.Op) {\n          newOps[k] = changes[k];\n        } else if (changes[k] && (0, _typeof3.default)(changes[k]) === 'object' && typeof changes[k].__op === 'string') {\n          newOps[k] = (0, _ParseOp.opFromJSON)(changes[k]);\n        } else if (k === 'objectId' || k === 'id') {\n          if (typeof changes[k] === 'string') {\n            this.id = changes[k];\n          }\n        } else if (k === 'ACL' && (0, _typeof3.default)(changes[k]) === 'object' && !(changes[k] instanceof _ParseACL2.default)) {\n          newOps[k] = new _ParseOp.SetOp(new _ParseACL2.default(changes[k]));\n        } else {\n          newOps[k] = new _ParseOp.SetOp(changes[k]);\n        }\n      }\n\n      // Calculate new values\n      var currentAttributes = this.attributes;\n      var newValues = {};\n      for (var attr in newOps) {\n        if (newOps[attr] instanceof _ParseOp.RelationOp) {\n          newValues[attr] = newOps[attr].applyTo(currentAttributes[attr], this, attr);\n        } else if (!(newOps[attr] instanceof _ParseOp.UnsetOp)) {\n          newValues[attr] = newOps[attr].applyTo(currentAttributes[attr]);\n        }\n      }\n\n      // Validate changes\n      if (!options.ignoreValidation) {\n        var validation = this.validate(newValues);\n        if (validation) {\n          if (typeof options.error === 'function') {\n            options.error(this, validation);\n          }\n          return false;\n        }\n      }\n\n      // Consolidate Ops\n      var pendingOps = this._getPendingOps();\n      var last = pendingOps.length - 1;\n      var stateController = _CoreManager2.default.getObjectStateController();\n      for (var attr in newOps) {\n        var nextOp = newOps[attr].mergeWith(pendingOps[last][attr]);\n        stateController.setPendingOp(this._getStateIdentifier(), attr, nextOp);\n      }\n\n      return this;\n    }\n\n    /**\n     * Remove an attribute from the model. This is a noop if the attribute doesn't\n     * exist.\n     * @method unset\n     * @param {String} attr The string name of an attribute.\n     */\n\n  }, {\n    key: 'unset',\n    value: function (attr, options) {\n      options = options || {};\n      options.unset = true;\n      return this.set(attr, null, options);\n    }\n\n    /**\n     * Atomically increments the value of the given attribute the next time the\n     * object is saved. If no amount is specified, 1 is used by default.\n     *\n     * @method increment\n     * @param attr {String} The key.\n     * @param amount {Number} The amount to increment by (optional).\n     */\n\n  }, {\n    key: 'increment',\n    value: function (attr, amount) {\n      if (typeof amount === 'undefined') {\n        amount = 1;\n      }\n      if (typeof amount !== 'number') {\n        throw new Error('Cannot increment by a non-numeric amount.');\n      }\n      return this.set(attr, new _ParseOp.IncrementOp(amount));\n    }\n\n    /**\n     * Atomically add an object to the end of the array associated with a given\n     * key.\n     * @method add\n     * @param attr {String} The key.\n     * @param item {} The item to add.\n     */\n\n  }, {\n    key: 'add',\n    value: function (attr, item) {\n      return this.set(attr, new _ParseOp.AddOp([item]));\n    }\n\n    /**\n     * Atomically add an object to the array associated with a given key, only\n     * if it is not already present in the array. The position of the insert is\n     * not guaranteed.\n     *\n     * @method addUnique\n     * @param attr {String} The key.\n     * @param item {} The object to add.\n     */\n\n  }, {\n    key: 'addUnique',\n    value: function (attr, item) {\n      return this.set(attr, new _ParseOp.AddUniqueOp([item]));\n    }\n\n    /**\n     * Atomically remove all instances of an object from the array associated\n     * with a given key.\n     *\n     * @method remove\n     * @param attr {String} The key.\n     * @param item {} The object to remove.\n     */\n\n  }, {\n    key: 'remove',\n    value: function (attr, item) {\n      return this.set(attr, new _ParseOp.RemoveOp([item]));\n    }\n\n    /**\n     * Returns an instance of a subclass of Parse.Op describing what kind of\n     * modification has been performed on this field since the last time it was\n     * saved. For example, after calling object.increment(\"x\"), calling\n     * object.op(\"x\") would return an instance of Parse.Op.Increment.\n     *\n     * @method op\n     * @param attr {String} The key.\n     * @returns {Parse.Op} The operation, or undefined if none.\n     */\n\n  }, {\n    key: 'op',\n    value: function (attr) {\n      var pending = this._getPendingOps();\n      for (var i = pending.length; i--;) {\n        if (pending[i][attr]) {\n          return pending[i][attr];\n        }\n      }\n    }\n\n    /**\n     * Creates a new model with identical attributes to this one, similar to Backbone.Model's clone()\n     * @method clone\n     * @return {Parse.Object}\n     */\n\n  }, {\n    key: 'clone',\n    value: function () {\n      var clone = new this.constructor();\n      if (!clone.className) {\n        clone.className = this.className;\n      }\n      var attributes = this.attributes;\n      if (typeof this.constructor.readOnlyAttributes === 'function') {\n        var readonly = this.constructor.readOnlyAttributes() || [];\n        // Attributes are frozen, so we have to rebuild an object,\n        // rather than delete readonly keys\n        var copy = {};\n        for (var a in attributes) {\n          if (readonly.indexOf(a) < 0) {\n            copy[a] = attributes[a];\n          }\n        }\n        attributes = copy;\n      }\n      if (clone.set) {\n        clone.set(attributes);\n      }\n      return clone;\n    }\n\n    /**\n     * Creates a new instance of this object. Not to be confused with clone()\n     * @method newInstance\n     * @return {Parse.Object}\n     */\n\n  }, {\n    key: 'newInstance',\n    value: function () {\n      var clone = new this.constructor();\n      if (!clone.className) {\n        clone.className = this.className;\n      }\n      clone.id = this.id;\n      if (singleInstance) {\n        // Just return an object with the right id\n        return clone;\n      }\n\n      var stateController = _CoreManager2.default.getObjectStateController();\n      if (stateController) {\n        stateController.duplicateState(this._getStateIdentifier(), clone._getStateIdentifier());\n      }\n      return clone;\n    }\n\n    /**\n     * Returns true if this object has never been saved to Parse.\n     * @method isNew\n     * @return {Boolean}\n     */\n\n  }, {\n    key: 'isNew',\n    value: function () {\n      return !this.id;\n    }\n\n    /**\n     * Returns true if this object was created by the Parse server when the\n     * object might have already been there (e.g. in the case of a Facebook\n     * login)\n     * @method existed\n     * @return {Boolean}\n     */\n\n  }, {\n    key: 'existed',\n    value: function () {\n      if (!this.id) {\n        return false;\n      }\n      var stateController = _CoreManager2.default.getObjectStateController();\n      var state = stateController.getState(this._getStateIdentifier());\n      if (state) {\n        return state.existed;\n      }\n      return false;\n    }\n\n    /**\n     * Checks if the model is currently in a valid state.\n     * @method isValid\n     * @return {Boolean}\n     */\n\n  }, {\n    key: 'isValid',\n    value: function () {\n      return !this.validate(this.attributes);\n    }\n\n    /**\n     * You should not call this function directly unless you subclass\n     * <code>Parse.Object</code>, in which case you can override this method\n     * to provide additional validation on <code>set</code> and\n     * <code>save</code>.  Your implementation should return\n     *\n     * @method validate\n     * @param {Object} attrs The current data to validate.\n     * @return {} False if the data is valid.  An error object otherwise.\n     * @see Parse.Object#set\n     */\n\n  }, {\n    key: 'validate',\n    value: function (attrs) {\n      if (attrs.hasOwnProperty('ACL') && !(attrs.ACL instanceof _ParseACL2.default)) {\n        return new _ParseError2.default(_ParseError2.default.OTHER_CAUSE, 'ACL must be a Parse ACL.');\n      }\n      for (var key in attrs) {\n        if (!/^[A-Za-z][0-9A-Za-z_]*$/.test(key)) {\n          return new _ParseError2.default(_ParseError2.default.INVALID_KEY_NAME);\n        }\n      }\n      return false;\n    }\n\n    /**\n     * Returns the ACL for this object.\n     * @method getACL\n     * @returns {Parse.ACL} An instance of Parse.ACL.\n     * @see Parse.Object#get\n     */\n\n  }, {\n    key: 'getACL',\n    value: function () {\n      var acl = this.get('ACL');\n      if (acl instanceof _ParseACL2.default) {\n        return acl;\n      }\n      return null;\n    }\n\n    /**\n     * Sets the ACL to be used for this object.\n     * @method setACL\n     * @param {Parse.ACL} acl An instance of Parse.ACL.\n     * @param {Object} options Optional Backbone-like options object to be\n     *     passed in to set.\n     * @return {Boolean} Whether the set passed validation.\n     * @see Parse.Object#set\n     */\n\n  }, {\n    key: 'setACL',\n    value: function (acl, options) {\n      return this.set('ACL', acl, options);\n    }\n\n    /**\n     * Clears any changes to this object made since the last call to save()\n     * @method revert\n     */\n\n  }, {\n    key: 'revert',\n    value: function () {\n      this._clearPendingOps();\n    }\n\n    /**\n     * Clears all attributes on a model\n     * @method clear\n     */\n\n  }, {\n    key: 'clear',\n    value: function () {\n      var attributes = this.attributes;\n      var erasable = {};\n      var readonly = ['createdAt', 'updatedAt'];\n      if (typeof this.constructor.readOnlyAttributes === 'function') {\n        readonly = readonly.concat(this.constructor.readOnlyAttributes());\n      }\n      for (var attr in attributes) {\n        if (readonly.indexOf(attr) < 0) {\n          erasable[attr] = true;\n        }\n      }\n      return this.set(erasable, { unset: true });\n    }\n\n    /**\n     * Fetch the model from the server. If the server's representation of the\n     * model differs from its current attributes, they will be overriden.\n     *\n     * @method fetch\n     * @param {Object} options A Backbone-style callback object.\n     * Valid options are:<ul>\n     *   <li>success: A Backbone-style success callback.\n     *   <li>error: An Backbone-style error callback.\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     * @return {Parse.Promise} A promise that is fulfilled when the fetch\n     *     completes.\n     */\n\n  }, {\n    key: 'fetch',\n    value: function (options) {\n      options = options || {};\n      var fetchOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        fetchOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken')) {\n        fetchOptions.sessionToken = options.sessionToken;\n      }\n      var controller = _CoreManager2.default.getObjectController();\n      return controller.fetch(this, true, fetchOptions)._thenRunCallbacks(options);\n    }\n\n    /**\n     * Set a hash of model attributes, and save the model to the server.\n     * updatedAt will be updated when the request returns.\n     * You can either call it as:<pre>\n     *   object.save();</pre>\n     * or<pre>\n     *   object.save(null, options);</pre>\n     * or<pre>\n     *   object.save(attrs, options);</pre>\n     * or<pre>\n     *   object.save(key, value, options);</pre>\n     *\n     * For example, <pre>\n     *   gameTurn.save({\n     *     player: \"Jake Cutter\",\n     *     diceRoll: 2\n     *   }, {\n     *     success: function(gameTurnAgain) {\n     *       // The save was successful.\n     *     },\n     *     error: function(gameTurnAgain, error) {\n     *       // The save failed.  Error is an instance of Parse.Error.\n     *     }\n     *   });</pre>\n     * or with promises:<pre>\n     *   gameTurn.save({\n     *     player: \"Jake Cutter\",\n     *     diceRoll: 2\n     *   }).then(function(gameTurnAgain) {\n     *     // The save was successful.\n     *   }, function(error) {\n     *     // The save failed.  Error is an instance of Parse.Error.\n     *   });</pre>\n     *\n     * @method save\n     * @param {Object} options A Backbone-style callback object.\n     * Valid options are:<ul>\n     *   <li>success: A Backbone-style success callback.\n     *   <li>error: An Backbone-style error callback.\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     * @return {Parse.Promise} A promise that is fulfilled when the save\n     *     completes.\n     */\n\n  }, {\n    key: 'save',\n    value: function (arg1, arg2, arg3) {\n      var _this = this;\n\n      var attrs;\n      var options;\n      if ((typeof arg1 === 'undefined' ? 'undefined' : (0, _typeof3.default)(arg1)) === 'object' || typeof arg1 === 'undefined') {\n        attrs = arg1;\n        if ((typeof arg2 === 'undefined' ? 'undefined' : (0, _typeof3.default)(arg2)) === 'object') {\n          options = arg2;\n        }\n      } else {\n        attrs = {};\n        attrs[arg1] = arg2;\n        options = arg3;\n      }\n\n      // Support save({ success: function() {}, error: function() {} })\n      if (!options && attrs) {\n        options = {};\n        if (typeof attrs.success === 'function') {\n          options.success = attrs.success;\n          delete attrs.success;\n        }\n        if (typeof attrs.error === 'function') {\n          options.error = attrs.error;\n          delete attrs.error;\n        }\n      }\n\n      if (attrs) {\n        var validation = this.validate(attrs);\n        if (validation) {\n          if (options && typeof options.error === 'function') {\n            options.error(this, validation);\n          }\n          return _ParsePromise2.default.error(validation);\n        }\n        this.set(attrs, options);\n      }\n\n      options = options || {};\n      var saveOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        saveOptions.useMasterKey = !!options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken') && typeof options.sessionToken === 'string') {\n        saveOptions.sessionToken = options.sessionToken;\n      }\n\n      var controller = _CoreManager2.default.getObjectController();\n      var unsaved = (0, _unsavedChildren2.default)(this);\n      return controller.save(unsaved, saveOptions).then(function () {\n        return controller.save(_this, saveOptions);\n      })._thenRunCallbacks(options, this);\n    }\n\n    /**\n     * Destroy this model on the server if it was already persisted.\n     * If `wait: true` is passed, waits for the server to respond\n     * before removal.\n     *\n     * @method destroy\n     * @param {Object} options A Backbone-style callback object.\n     * Valid options are:<ul>\n     *   <li>success: A Backbone-style success callback\n     *   <li>error: An Backbone-style error callback.\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     * @return {Parse.Promise} A promise that is fulfilled when the destroy\n     *     completes.\n     */\n\n  }, {\n    key: 'destroy',\n    value: function (options) {\n      options = options || {};\n      var destroyOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        destroyOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken')) {\n        destroyOptions.sessionToken = options.sessionToken;\n      }\n      if (!this.id) {\n        return _ParsePromise2.default.as()._thenRunCallbacks(options);\n      }\n      return _CoreManager2.default.getObjectController().destroy(this, destroyOptions)._thenRunCallbacks(options);\n    }\n\n    /** Static methods **/\n\n  }, {\n    key: 'attributes',\n    get: function () {\n      var stateController = _CoreManager2.default.getObjectStateController();\n      return (0, _freeze2.default)(stateController.estimateAttributes(this._getStateIdentifier()));\n    }\n\n    /**\n     * The first time this object was saved on the server.\n     * @property createdAt\n     * @type Date\n     */\n\n  }, {\n    key: 'createdAt',\n    get: function () {\n      return this._getServerData().createdAt;\n    }\n\n    /**\n     * The last time this object was updated on the server.\n     * @property updatedAt\n     * @type Date\n     */\n\n  }, {\n    key: 'updatedAt',\n    get: function () {\n      return this._getServerData().updatedAt;\n    }\n  }], [{\n    key: '_clearAllState',\n    value: function () {\n      var stateController = _CoreManager2.default.getObjectStateController();\n      stateController.clearAllState();\n    }\n\n    /**\n     * Fetches the given list of Parse.Object.\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     *   Parse.Object.fetchAll([object1, object2, ...], {\n     *     success: function(list) {\n     *       // All the objects were fetched.\n     *     },\n     *     error: function(error) {\n     *       // An error occurred while fetching one of the objects.\n     *     },\n     *   });\n     * </pre>\n     *\n     * @method fetchAll\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {Object} options A Backbone-style callback object.\n     * @static\n     * Valid options are:<ul>\n     *   <li>success: A Backbone-style success callback.\n     *   <li>error: An Backbone-style error callback.\n     * </ul>\n     */\n\n  }, {\n    key: 'fetchAll',\n    value: function (list, options) {\n      var options = options || {};\n\n      var queryOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        queryOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken')) {\n        queryOptions.sessionToken = options.sessionToken;\n      }\n      return _CoreManager2.default.getObjectController().fetch(list, true, queryOptions)._thenRunCallbacks(options);\n    }\n\n    /**\n     * Fetches the given list of Parse.Object if needed.\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     *   Parse.Object.fetchAllIfNeeded([object1, ...], {\n     *     success: function(list) {\n     *       // Objects were fetched and updated.\n     *     },\n     *     error: function(error) {\n     *       // An error occurred while fetching one of the objects.\n     *     },\n     *   });\n     * </pre>\n     *\n     * @method fetchAllIfNeeded\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {Object} options A Backbone-style callback object.\n     * @static\n     * Valid options are:<ul>\n     *   <li>success: A Backbone-style success callback.\n     *   <li>error: An Backbone-style error callback.\n     * </ul>\n     */\n\n  }, {\n    key: 'fetchAllIfNeeded',\n    value: function (list, options) {\n      var options = options || {};\n\n      var queryOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        queryOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken')) {\n        queryOptions.sessionToken = options.sessionToken;\n      }\n      return _CoreManager2.default.getObjectController().fetch(list, false, queryOptions)._thenRunCallbacks(options);\n    }\n\n    /**\n     * Destroy the given list of models on the server if it was already persisted.\n     *\n     * <p>Unlike saveAll, if an error occurs while deleting an individual model,\n     * this method will continue trying to delete the rest of the models if\n     * possible, except in the case of a fatal error like a connection error.\n     *\n     * <p>In particular, the Parse.Error object returned in the case of error may\n     * be one of two types:\n     *\n     * <ul>\n     *   <li>A Parse.Error.AGGREGATE_ERROR. This object's \"errors\" property is an\n     *       array of other Parse.Error objects. Each error object in this array\n     *       has an \"object\" property that references the object that could not be\n     *       deleted (for instance, because that object could not be found).</li>\n     *   <li>A non-aggregate Parse.Error. This indicates a serious error that\n     *       caused the delete operation to be aborted partway through (for\n     *       instance, a connection failure in the middle of the delete).</li>\n     * </ul>\n     *\n     * <pre>\n     *   Parse.Object.destroyAll([object1, object2, ...], {\n     *     success: function() {\n     *       // All the objects were deleted.\n     *     },\n     *     error: function(error) {\n     *       // An error occurred while deleting one or more of the objects.\n     *       // If this is an aggregate error, then we can inspect each error\n     *       // object individually to determine the reason why a particular\n     *       // object was not deleted.\n     *       if (error.code === Parse.Error.AGGREGATE_ERROR) {\n     *         for (var i = 0; i < error.errors.length; i++) {\n     *           console.log(\"Couldn't delete \" + error.errors[i].object.id +\n     *             \"due to \" + error.errors[i].message);\n     *         }\n     *       } else {\n     *         console.log(\"Delete aborted because of \" + error.message);\n     *       }\n     *     },\n     *   });\n     * </pre>\n     *\n     * @method destroyAll\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {Object} options A Backbone-style callback object.\n     * @static\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     * @return {Parse.Promise} A promise that is fulfilled when the destroyAll\n     *     completes.\n     */\n\n  }, {\n    key: 'destroyAll',\n    value: function (list, options) {\n      var options = options || {};\n\n      var destroyOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        destroyOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken')) {\n        destroyOptions.sessionToken = options.sessionToken;\n      }\n      return _CoreManager2.default.getObjectController().destroy(list, destroyOptions)._thenRunCallbacks(options);\n    }\n\n    /**\n     * Saves the given list of Parse.Object.\n     * If any error is encountered, stops and calls the error handler.\n     *\n     * <pre>\n     *   Parse.Object.saveAll([object1, object2, ...], {\n     *     success: function(list) {\n     *       // All the objects were saved.\n     *     },\n     *     error: function(error) {\n     *       // An error occurred while saving one of the objects.\n     *     },\n     *   });\n     * </pre>\n     *\n     * @method saveAll\n     * @param {Array} list A list of <code>Parse.Object</code>.\n     * @param {Object} options A Backbone-style callback object.\n     * @static\n     * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     */\n\n  }, {\n    key: 'saveAll',\n    value: function (list, options) {\n      var options = options || {};\n\n      var saveOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        saveOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken')) {\n        saveOptions.sessionToken = options.sessionToken;\n      }\n      return _CoreManager2.default.getObjectController().save(list, saveOptions)._thenRunCallbacks(options);\n    }\n\n    /**\n     * Creates a reference to a subclass of Parse.Object with the given id. This\n     * does not exist on Parse.Object, only on subclasses.\n     *\n     * <p>A shortcut for: <pre>\n     *  var Foo = Parse.Object.extend(\"Foo\");\n     *  var pointerToFoo = new Foo();\n     *  pointerToFoo.id = \"myObjectId\";\n     * </pre>\n     *\n     * @method createWithoutData\n     * @param {String} id The ID of the object to create a reference to.\n     * @static\n     * @return {Parse.Object} A Parse.Object reference.\n     */\n\n  }, {\n    key: 'createWithoutData',\n    value: function (id) {\n      var obj = new this();\n      obj.id = id;\n      return obj;\n    }\n\n    /**\n     * Creates a new instance of a Parse Object from a JSON representation.\n     * @method fromJSON\n     * @param {Object} json The JSON map of the Object's data\n     * @param {boolean} override In single instance mode, all old server data\n     *   is overwritten if this is set to true\n     * @static\n     * @return {Parse.Object} A Parse.Object reference\n     */\n\n  }, {\n    key: 'fromJSON',\n    value: function (json, override) {\n      if (!json.className) {\n        throw new Error('Cannot create an object without a className');\n      }\n      var constructor = classMap[json.className];\n      var o = constructor ? new constructor() : new ParseObject(json.className);\n      var otherAttributes = {};\n      for (var attr in json) {\n        if (attr !== 'className' && attr !== '__type') {\n          otherAttributes[attr] = json[attr];\n        }\n      }\n      if (override) {\n        // id needs to be set before clearServerData can work\n        if (otherAttributes.objectId) {\n          o.id = otherAttributes.objectId;\n        }\n        var preserved = null;\n        if (typeof o._preserveFieldsOnFetch === 'function') {\n          preserved = o._preserveFieldsOnFetch();\n        }\n        o._clearServerData();\n        if (preserved) {\n          o._finishFetch(preserved);\n        }\n      }\n      o._finishFetch(otherAttributes);\n      if (json.objectId) {\n        o._setExisted(true);\n      }\n      return o;\n    }\n\n    /**\n     * Registers a subclass of Parse.Object with a specific class name.\n     * When objects of that class are retrieved from a query, they will be\n     * instantiated with this subclass.\n     * This is only necessary when using ES6 subclassing.\n     * @method registerSubclass\n     * @param {String} className The class name of the subclass\n     * @param {Class} constructor The subclass\n     */\n\n  }, {\n    key: 'registerSubclass',\n    value: function (className, constructor) {\n      if (typeof className !== 'string') {\n        throw new TypeError('The first argument must be a valid class name.');\n      }\n      if (typeof constructor === 'undefined') {\n        throw new TypeError('You must supply a subclass constructor.');\n      }\n      if (typeof constructor !== 'function') {\n        throw new TypeError('You must register the subclass constructor. ' + 'Did you attempt to register an instance of the subclass?');\n      }\n      classMap[className] = constructor;\n      if (!constructor.className) {\n        constructor.className = className;\n      }\n    }\n\n    /**\n     * Creates a new subclass of Parse.Object for the given Parse class name.\n     *\n     * <p>Every extension of a Parse class will inherit from the most recent\n     * previous extension of that class. When a Parse.Object is automatically\n     * created by parsing JSON, it will use the most recent extension of that\n     * class.</p>\n     *\n     * <p>You should call either:<pre>\n     *     var MyClass = Parse.Object.extend(\"MyClass\", {\n     *         <i>Instance methods</i>,\n     *         initialize: function(attrs, options) {\n     *             this.someInstanceProperty = [],\n     *             <i>Other instance properties</i>\n     *         }\n     *     }, {\n     *         <i>Class properties</i>\n     *     });</pre>\n     * or, for Backbone compatibility:<pre>\n     *     var MyClass = Parse.Object.extend({\n     *         className: \"MyClass\",\n     *         <i>Instance methods</i>,\n     *         initialize: function(attrs, options) {\n     *             this.someInstanceProperty = [],\n     *             <i>Other instance properties</i>\n     *         }\n     *     }, {\n     *         <i>Class properties</i>\n     *     });</pre></p>\n     *\n     * @method extend\n     * @param {String} className The name of the Parse class backing this model.\n     * @param {Object} protoProps Instance properties to add to instances of the\n     *     class returned from this method.\n     * @param {Object} classProps Class properties to add the class returned from\n     *     this method.\n     * @return {Class} A new subclass of Parse.Object.\n     */\n\n  }, {\n    key: 'extend',\n    value: function (className, protoProps, classProps) {\n      if (typeof className !== 'string') {\n        if (className && typeof className.className === 'string') {\n          return ParseObject.extend(className.className, className, protoProps);\n        } else {\n          throw new Error('Parse.Object.extend\\'s first argument should be the className.');\n        }\n      }\n      var adjustedClassName = className;\n\n      if (adjustedClassName === 'User' && _CoreManager2.default.get('PERFORM_USER_REWRITE')) {\n        adjustedClassName = '_User';\n      }\n\n      var parentProto = ParseObject.prototype;\n      if (this.hasOwnProperty('__super__') && this.__super__) {\n        parentProto = this.prototype;\n      } else if (classMap[adjustedClassName]) {\n        parentProto = classMap[adjustedClassName].prototype;\n      }\n      var ParseObjectSubclass = function (attributes, options) {\n        this.className = adjustedClassName;\n        this._objCount = objectCount++;\n        // Enable legacy initializers\n        if (typeof this.initialize === 'function') {\n          this.initialize.apply(this, arguments);\n        }\n\n        if (attributes && (typeof attributes === 'undefined' ? 'undefined' : (0, _typeof3.default)(attributes)) === 'object') {\n          if (!this.set(attributes || {}, options)) {\n            throw new Error('Can\\'t create an invalid Parse Object');\n          }\n        }\n      };\n      ParseObjectSubclass.className = adjustedClassName;\n      ParseObjectSubclass.__super__ = parentProto;\n\n      ParseObjectSubclass.prototype = (0, _create2.default)(parentProto, {\n        constructor: {\n          value: ParseObjectSubclass,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n\n      if (protoProps) {\n        for (var prop in protoProps) {\n          if (prop !== 'className') {\n            (0, _defineProperty2.default)(ParseObjectSubclass.prototype, prop, {\n              value: protoProps[prop],\n              enumerable: false,\n              writable: true,\n              configurable: true\n            });\n          }\n        }\n      }\n\n      if (classProps) {\n        for (var prop in classProps) {\n          if (prop !== 'className') {\n            (0, _defineProperty2.default)(ParseObjectSubclass, prop, {\n              value: classProps[prop],\n              enumerable: false,\n              writable: true,\n              configurable: true\n            });\n          }\n        }\n      }\n\n      ParseObjectSubclass.extend = function (name, protoProps, classProps) {\n        if (typeof name === 'string') {\n          return ParseObject.extend.call(ParseObjectSubclass, name, protoProps, classProps);\n        }\n        return ParseObject.extend.call(ParseObjectSubclass, adjustedClassName, name, protoProps);\n      };\n      ParseObjectSubclass.createWithoutData = ParseObject.createWithoutData;\n\n      classMap[adjustedClassName] = ParseObjectSubclass;\n      return ParseObjectSubclass;\n    }\n\n    /**\n     * Enable single instance objects, where any local objects with the same Id\n     * share the same attributes, and stay synchronized with each other.\n     * This is disabled by default in server environments, since it can lead to\n     * security issues.\n     * @method enableSingleInstance\n     */\n\n  }, {\n    key: 'enableSingleInstance',\n    value: function () {\n      singleInstance = true;\n      _CoreManager2.default.setObjectStateController(SingleInstanceStateController);\n    }\n\n    /**\n     * Disable single instance objects, where any local objects with the same Id\n     * share the same attributes, and stay synchronized with each other.\n     * When disabled, you can have two instances of the same object in memory\n     * without them sharing attributes.\n     * @method disableSingleInstance\n     */\n\n  }, {\n    key: 'disableSingleInstance',\n    value: function () {\n      singleInstance = false;\n      _CoreManager2.default.setObjectStateController(UniqueInstanceStateController);\n    }\n  }]);\n  return ParseObject;\n}();\n\nexports.default = ParseObject;\n\nvar DefaultController = {\n  fetch: function (target, forceFetch, options) {\n    if (Array.isArray(target)) {\n      if (target.length < 1) {\n        return _ParsePromise2.default.as([]);\n      }\n      var objs = [];\n      var ids = [];\n      var className = null;\n      var results = [];\n      var error = null;\n      target.forEach(function (el, i) {\n        if (error) {\n          return;\n        }\n        if (!className) {\n          className = el.className;\n        }\n        if (className !== el.className) {\n          error = new _ParseError2.default(_ParseError2.default.INVALID_CLASS_NAME, 'All objects should be of the same class');\n        }\n        if (!el.id) {\n          error = new _ParseError2.default(_ParseError2.default.MISSING_OBJECT_ID, 'All objects must have an ID');\n        }\n        if (forceFetch || (0, _keys2.default)(el._getServerData()).length === 0) {\n          ids.push(el.id);\n          objs.push(el);\n        }\n        results.push(el);\n      });\n      if (error) {\n        return _ParsePromise2.default.error(error);\n      }\n      var query = new _ParseQuery2.default(className);\n      query.containedIn('objectId', ids);\n      query._limit = ids.length;\n      return query.find(options).then(function (objects) {\n        var idMap = {};\n        objects.forEach(function (o) {\n          idMap[o.id] = o;\n        });\n        for (var i = 0; i < objs.length; i++) {\n          var obj = objs[i];\n          if (!obj || !obj.id || !idMap[obj.id]) {\n            if (forceFetch) {\n              return _ParsePromise2.default.error(new _ParseError2.default(_ParseError2.default.OBJECT_NOT_FOUND, 'All objects must exist on the server.'));\n            }\n          }\n        }\n        if (!singleInstance) {\n          // If single instance objects are disabled, we need to replace the\n          for (var i = 0; i < results.length; i++) {\n            var obj = results[i];\n            if (obj && obj.id && idMap[obj.id]) {\n              var id = obj.id;\n              obj._finishFetch(idMap[id].toJSON());\n              results[i] = idMap[id];\n            }\n          }\n        }\n        return _ParsePromise2.default.as(results);\n      });\n    } else {\n      var RESTController = _CoreManager2.default.getRESTController();\n      return RESTController.request('GET', 'classes/' + target.className + '/' + target._getId(), {}, options).then(function (response, status, xhr) {\n        if (target instanceof ParseObject) {\n          target._clearPendingOps();\n          target._clearServerData();\n          target._finishFetch(response);\n        }\n        return target;\n      });\n    }\n  },\n  destroy: function (target, options) {\n    var RESTController = _CoreManager2.default.getRESTController();\n    if (Array.isArray(target)) {\n      if (target.length < 1) {\n        return _ParsePromise2.default.as([]);\n      }\n      var batches = [[]];\n      target.forEach(function (obj) {\n        if (!obj.id) {\n          return;\n        }\n        batches[batches.length - 1].push(obj);\n        if (batches[batches.length - 1].length >= 20) {\n          batches.push([]);\n        }\n      });\n      if (batches[batches.length - 1].length === 0) {\n        // If the last batch is empty, remove it\n        batches.pop();\n      }\n      var deleteCompleted = _ParsePromise2.default.as();\n      var errors = [];\n      batches.forEach(function (batch) {\n        deleteCompleted = deleteCompleted.then(function () {\n          return RESTController.request('POST', 'batch', {\n            requests: batch.map(function (obj) {\n              return {\n                method: 'DELETE',\n                path: getServerUrlPath() + 'classes/' + obj.className + '/' + obj._getId(),\n                body: {}\n              };\n            })\n          }, options).then(function (results) {\n            for (var i = 0; i < results.length; i++) {\n              if (results[i] && results[i].hasOwnProperty('error')) {\n                var err = new _ParseError2.default(results[i].error.code, results[i].error.error);\n                err.object = batch[i];\n                errors.push(err);\n              }\n            }\n          });\n        });\n      });\n      return deleteCompleted.then(function () {\n        if (errors.length) {\n          var aggregate = new _ParseError2.default(_ParseError2.default.AGGREGATE_ERROR);\n          aggregate.errors = errors;\n          return _ParsePromise2.default.error(aggregate);\n        }\n        return _ParsePromise2.default.as(target);\n      });\n    } else if (target instanceof ParseObject) {\n      return RESTController.request('DELETE', 'classes/' + target.className + '/' + target._getId(), {}, options).then(function () {\n        return _ParsePromise2.default.as(target);\n      });\n    }\n    return _ParsePromise2.default.as(target);\n  },\n  save: function (target, options) {\n    var RESTController = _CoreManager2.default.getRESTController();\n    var stateController = _CoreManager2.default.getObjectStateController();\n    if (Array.isArray(target)) {\n      if (target.length < 1) {\n        return _ParsePromise2.default.as([]);\n      }\n\n      var unsaved = target.concat();\n      for (var i = 0; i < target.length; i++) {\n        if (target[i] instanceof ParseObject) {\n          unsaved = unsaved.concat((0, _unsavedChildren2.default)(target[i], true));\n        }\n      }\n      unsaved = (0, _unique2.default)(unsaved);\n\n      var filesSaved = _ParsePromise2.default.as();\n      var pending = [];\n      unsaved.forEach(function (el) {\n        if (el instanceof _ParseFile2.default) {\n          filesSaved = filesSaved.then(function () {\n            return el.save();\n          });\n        } else if (el instanceof ParseObject) {\n          pending.push(el);\n        }\n      });\n\n      return filesSaved.then(function () {\n        var objectError = null;\n        return _ParsePromise2.default._continueWhile(function () {\n          return pending.length > 0;\n        }, function () {\n          var batch = [];\n          var nextPending = [];\n          pending.forEach(function (el) {\n            if (batch.length < 20 && (0, _canBeSerialized2.default)(el)) {\n              batch.push(el);\n            } else {\n              nextPending.push(el);\n            }\n          });\n          pending = nextPending;\n          if (batch.length < 1) {\n            return _ParsePromise2.default.error(new _ParseError2.default(_ParseError2.default.OTHER_CAUSE, 'Tried to save a batch with a cycle.'));\n          }\n\n          // Queue up tasks for each object in the batch.\n          // When every task is ready, the API request will execute\n          var batchReturned = new _ParsePromise2.default();\n          var batchReady = [];\n          var batchTasks = [];\n          batch.forEach(function (obj, index) {\n            var ready = new _ParsePromise2.default();\n            batchReady.push(ready);\n\n            stateController.pushPendingState(obj._getStateIdentifier());\n            batchTasks.push(stateController.enqueueTask(obj._getStateIdentifier(), function () {\n              ready.resolve();\n              return batchReturned.then(function (responses, status) {\n                if (responses[index].hasOwnProperty('success')) {\n                  obj._handleSaveResponse(responses[index].success, status);\n                } else {\n                  if (!objectError && responses[index].hasOwnProperty('error')) {\n                    var serverError = responses[index].error;\n                    objectError = new _ParseError2.default(serverError.code, serverError.error);\n                    // Cancel the rest of the save\n                    pending = [];\n                  }\n                  obj._handleSaveError();\n                }\n              });\n            }));\n          });\n\n          _ParsePromise2.default.when(batchReady).then(function () {\n            // Kick off the batch request\n            return RESTController.request('POST', 'batch', {\n              requests: batch.map(function (obj) {\n                var params = obj._getSaveParams();\n                params.path = getServerUrlPath() + params.path;\n                return params;\n              })\n            }, options);\n          }).then(function (response, status, xhr) {\n            batchReturned.resolve(response, status);\n          });\n\n          return _ParsePromise2.default.when(batchTasks);\n        }).then(function () {\n          if (objectError) {\n            return _ParsePromise2.default.error(objectError);\n          }\n          return _ParsePromise2.default.as(target);\n        });\n      });\n    } else if (target instanceof ParseObject) {\n      // copying target lets Flow guarantee the pointer isn't modified elsewhere\n      var targetCopy = target;\n      var task = function () {\n        var params = targetCopy._getSaveParams();\n        return RESTController.request(params.method, params.path, params.body, options).then(function (response, status) {\n          targetCopy._handleSaveResponse(response, status);\n        }, function (error) {\n          targetCopy._handleSaveError();\n          return _ParsePromise2.default.error(error);\n        });\n      };\n\n      stateController.pushPendingState(target._getStateIdentifier());\n      return stateController.enqueueTask(target._getStateIdentifier(), task).then(function () {\n        return target;\n      }, function (error) {\n        return _ParsePromise2.default.error(error);\n      });\n    }\n    return _ParsePromise2.default.as();\n  }\n};\n\n_CoreManager2.default.setObjectController(DefaultController);\n},{\"./CoreManager\":3,\"./ParseACL\":11,\"./ParseError\":13,\"./ParseFile\":14,\"./ParseOp\":19,\"./ParsePromise\":20,\"./ParseQuery\":21,\"./ParseRelation\":22,\"./SingleInstanceStateController\":28,\"./UniqueInstanceStateController\":32,\"./canBeSerialized\":34,\"./decode\":35,\"./encode\":36,\"./equals\":37,\"./escape\":38,\"./parseDate\":40,\"./unique\":41,\"./unsavedChildren\":42,\"babel-runtime/core-js/json/stringify\":44,\"babel-runtime/core-js/object/create\":46,\"babel-runtime/core-js/object/define-property\":47,\"babel-runtime/core-js/object/freeze\":48,\"babel-runtime/core-js/object/keys\":51,\"babel-runtime/helpers/classCallCheck\":56,\"babel-runtime/helpers/createClass\":57,\"babel-runtime/helpers/typeof\":61}],19:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RelationOp = exports.RemoveOp = exports.AddUniqueOp = exports.AddOp = exports.IncrementOp = exports.UnsetOp = exports.SetOp = exports.Op = undefined;\n\nvar _getPrototypeOf = _dereq_('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _possibleConstructorReturn2 = _dereq_('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = _dereq_('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classCallCheck2 = _dereq_('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = _dereq_('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nexports.opFromJSON = opFromJSON;\n\nvar _arrayContainsObject = _dereq_('./arrayContainsObject');\n\nvar _arrayContainsObject2 = _interopRequireDefault(_arrayContainsObject);\n\nvar _decode = _dereq_('./decode');\n\nvar _decode2 = _interopRequireDefault(_decode);\n\nvar _encode = _dereq_('./encode');\n\nvar _encode2 = _interopRequireDefault(_encode);\n\nvar _ParseObject = _dereq_('./ParseObject');\n\nvar _ParseObject2 = _interopRequireDefault(_ParseObject);\n\nvar _ParseRelation = _dereq_('./ParseRelation');\n\nvar _ParseRelation2 = _interopRequireDefault(_ParseRelation);\n\nvar _unique = _dereq_('./unique');\n\nvar _unique2 = _interopRequireDefault(_unique);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nfunction opFromJSON(json) {\n  if (!json || !json.__op) {\n    return null;\n  }\n  switch (json.__op) {\n    case 'Delete':\n      return new UnsetOp();\n    case 'Increment':\n      return new IncrementOp(json.amount);\n    case 'Add':\n      return new AddOp((0, _decode2.default)(json.objects));\n    case 'AddUnique':\n      return new AddUniqueOp((0, _decode2.default)(json.objects));\n    case 'Remove':\n      return new RemoveOp((0, _decode2.default)(json.objects));\n    case 'AddRelation':\n      var toAdd = (0, _decode2.default)(json.objects);\n      if (!Array.isArray(toAdd)) {\n        return new RelationOp([], []);\n      }\n      return new RelationOp(toAdd, []);\n    case 'RemoveRelation':\n      var toRemove = (0, _decode2.default)(json.objects);\n      if (!Array.isArray(toRemove)) {\n        return new RelationOp([], []);\n      }\n      return new RelationOp([], toRemove);\n    case 'Batch':\n      var toAdd = [];\n      var toRemove = [];\n      for (var i = 0; i < json.ops.length; i++) {\n        if (json.ops[i].__op === 'AddRelation') {\n          toAdd = toAdd.concat((0, _decode2.default)(json.ops[i].objects));\n        } else if (json.ops[i].__op === 'RemoveRelation') {\n          toRemove = toRemove.concat((0, _decode2.default)(json.ops[i].objects));\n        }\n      }\n      return new RelationOp(toAdd, toRemove);\n  }\n  return null;\n}\n\nvar Op = exports.Op = function () {\n  function Op() {\n    (0, _classCallCheck3.default)(this, Op);\n  }\n\n  (0, _createClass3.default)(Op, [{\n    key: 'applyTo',\n\n    // Empty parent class\n    value: function (value) {}\n  }, {\n    key: 'mergeWith',\n    value: function (previous) {}\n  }, {\n    key: 'toJSON',\n    value: function () {}\n  }]);\n  return Op;\n}();\n\nvar SetOp = exports.SetOp = function (_Op) {\n  (0, _inherits3.default)(SetOp, _Op);\n\n  function SetOp(value) {\n    (0, _classCallCheck3.default)(this, SetOp);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (SetOp.__proto__ || (0, _getPrototypeOf2.default)(SetOp)).call(this));\n\n    _this._value = value;\n    return _this;\n  }\n\n  (0, _createClass3.default)(SetOp, [{\n    key: 'applyTo',\n    value: function (value) {\n      return this._value;\n    }\n  }, {\n    key: 'mergeWith',\n    value: function (previous) {\n      return new SetOp(this._value);\n    }\n  }, {\n    key: 'toJSON',\n    value: function () {\n      return (0, _encode2.default)(this._value, false, true);\n    }\n  }]);\n  return SetOp;\n}(Op);\n\nvar UnsetOp = exports.UnsetOp = function (_Op2) {\n  (0, _inherits3.default)(UnsetOp, _Op2);\n\n  function UnsetOp() {\n    (0, _classCallCheck3.default)(this, UnsetOp);\n    return (0, _possibleConstructorReturn3.default)(this, (UnsetOp.__proto__ || (0, _getPrototypeOf2.default)(UnsetOp)).apply(this, arguments));\n  }\n\n  (0, _createClass3.default)(UnsetOp, [{\n    key: 'applyTo',\n    value: function (value) {\n      return undefined;\n    }\n  }, {\n    key: 'mergeWith',\n    value: function (previous) {\n      return new UnsetOp();\n    }\n  }, {\n    key: 'toJSON',\n    value: function () {\n      return { __op: 'Delete' };\n    }\n  }]);\n  return UnsetOp;\n}(Op);\n\nvar IncrementOp = exports.IncrementOp = function (_Op3) {\n  (0, _inherits3.default)(IncrementOp, _Op3);\n\n  function IncrementOp(amount) {\n    (0, _classCallCheck3.default)(this, IncrementOp);\n\n    var _this3 = (0, _possibleConstructorReturn3.default)(this, (IncrementOp.__proto__ || (0, _getPrototypeOf2.default)(IncrementOp)).call(this));\n\n    if (typeof amount !== 'number') {\n      throw new TypeError('Increment Op must be initialized with a numeric amount.');\n    }\n    _this3._amount = amount;\n    return _this3;\n  }\n\n  (0, _createClass3.default)(IncrementOp, [{\n    key: 'applyTo',\n    value: function (value) {\n      if (typeof value === 'undefined') {\n        return this._amount;\n      }\n      if (typeof value !== 'number') {\n        throw new TypeError('Cannot increment a non-numeric value.');\n      }\n      return this._amount + value;\n    }\n  }, {\n    key: 'mergeWith',\n    value: function (previous) {\n      if (!previous) {\n        return this;\n      }\n      if (previous instanceof SetOp) {\n        return new SetOp(this.applyTo(previous._value));\n      }\n      if (previous instanceof UnsetOp) {\n        return new SetOp(this._amount);\n      }\n      if (previous instanceof IncrementOp) {\n        return new IncrementOp(this.applyTo(previous._amount));\n      }\n      throw new Error('Cannot merge Increment Op with the previous Op');\n    }\n  }, {\n    key: 'toJSON',\n    value: function () {\n      return { __op: 'Increment', amount: this._amount };\n    }\n  }]);\n  return IncrementOp;\n}(Op);\n\nvar AddOp = exports.AddOp = function (_Op4) {\n  (0, _inherits3.default)(AddOp, _Op4);\n\n  function AddOp(value) {\n    (0, _classCallCheck3.default)(this, AddOp);\n\n    var _this4 = (0, _possibleConstructorReturn3.default)(this, (AddOp.__proto__ || (0, _getPrototypeOf2.default)(AddOp)).call(this));\n\n    _this4._value = Array.isArray(value) ? value : [value];\n    return _this4;\n  }\n\n  (0, _createClass3.default)(AddOp, [{\n    key: 'applyTo',\n    value: function (value) {\n      if (value == null) {\n        return this._value;\n      }\n      if (Array.isArray(value)) {\n        return value.concat(this._value);\n      }\n      throw new Error('Cannot add elements to a non-array value');\n    }\n  }, {\n    key: 'mergeWith',\n    value: function (previous) {\n      if (!previous) {\n        return this;\n      }\n      if (previous instanceof SetOp) {\n        return new SetOp(this.applyTo(previous._value));\n      }\n      if (previous instanceof UnsetOp) {\n        return new SetOp(this._value);\n      }\n      if (previous instanceof AddOp) {\n        return new AddOp(this.applyTo(previous._value));\n      }\n      throw new Error('Cannot merge Add Op with the previous Op');\n    }\n  }, {\n    key: 'toJSON',\n    value: function () {\n      return { __op: 'Add', objects: (0, _encode2.default)(this._value, false, true) };\n    }\n  }]);\n  return AddOp;\n}(Op);\n\nvar AddUniqueOp = exports.AddUniqueOp = function (_Op5) {\n  (0, _inherits3.default)(AddUniqueOp, _Op5);\n\n  function AddUniqueOp(value) {\n    (0, _classCallCheck3.default)(this, AddUniqueOp);\n\n    var _this5 = (0, _possibleConstructorReturn3.default)(this, (AddUniqueOp.__proto__ || (0, _getPrototypeOf2.default)(AddUniqueOp)).call(this));\n\n    _this5._value = (0, _unique2.default)(Array.isArray(value) ? value : [value]);\n    return _this5;\n  }\n\n  (0, _createClass3.default)(AddUniqueOp, [{\n    key: 'applyTo',\n    value: function (value) {\n      if (value == null) {\n        return this._value || [];\n      }\n      if (Array.isArray(value)) {\n        // copying value lets Flow guarantee the pointer isn't modified elsewhere\n        var valueCopy = value;\n        var toAdd = [];\n        this._value.forEach(function (v) {\n          if (v instanceof _ParseObject2.default) {\n            if (!(0, _arrayContainsObject2.default)(valueCopy, v)) {\n              toAdd.push(v);\n            }\n          } else {\n            if (valueCopy.indexOf(v) < 0) {\n              toAdd.push(v);\n            }\n          }\n        });\n        return value.concat(toAdd);\n      }\n      throw new Error('Cannot add elements to a non-array value');\n    }\n  }, {\n    key: 'mergeWith',\n    value: function (previous) {\n      if (!previous) {\n        return this;\n      }\n      if (previous instanceof SetOp) {\n        return new SetOp(this.applyTo(previous._value));\n      }\n      if (previous instanceof UnsetOp) {\n        return new SetOp(this._value);\n      }\n      if (previous instanceof AddUniqueOp) {\n        return new AddUniqueOp(this.applyTo(previous._value));\n      }\n      throw new Error('Cannot merge AddUnique Op with the previous Op');\n    }\n  }, {\n    key: 'toJSON',\n    value: function () {\n      return { __op: 'AddUnique', objects: (0, _encode2.default)(this._value, false, true) };\n    }\n  }]);\n  return AddUniqueOp;\n}(Op);\n\nvar RemoveOp = exports.RemoveOp = function (_Op6) {\n  (0, _inherits3.default)(RemoveOp, _Op6);\n\n  function RemoveOp(value) {\n    (0, _classCallCheck3.default)(this, RemoveOp);\n\n    var _this6 = (0, _possibleConstructorReturn3.default)(this, (RemoveOp.__proto__ || (0, _getPrototypeOf2.default)(RemoveOp)).call(this));\n\n    _this6._value = (0, _unique2.default)(Array.isArray(value) ? value : [value]);\n    return _this6;\n  }\n\n  (0, _createClass3.default)(RemoveOp, [{\n    key: 'applyTo',\n    value: function (value) {\n      if (value == null) {\n        return [];\n      }\n      if (Array.isArray(value)) {\n        var i = value.indexOf(this._value);\n        var removed = value.concat([]);\n        for (var i = 0; i < this._value.length; i++) {\n          var index = removed.indexOf(this._value[i]);\n          while (index > -1) {\n            removed.splice(index, 1);\n            index = removed.indexOf(this._value[i]);\n          }\n          if (this._value[i] instanceof _ParseObject2.default && this._value[i].id) {\n            for (var j = 0; j < removed.length; j++) {\n              if (removed[j] instanceof _ParseObject2.default && this._value[i].id === removed[j].id) {\n                removed.splice(j, 1);\n                j--;\n              }\n            }\n          }\n        }\n        return removed;\n      }\n      throw new Error('Cannot remove elements from a non-array value');\n    }\n  }, {\n    key: 'mergeWith',\n    value: function (previous) {\n      if (!previous) {\n        return this;\n      }\n      if (previous instanceof SetOp) {\n        return new SetOp(this.applyTo(previous._value));\n      }\n      if (previous instanceof UnsetOp) {\n        return new UnsetOp();\n      }\n      if (previous instanceof RemoveOp) {\n        var uniques = previous._value.concat([]);\n        for (var i = 0; i < this._value.length; i++) {\n          if (this._value[i] instanceof _ParseObject2.default) {\n            if (!(0, _arrayContainsObject2.default)(uniques, this._value[i])) {\n              uniques.push(this._value[i]);\n            }\n          } else {\n            if (uniques.indexOf(this._value[i]) < 0) {\n              uniques.push(this._value[i]);\n            }\n          }\n        }\n        return new RemoveOp(uniques);\n      }\n      throw new Error('Cannot merge Remove Op with the previous Op');\n    }\n  }, {\n    key: 'toJSON',\n    value: function () {\n      return { __op: 'Remove', objects: (0, _encode2.default)(this._value, false, true) };\n    }\n  }]);\n  return RemoveOp;\n}(Op);\n\nvar RelationOp = exports.RelationOp = function (_Op7) {\n  (0, _inherits3.default)(RelationOp, _Op7);\n\n  function RelationOp(adds, removes) {\n    (0, _classCallCheck3.default)(this, RelationOp);\n\n    var _this7 = (0, _possibleConstructorReturn3.default)(this, (RelationOp.__proto__ || (0, _getPrototypeOf2.default)(RelationOp)).call(this));\n\n    _this7._targetClassName = null;\n\n    if (Array.isArray(adds)) {\n      _this7.relationsToAdd = (0, _unique2.default)(adds.map(_this7._extractId, _this7));\n    }\n\n    if (Array.isArray(removes)) {\n      _this7.relationsToRemove = (0, _unique2.default)(removes.map(_this7._extractId, _this7));\n    }\n    return _this7;\n  }\n\n  (0, _createClass3.default)(RelationOp, [{\n    key: '_extractId',\n    value: function (obj) {\n      if (typeof obj === 'string') {\n        return obj;\n      }\n      if (!obj.id) {\n        throw new Error('You cannot add or remove an unsaved Parse Object from a relation');\n      }\n      if (!this._targetClassName) {\n        this._targetClassName = obj.className;\n      }\n      if (this._targetClassName !== obj.className) {\n        throw new Error('Tried to create a Relation with 2 different object types: ' + this._targetClassName + ' and ' + obj.className + '.');\n      }\n      return obj.id;\n    }\n  }, {\n    key: 'applyTo',\n    value: function (value, object, key) {\n      if (!value) {\n        if (!object || !key) {\n          throw new Error('Cannot apply a RelationOp without either a previous value, or an object and a key');\n        }\n        var parent = new _ParseObject2.default(object.className);\n        if (object.id && object.id.indexOf('local') === 0) {\n          parent._localId = object.id;\n        } else if (object.id) {\n          parent.id = object.id;\n        }\n        var relation = new _ParseRelation2.default(parent, key);\n        relation.targetClassName = this._targetClassName;\n        return relation;\n      }\n      if (value instanceof _ParseRelation2.default) {\n        if (this._targetClassName) {\n          if (value.targetClassName) {\n            if (this._targetClassName !== value.targetClassName) {\n              throw new Error('Related object must be a ' + value.targetClassName + ', but a ' + this._targetClassName + ' was passed in.');\n            }\n          } else {\n            value.targetClassName = this._targetClassName;\n          }\n        }\n        return value;\n      } else {\n        throw new Error('Relation cannot be applied to a non-relation field');\n      }\n    }\n  }, {\n    key: 'mergeWith',\n    value: function (previous) {\n      if (!previous) {\n        return this;\n      } else if (previous instanceof UnsetOp) {\n        throw new Error('You cannot modify a relation after deleting it.');\n      } else if (previous instanceof RelationOp) {\n        if (previous._targetClassName && previous._targetClassName !== this._targetClassName) {\n          throw new Error('Related object must be of class ' + previous._targetClassName + ', but ' + (this._targetClassName || 'null') + ' was passed in.');\n        }\n        var newAdd = previous.relationsToAdd.concat([]);\n        this.relationsToRemove.forEach(function (r) {\n          var index = newAdd.indexOf(r);\n          if (index > -1) {\n            newAdd.splice(index, 1);\n          }\n        });\n        this.relationsToAdd.forEach(function (r) {\n          var index = newAdd.indexOf(r);\n          if (index < 0) {\n            newAdd.push(r);\n          }\n        });\n\n        var newRemove = previous.relationsToRemove.concat([]);\n        this.relationsToAdd.forEach(function (r) {\n          var index = newRemove.indexOf(r);\n          if (index > -1) {\n            newRemove.splice(index, 1);\n          }\n        });\n        this.relationsToRemove.forEach(function (r) {\n          var index = newRemove.indexOf(r);\n          if (index < 0) {\n            newRemove.push(r);\n          }\n        });\n\n        var newRelation = new RelationOp(newAdd, newRemove);\n        newRelation._targetClassName = this._targetClassName;\n        return newRelation;\n      }\n      throw new Error('Cannot merge Relation Op with the previous Op');\n    }\n  }, {\n    key: 'toJSON',\n    value: function () {\n      var _this8 = this;\n\n      var idToPointer = function (id) {\n        return {\n          __type: 'Pointer',\n          className: _this8._targetClassName,\n          objectId: id\n        };\n      };\n\n      var adds = null;\n      var removes = null;\n      var pointers = null;\n\n      if (this.relationsToAdd.length > 0) {\n        pointers = this.relationsToAdd.map(idToPointer);\n        adds = { __op: 'AddRelation', objects: pointers };\n      }\n      if (this.relationsToRemove.length > 0) {\n        pointers = this.relationsToRemove.map(idToPointer);\n        removes = { __op: 'RemoveRelation', objects: pointers };\n      }\n\n      if (adds && removes) {\n        return { __op: 'Batch', ops: [adds, removes] };\n      }\n\n      return adds || removes || {};\n    }\n  }]);\n  return RelationOp;\n}(Op);\n},{\"./ParseObject\":18,\"./ParseRelation\":22,\"./arrayContainsObject\":33,\"./decode\":35,\"./encode\":36,\"./unique\":41,\"babel-runtime/core-js/object/get-prototype-of\":50,\"babel-runtime/helpers/classCallCheck\":56,\"babel-runtime/helpers/createClass\":57,\"babel-runtime/helpers/inherits\":59,\"babel-runtime/helpers/possibleConstructorReturn\":60}],20:[function(_dereq_,module,exports){\n(function (process){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getIterator2 = _dereq_('babel-runtime/core-js/get-iterator');\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _typeof2 = _dereq_('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _classCallCheck2 = _dereq_('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = _dereq_('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\nvar _isPromisesAPlusCompliant = true;\n\n/**\n * A Promise is returned by async methods as a hook to provide callbacks to be\n * called when the async task is fulfilled.\n *\n * <p>Typical usage would be like:<pre>\n *    query.find().then(function(results) {\n *      results[0].set(\"foo\", \"bar\");\n *      return results[0].saveAsync();\n *    }).then(function(result) {\n *      console.log(\"Updated \" + result.id);\n *    });\n * </pre></p>\n *\n * @class Parse.Promise\n * @constructor\n */\n\nvar ParsePromise = function () {\n  function ParsePromise(executor) {\n    (0, _classCallCheck3.default)(this, ParsePromise);\n\n    this._resolved = false;\n    this._rejected = false;\n    this._resolvedCallbacks = [];\n    this._rejectedCallbacks = [];\n\n    if (typeof executor === 'function') {\n      executor(this.resolve.bind(this), this.reject.bind(this));\n    }\n  }\n\n  /**\n   * Marks this promise as fulfilled, firing any callbacks waiting on it.\n   * @method resolve\n   * @param {Object} result the result to pass to the callbacks.\n   */\n\n  (0, _createClass3.default)(ParsePromise, [{\n    key: 'resolve',\n    value: function () {\n      if (this._resolved || this._rejected) {\n        throw new Error('A promise was resolved even though it had already been ' + (this._resolved ? 'resolved' : 'rejected') + '.');\n      }\n      this._resolved = true;\n\n      for (var _len = arguments.length, results = Array(_len), _key = 0; _key < _len; _key++) {\n        results[_key] = arguments[_key];\n      }\n\n      this._result = results;\n      for (var i = 0; i < this._resolvedCallbacks.length; i++) {\n        this._resolvedCallbacks[i].apply(this, results);\n      }\n\n      this._resolvedCallbacks = [];\n      this._rejectedCallbacks = [];\n    }\n\n    /**\n     * Marks this promise as fulfilled, firing any callbacks waiting on it.\n     * @method reject\n     * @param {Object} error the error to pass to the callbacks.\n     */\n\n  }, {\n    key: 'reject',\n    value: function (error) {\n      if (this._resolved || this._rejected) {\n        throw new Error('A promise was rejected even though it had already been ' + (this._resolved ? 'resolved' : 'rejected') + '.');\n      }\n      this._rejected = true;\n      this._error = error;\n      for (var i = 0; i < this._rejectedCallbacks.length; i++) {\n        this._rejectedCallbacks[i](error);\n      }\n      this._resolvedCallbacks = [];\n      this._rejectedCallbacks = [];\n    }\n\n    /**\n     * Adds callbacks to be called when this promise is fulfilled. Returns a new\n     * Promise that will be fulfilled when the callback is complete. It allows\n     * chaining. If the callback itself returns a Promise, then the one returned\n     * by \"then\" will not be fulfilled until that one returned by the callback\n     * is fulfilled.\n     * @method then\n     * @param {Function} resolvedCallback Function that is called when this\n     * Promise is resolved. Once the callback is complete, then the Promise\n     * returned by \"then\" will also be fulfilled.\n     * @param {Function} rejectedCallback Function that is called when this\n     * Promise is rejected with an error. Once the callback is complete, then\n     * the promise returned by \"then\" with be resolved successfully. If\n     * rejectedCallback is null, or it returns a rejected Promise, then the\n     * Promise returned by \"then\" will be rejected with that error.\n     * @return {Parse.Promise} A new Promise that will be fulfilled after this\n     * Promise is fulfilled and either callback has completed. If the callback\n     * returned a Promise, then this Promise will not be fulfilled until that\n     * one is.\n     */\n\n  }, {\n    key: 'then',\n    value: function (resolvedCallback, rejectedCallback) {\n      var _this = this;\n\n      var promise = new ParsePromise();\n\n      var wrappedResolvedCallback = function () {\n        for (var _len2 = arguments.length, results = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          results[_key2] = arguments[_key2];\n        }\n\n        if (typeof resolvedCallback === 'function') {\n          if (_isPromisesAPlusCompliant) {\n            try {\n              results = [resolvedCallback.apply(this, results)];\n            } catch (e) {\n              results = [ParsePromise.error(e)];\n            }\n          } else {\n            results = [resolvedCallback.apply(this, results)];\n          }\n        }\n        if (results.length === 1 && ParsePromise.is(results[0])) {\n          results[0].then(function () {\n            promise.resolve.apply(promise, arguments);\n          }, function (error) {\n            promise.reject(error);\n          });\n        } else {\n          promise.resolve.apply(promise, results);\n        }\n      };\n\n      var wrappedRejectedCallback = function (error) {\n        var result = [];\n        if (typeof rejectedCallback === 'function') {\n          if (_isPromisesAPlusCompliant) {\n            try {\n              result = [rejectedCallback(error)];\n            } catch (e) {\n              result = [ParsePromise.error(e)];\n            }\n          } else {\n            result = [rejectedCallback(error)];\n          }\n          if (result.length === 1 && ParsePromise.is(result[0])) {\n            result[0].then(function () {\n              promise.resolve.apply(promise, arguments);\n            }, function (error) {\n              promise.reject(error);\n            });\n          } else {\n            if (_isPromisesAPlusCompliant) {\n              promise.resolve.apply(promise, result);\n            } else {\n              promise.reject(result[0]);\n            }\n          }\n        } else {\n          promise.reject(error);\n        }\n      };\n\n      var runLater = function (fn) {\n        fn.call();\n      };\n      if (_isPromisesAPlusCompliant) {\n        if (typeof process !== 'undefined' && typeof process.nextTick === 'function') {\n          runLater = function (fn) {\n            process.nextTick(fn);\n          };\n        } else if (typeof setTimeout === 'function') {\n          runLater = function (fn) {\n            setTimeout(fn, 0);\n          };\n        }\n      }\n\n      if (this._resolved) {\n        runLater(function () {\n          wrappedResolvedCallback.apply(_this, _this._result);\n        });\n      } else if (this._rejected) {\n        runLater(function () {\n          wrappedRejectedCallback(_this._error);\n        });\n      } else {\n        this._resolvedCallbacks.push(wrappedResolvedCallback);\n        this._rejectedCallbacks.push(wrappedRejectedCallback);\n      }\n\n      return promise;\n    }\n\n    /**\n     * Add handlers to be called when the promise\n     * is either resolved or rejected\n     * @method always\n     */\n\n  }, {\n    key: 'always',\n    value: function (callback) {\n      return this.then(callback, callback);\n    }\n\n    /**\n     * Add handlers to be called when the Promise object is resolved\n     * @method done\n     */\n\n  }, {\n    key: 'done',\n    value: function (callback) {\n      return this.then(callback);\n    }\n\n    /**\n     * Add handlers to be called when the Promise object is rejected\n     * Alias for catch().\n     * @method fail\n     */\n\n  }, {\n    key: 'fail',\n    value: function (callback) {\n      return this.then(null, callback);\n    }\n\n    /**\n     * Add handlers to be called when the Promise object is rejected\n     * @method catch\n     */\n\n  }, {\n    key: 'catch',\n    value: function (callback) {\n      return this.then(null, callback);\n    }\n\n    /**\n     * Run the given callbacks after this promise is fulfilled.\n     * @method _thenRunCallbacks\n     * @param optionsOrCallback {} A Backbone-style options callback, or a\n     * callback function. If this is an options object and contains a \"model\"\n     * attributes, that will be passed to error callbacks as the first argument.\n     * @param model {} If truthy, this will be passed as the first result of\n     * error callbacks. This is for Backbone-compatability.\n     * @return {Parse.Promise} A promise that will be resolved after the\n     * callbacks are run, with the same result as this.\n     */\n\n  }, {\n    key: '_thenRunCallbacks',\n    value: function (optionsOrCallback, model) {\n      var options = {};\n      if (typeof optionsOrCallback === 'function') {\n        options.success = function (result) {\n          optionsOrCallback(result, null);\n        };\n        options.error = function (error) {\n          optionsOrCallback(null, error);\n        };\n      } else if ((typeof optionsOrCallback === 'undefined' ? 'undefined' : (0, _typeof3.default)(optionsOrCallback)) === 'object') {\n        if (typeof optionsOrCallback.success === 'function') {\n          options.success = optionsOrCallback.success;\n        }\n        if (typeof optionsOrCallback.error === 'function') {\n          options.error = optionsOrCallback.error;\n        }\n      }\n\n      return this.then(function () {\n        for (var _len3 = arguments.length, results = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n          results[_key3] = arguments[_key3];\n        }\n\n        if (options.success) {\n          options.success.apply(this, results);\n        }\n        return ParsePromise.as.apply(ParsePromise, arguments);\n      }, function (error) {\n        if (options.error) {\n          if (typeof model !== 'undefined') {\n            options.error(model, error);\n          } else {\n            options.error(error);\n          }\n        }\n        // By explicitly returning a rejected Promise, this will work with\n        // either jQuery or Promises/A+ semantics.\n        return ParsePromise.error(error);\n      });\n    }\n\n    /**\n     * Adds a callback function that should be called regardless of whether\n     * this promise failed or succeeded. The callback will be given either the\n     * array of results for its first argument, or the error as its second,\n     * depending on whether this Promise was rejected or resolved. Returns a\n     * new Promise, like \"then\" would.\n     * @method _continueWith\n     * @param {Function} continuation the callback.\n     */\n\n  }, {\n    key: '_continueWith',\n    value: function (continuation) {\n      return this.then(function () {\n        for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n          args[_key4] = arguments[_key4];\n        }\n\n        return continuation(args, null);\n      }, function (error) {\n        return continuation(null, error);\n      });\n    }\n\n    /**\n     * Returns true iff the given object fulfils the Promise interface.\n     * @method is\n     * @param {Object} promise The object to test\n     * @static\n     * @return {Boolean}\n     */\n\n  }], [{\n    key: 'is',\n    value: function (promise) {\n      return promise != null && typeof promise.then === 'function';\n    }\n\n    /**\n     * Returns a new promise that is resolved with a given value.\n     * @method as\n     * @param value The value to resolve the promise with\n     * @static\n     * @return {Parse.Promise} the new promise.\n     */\n\n  }, {\n    key: 'as',\n    value: function () {\n      var promise = new ParsePromise();\n\n      for (var _len5 = arguments.length, values = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        values[_key5] = arguments[_key5];\n      }\n\n      promise.resolve.apply(promise, values);\n      return promise;\n    }\n\n    /**\n     * Returns a new promise that is resolved with a given value.\n     * If that value is a thenable Promise (has a .then() prototype\n     * method), the new promise will be chained to the end of the\n     * value.\n     * @method resolve\n     * @param value The value to resolve the promise with\n     * @static\n     * @return {Parse.Promise} the new promise.\n     */\n\n  }, {\n    key: 'resolve',\n    value: function (value) {\n      return new ParsePromise(function (resolve, reject) {\n        if (ParsePromise.is(value)) {\n          value.then(resolve, reject);\n        } else {\n          resolve(value);\n        }\n      });\n    }\n\n    /**\n     * Returns a new promise that is rejected with a given error.\n     * @method error\n     * @param error The error to reject the promise with\n     * @static\n     * @return {Parse.Promise} the new promise.\n     */\n\n  }, {\n    key: 'error',\n    value: function () {\n      var promise = new ParsePromise();\n\n      for (var _len6 = arguments.length, errors = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        errors[_key6] = arguments[_key6];\n      }\n\n      promise.reject.apply(promise, errors);\n      return promise;\n    }\n\n    /**\n     * Returns a new promise that is rejected with a given error.\n     * This is an alias for Parse.Promise.error, for compliance with\n     * the ES6 implementation.\n     * @method reject\n     * @param error The error to reject the promise with\n     * @static\n     * @return {Parse.Promise} the new promise.\n     */\n\n  }, {\n    key: 'reject',\n    value: function () {\n      for (var _len7 = arguments.length, errors = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n        errors[_key7] = arguments[_key7];\n      }\n\n      return ParsePromise.error.apply(null, errors);\n    }\n\n    /**\n     * Returns a new promise that is fulfilled when all of the input promises\n     * are resolved. If any promise in the list fails, then the returned promise\n     * will be rejected with an array containing the error from each promise.\n     * If they all succeed, then the returned promise will succeed, with the\n     * results being the results of all the input\n     * promises. For example: <pre>\n     *   var p1 = Parse.Promise.as(1);\n     *   var p2 = Parse.Promise.as(2);\n     *   var p3 = Parse.Promise.as(3);\n     *\n     *   Parse.Promise.when(p1, p2, p3).then(function(r1, r2, r3) {\n     *     console.log(r1);  // prints 1\n     *     console.log(r2);  // prints 2\n     *     console.log(r3);  // prints 3\n     *   });</pre>\n     *\n     * The input promises can also be specified as an array: <pre>\n     *   var promises = [p1, p2, p3];\n     *   Parse.Promise.when(promises).then(function(results) {\n     *     console.log(results);  // prints [1,2,3]\n     *   });\n     * </pre>\n     * @method when\n     * @param {Array} promises a list of promises to wait for.\n     * @static\n     * @return {Parse.Promise} the new promise.\n     */\n\n  }, {\n    key: 'when',\n    value: function (promises) {\n      var objects;\n      var arrayArgument = Array.isArray(promises);\n      if (arrayArgument) {\n        objects = promises;\n      } else {\n        objects = arguments;\n      }\n\n      var total = objects.length;\n      var hadError = false;\n      var results = [];\n      var returnValue = arrayArgument ? [results] : results;\n      var errors = [];\n      results.length = objects.length;\n      errors.length = objects.length;\n\n      if (total === 0) {\n        return ParsePromise.as.apply(this, returnValue);\n      }\n\n      var promise = new ParsePromise();\n\n      var resolveOne = function () {\n        total--;\n        if (total <= 0) {\n          if (hadError) {\n            promise.reject(errors);\n          } else {\n            promise.resolve.apply(promise, returnValue);\n          }\n        }\n      };\n\n      var chain = function (object, index) {\n        if (ParsePromise.is(object)) {\n          object.then(function (result) {\n            results[index] = result;\n            resolveOne();\n          }, function (error) {\n            errors[index] = error;\n            hadError = true;\n            resolveOne();\n          });\n        } else {\n          results[i] = object;\n          resolveOne();\n        }\n      };\n      for (var i = 0; i < objects.length; i++) {\n        chain(objects[i], i);\n      }\n\n      return promise;\n    }\n\n    /**\n     * Returns a new promise that is fulfilled when all of the promises in the\n     * iterable argument are resolved. If any promise in the list fails, then\n     * the returned promise will be immediately rejected with the reason that\n     * single promise rejected. If they all succeed, then the returned promise\n     * will succeed, with the results being the results of all the input\n     * promises. If the iterable provided is empty, the returned promise will\n     * be immediately resolved.\n     * \n     * For example: <pre>\n     *   var p1 = Parse.Promise.as(1);\n     *   var p2 = Parse.Promise.as(2);\n     *   var p3 = Parse.Promise.as(3);\n     *\n     *   Parse.Promise.all([p1, p2, p3]).then(function([r1, r2, r3]) {\n     *     console.log(r1);  // prints 1\n     *     console.log(r2);  // prints 2\n     *     console.log(r3);  // prints 3\n     *   });</pre>\n     *\n     * @method all\n     * @param {Iterable} promises an iterable of promises to wait for.\n     * @static\n     * @return {Parse.Promise} the new promise.\n     */\n\n  }, {\n    key: 'all',\n    value: function (promises) {\n      var total = 0;\n      var objects = [];\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = (0, _getIterator3.default)(promises), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var p = _step.value;\n\n          objects[total++] = p;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      if (total === 0) {\n        return ParsePromise.as([]);\n      }\n\n      var hadError = false;\n      var promise = new ParsePromise();\n      var resolved = 0;\n      var results = [];\n      objects.forEach(function (object, i) {\n        if (ParsePromise.is(object)) {\n          object.then(function (result) {\n            if (hadError) {\n              return false;\n            }\n            results[i] = result;\n            resolved++;\n            if (resolved >= total) {\n              promise.resolve(results);\n            }\n          }, function (error) {\n            // Reject immediately\n            promise.reject(error);\n            hadError = true;\n          });\n        } else {\n          results[i] = object;\n          resolved++;\n          if (!hadError && resolved >= total) {\n            promise.resolve(results);\n          }\n        }\n      });\n\n      return promise;\n    }\n\n    /**\n     * Returns a new promise that is immediately fulfilled when any of the\n     * promises in the iterable argument are resolved or rejected. If the\n     * first promise to complete is resolved, the returned promise will be\n     * resolved with the same value. Likewise, if the first promise to\n     * complete is rejected, the returned promise will be rejected with the\n     * same reason.\n     *\n     * @method race\n     * @param {Iterable} promises an iterable of promises to wait for.\n     * @static\n     * @return {Parse.Promise} the new promise.\n     */\n\n  }, {\n    key: 'race',\n    value: function (promises) {\n      var completed = false;\n      var promise = new ParsePromise();\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = (0, _getIterator3.default)(promises), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var p = _step2.value;\n\n          if (ParsePromise.is(p)) {\n            p.then(function (result) {\n              if (completed) {\n                return;\n              }\n              completed = true;\n              promise.resolve(result);\n            }, function (error) {\n              if (completed) {\n                return;\n              }\n              completed = true;\n              promise.reject(error);\n            });\n          } else if (!completed) {\n            completed = true;\n            promise.resolve(p);\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return promise;\n    }\n\n    /**\n     * Runs the given asyncFunction repeatedly, as long as the predicate\n     * function returns a truthy value. Stops repeating if asyncFunction returns\n     * a rejected promise.\n     * @method _continueWhile\n     * @param {Function} predicate should return false when ready to stop.\n     * @param {Function} asyncFunction should return a Promise.\n     * @static\n     */\n\n  }, {\n    key: '_continueWhile',\n    value: function (predicate, asyncFunction) {\n      if (predicate()) {\n        return asyncFunction().then(function () {\n          return ParsePromise._continueWhile(predicate, asyncFunction);\n        });\n      }\n      return ParsePromise.as();\n    }\n  }, {\n    key: 'isPromisesAPlusCompliant',\n    value: function () {\n      return _isPromisesAPlusCompliant;\n    }\n  }, {\n    key: 'enableAPlusCompliant',\n    value: function () {\n      _isPromisesAPlusCompliant = true;\n    }\n  }, {\n    key: 'disableAPlusCompliant',\n    value: function () {\n      _isPromisesAPlusCompliant = false;\n    }\n  }]);\n  return ParsePromise;\n}();\n\nexports.default = ParsePromise;\n}).call(this,_dereq_('_process'))\n},{\"_process\":168,\"babel-runtime/core-js/get-iterator\":43,\"babel-runtime/helpers/classCallCheck\":56,\"babel-runtime/helpers/createClass\":57,\"babel-runtime/helpers/typeof\":61}],21:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = _dereq_('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _classCallCheck2 = _dereq_('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = _dereq_('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _CoreManager = _dereq_('./CoreManager');\n\nvar _CoreManager2 = _interopRequireDefault(_CoreManager);\n\nvar _encode = _dereq_('./encode');\n\nvar _encode2 = _interopRequireDefault(_encode);\n\nvar _ParseError = _dereq_('./ParseError');\n\nvar _ParseError2 = _interopRequireDefault(_ParseError);\n\nvar _ParseGeoPoint = _dereq_('./ParseGeoPoint');\n\nvar _ParseGeoPoint2 = _interopRequireDefault(_ParseGeoPoint);\n\nvar _ParseObject = _dereq_('./ParseObject');\n\nvar _ParseObject2 = _interopRequireDefault(_ParseObject);\n\nvar _ParsePromise = _dereq_('./ParsePromise');\n\nvar _ParsePromise2 = _interopRequireDefault(_ParsePromise);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Converts a string into a regex that matches it.\n * Surrounding with \\Q .. \\E does this, we just need to escape any \\E's in\n * the text separately.\n */\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nfunction quote(s) {\n  return '\\\\Q' + s.replace('\\\\E', '\\\\E\\\\\\\\E\\\\Q') + '\\\\E';\n}\n\n/**\n * Creates a new parse Parse.Query for the given Parse.Object subclass.\n * @class Parse.Query\n * @constructor\n * @param {} objectClass An instance of a subclass of Parse.Object, or a Parse className string.\n *\n * <p>Parse.Query defines a query that is used to fetch Parse.Objects. The\n * most common use case is finding all objects that match a query through the\n * <code>find</code> method. For example, this sample code fetches all objects\n * of class <code>MyClass</code>. It calls a different function depending on\n * whether the fetch succeeded or not.\n *\n * <pre>\n * var query = new Parse.Query(MyClass);\n * query.find({\n *   success: function(results) {\n *     // results is an array of Parse.Object.\n *   },\n *\n *   error: function(error) {\n *     // error is an instance of Parse.Error.\n *   }\n * });</pre></p>\n *\n * <p>A Parse.Query can also be used to retrieve a single object whose id is\n * known, through the get method. For example, this sample code fetches an\n * object of class <code>MyClass</code> and id <code>myId</code>. It calls a\n * different function depending on whether the fetch succeeded or not.\n *\n * <pre>\n * var query = new Parse.Query(MyClass);\n * query.get(myId, {\n *   success: function(object) {\n *     // object is an instance of Parse.Object.\n *   },\n *\n *   error: function(object, error) {\n *     // error is an instance of Parse.Error.\n *   }\n * });</pre></p>\n *\n * <p>A Parse.Query can also be used to count the number of objects that match\n * the query without retrieving all of those objects. For example, this\n * sample code counts the number of objects of the class <code>MyClass</code>\n * <pre>\n * var query = new Parse.Query(MyClass);\n * query.count({\n *   success: function(number) {\n *     // There are number instances of MyClass.\n *   },\n *\n *   error: function(error) {\n *     // error is an instance of Parse.Error.\n *   }\n * });</pre></p>\n */\n\nvar ParseQuery = function () {\n  function ParseQuery(objectClass) {\n    (0, _classCallCheck3.default)(this, ParseQuery);\n\n    if (typeof objectClass === 'string') {\n      if (objectClass === 'User' && _CoreManager2.default.get('PERFORM_USER_REWRITE')) {\n        this.className = '_User';\n      } else {\n        this.className = objectClass;\n      }\n    } else if (objectClass instanceof _ParseObject2.default) {\n      this.className = objectClass.className;\n    } else if (typeof objectClass === 'function') {\n      if (typeof objectClass.className === 'string') {\n        this.className = objectClass.className;\n      } else {\n        var obj = new objectClass();\n        this.className = obj.className;\n      }\n    } else {\n      throw new TypeError('A ParseQuery must be constructed with a ParseObject or class name.');\n    }\n\n    this._where = {};\n    this._include = [];\n    this._limit = -1; // negative limit is not sent in the server request\n    this._skip = 0;\n    this._extraOptions = {};\n  }\n\n  /**\n   * Adds constraint that at least one of the passed in queries matches.\n   * @method _orQuery\n   * @param {Array} queries\n   * @return {Parse.Query} Returns the query, so you can chain this call.\n   */\n\n  (0, _createClass3.default)(ParseQuery, [{\n    key: '_orQuery',\n    value: function (queries) {\n      var queryJSON = queries.map(function (q) {\n        return q.toJSON().where;\n      });\n\n      this._where.$or = queryJSON;\n      return this;\n    }\n\n    /**\n     * Helper for condition queries\n     */\n\n  }, {\n    key: '_addCondition',\n    value: function (key, condition, value) {\n      if (!this._where[key] || typeof this._where[key] === 'string') {\n        this._where[key] = {};\n      }\n      this._where[key][condition] = (0, _encode2.default)(value, false, true);\n      return this;\n    }\n\n    /**\n     * Returns a JSON representation of this query.\n     * @method toJSON\n     * @return {Object} The JSON representation of the query.\n     */\n\n  }, {\n    key: 'toJSON',\n    value: function () {\n      var params = {\n        where: this._where\n      };\n\n      if (this._include.length) {\n        params.include = this._include.join(',');\n      }\n      if (this._select) {\n        params.keys = this._select.join(',');\n      }\n      if (this._limit >= 0) {\n        params.limit = this._limit;\n      }\n      if (this._skip > 0) {\n        params.skip = this._skip;\n      }\n      if (this._order) {\n        params.order = this._order.join(',');\n      }\n      for (var key in this._extraOptions) {\n        params[key] = this._extraOptions[key];\n      }\n\n      return params;\n    }\n\n    /**\n     * Constructs a Parse.Object whose id is already known by fetching data from\n     * the server.  Either options.success or options.error is called when the\n     * find completes.\n     *\n     * @method get\n     * @param {String} objectId The id of the object to be fetched.\n     * @param {Object} options A Backbone-style options object.\n     * Valid options are:<ul>\n     *   <li>success: A Backbone-style success callback\n     *   <li>error: An Backbone-style error callback.\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     *\n     * @return {Parse.Promise} A promise that is resolved with the result when\n     * the query completes.\n     */\n\n  }, {\n    key: 'get',\n    value: function (objectId, options) {\n      this.equalTo('objectId', objectId);\n\n      var firstOptions = {};\n      if (options && options.hasOwnProperty('useMasterKey')) {\n        firstOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options && options.hasOwnProperty('sessionToken')) {\n        firstOptions.sessionToken = options.sessionToken;\n      }\n\n      return this.first(firstOptions).then(function (response) {\n        if (response) {\n          return response;\n        }\n\n        var errorObject = new _ParseError2.default(_ParseError2.default.OBJECT_NOT_FOUND, 'Object not found.');\n        return _ParsePromise2.default.error(errorObject);\n      })._thenRunCallbacks(options, null);\n    }\n\n    /**\n     * Retrieves a list of ParseObjects that satisfy this query.\n     * Either options.success or options.error is called when the find\n     * completes.\n     *\n     * @method find\n     * @param {Object} options A Backbone-style options object. Valid options\n     * are:<ul>\n     *   <li>success: Function to call when the find completes successfully.\n     *   <li>error: Function to call when the find fails.\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     *\n     * @return {Parse.Promise} A promise that is resolved with the results when\n     * the query completes.\n     */\n\n  }, {\n    key: 'find',\n    value: function (options) {\n      var _this = this;\n\n      options = options || {};\n\n      var findOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        findOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken')) {\n        findOptions.sessionToken = options.sessionToken;\n      }\n\n      var controller = _CoreManager2.default.getQueryController();\n\n      return controller.find(this.className, this.toJSON(), findOptions).then(function (response) {\n        return response.results.map(function (data) {\n          // In cases of relations, the server may send back a className\n          // on the top level of the payload\n          var override = response.className || _this.className;\n          if (!data.className) {\n            data.className = override;\n          }\n          return _ParseObject2.default.fromJSON(data, true);\n        });\n      })._thenRunCallbacks(options);\n    }\n\n    /**\n     * Counts the number of objects that match this query.\n     * Either options.success or options.error is called when the count\n     * completes.\n     *\n     * @method count\n     * @param {Object} options A Backbone-style options object. Valid options\n     * are:<ul>\n     *   <li>success: Function to call when the count completes successfully.\n     *   <li>error: Function to call when the find fails.\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     *\n     * @return {Parse.Promise} A promise that is resolved with the count when\n     * the query completes.\n     */\n\n  }, {\n    key: 'count',\n    value: function (options) {\n      options = options || {};\n\n      var findOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        findOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken')) {\n        findOptions.sessionToken = options.sessionToken;\n      }\n\n      var controller = _CoreManager2.default.getQueryController();\n\n      var params = this.toJSON();\n      params.limit = 0;\n      params.count = 1;\n\n      return controller.find(this.className, params, findOptions).then(function (result) {\n        return result.count;\n      })._thenRunCallbacks(options);\n    }\n\n    /**\n     * Retrieves at most one Parse.Object that satisfies this query.\n     *\n     * Either options.success or options.error is called when it completes.\n     * success is passed the object if there is one. otherwise, undefined.\n     *\n     * @method first\n     * @param {Object} options A Backbone-style options object. Valid options\n     * are:<ul>\n     *   <li>success: Function to call when the find completes successfully.\n     *   <li>error: Function to call when the find fails.\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     *\n     * @return {Parse.Promise} A promise that is resolved with the object when\n     * the query completes.\n     */\n\n  }, {\n    key: 'first',\n    value: function (options) {\n      var _this2 = this;\n\n      options = options || {};\n\n      var findOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        findOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken')) {\n        findOptions.sessionToken = options.sessionToken;\n      }\n\n      var controller = _CoreManager2.default.getQueryController();\n\n      var params = this.toJSON();\n      params.limit = 1;\n\n      return controller.find(this.className, params, findOptions).then(function (response) {\n        var objects = response.results;\n        if (!objects[0]) {\n          return undefined;\n        }\n        if (!objects[0].className) {\n          objects[0].className = _this2.className;\n        }\n        return _ParseObject2.default.fromJSON(objects[0], true);\n      })._thenRunCallbacks(options);\n    }\n\n    /**\n     * Iterates over each result of a query, calling a callback for each one. If\n     * the callback returns a promise, the iteration will not continue until\n     * that promise has been fulfilled. If the callback returns a rejected\n     * promise, then iteration will stop with that error. The items are\n     * processed in an unspecified order. The query may not have any sort order,\n     * and may not use limit or skip.\n     * @method each\n     * @param {Function} callback Callback that will be called with each result\n     *     of the query.\n     * @param {Object} options A Backbone-style options object. Valid options\n     * are:<ul>\n     *   <li>success: Function to call when the iteration completes successfully.\n     *   <li>error: Function to call when the iteration fails.\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *       behalf of a specific user.\n     * </ul>\n     * @return {Parse.Promise} A promise that will be fulfilled once the\n     *     iteration has completed.\n     */\n\n  }, {\n    key: 'each',\n    value: function (callback, options) {\n      options = options || {};\n\n      if (this._order || this._skip || this._limit >= 0) {\n        return _ParsePromise2.default.error('Cannot iterate on a query with sort, skip, or limit.')._thenRunCallbacks(options);\n      }\n\n      new _ParsePromise2.default();\n\n\n      var query = new ParseQuery(this.className);\n      // We can override the batch size from the options.\n      // This is undocumented, but useful for testing.\n      query._limit = options.batchSize || 100;\n      query._include = this._include.map(function (i) {\n        return i;\n      });\n      if (this._select) {\n        query._select = this._select.map(function (s) {\n          return s;\n        });\n      }\n\n      query._where = {};\n      for (var attr in this._where) {\n        var val = this._where[attr];\n        if (Array.isArray(val)) {\n          query._where[attr] = val.map(function (v) {\n            return v;\n          });\n        } else if (val && (typeof val === 'undefined' ? 'undefined' : (0, _typeof3.default)(val)) === 'object') {\n          var conditionMap = {};\n          query._where[attr] = conditionMap;\n          for (var cond in val) {\n            conditionMap[cond] = val[cond];\n          }\n        } else {\n          query._where[attr] = val;\n        }\n      }\n\n      query.ascending('objectId');\n\n      var findOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        findOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('sessionToken')) {\n        findOptions.sessionToken = options.sessionToken;\n      }\n\n      var finished = false;\n      return _ParsePromise2.default._continueWhile(function () {\n        return !finished;\n      }, function () {\n        return query.find(findOptions).then(function (results) {\n          var callbacksDone = _ParsePromise2.default.as();\n          results.forEach(function (result) {\n            callbacksDone = callbacksDone.then(function () {\n              return callback(result);\n            });\n          });\n\n          return callbacksDone.then(function () {\n            if (results.length >= query._limit) {\n              query.greaterThan('objectId', results[results.length - 1].id);\n            } else {\n              finished = true;\n            }\n          });\n        });\n      })._thenRunCallbacks(options);\n    }\n\n    /** Query Conditions **/\n\n    /**\n     * Adds a constraint to the query that requires a particular key's value to\n     * be equal to the provided value.\n     * @method equalTo\n     * @param {String} key The key to check.\n     * @param value The value that the Parse.Object must contain.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'equalTo',\n    value: function (key, value) {\n      if (typeof value === 'undefined') {\n        return this.doesNotExist(key);\n      }\n\n      this._where[key] = (0, _encode2.default)(value, false, true);\n      return this;\n    }\n\n    /**\n     * Adds a constraint to the query that requires a particular key's value to\n     * be not equal to the provided value.\n     * @method notEqualTo\n     * @param {String} key The key to check.\n     * @param value The value that must not be equalled.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'notEqualTo',\n    value: function (key, value) {\n      return this._addCondition(key, '$ne', value);\n    }\n\n    /**\n     * Adds a constraint to the query that requires a particular key's value to\n     * be less than the provided value.\n     * @method lessThan\n     * @param {String} key The key to check.\n     * @param value The value that provides an upper bound.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'lessThan',\n    value: function (key, value) {\n      return this._addCondition(key, '$lt', value);\n    }\n\n    /**\n     * Adds a constraint to the query that requires a particular key's value to\n     * be greater than the provided value.\n     * @method greaterThan\n     * @param {String} key The key to check.\n     * @param value The value that provides an lower bound.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'greaterThan',\n    value: function (key, value) {\n      return this._addCondition(key, '$gt', value);\n    }\n\n    /**\n     * Adds a constraint to the query that requires a particular key's value to\n     * be less than or equal to the provided value.\n     * @method lessThanOrEqualTo\n     * @param {String} key The key to check.\n     * @param value The value that provides an upper bound.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'lessThanOrEqualTo',\n    value: function (key, value) {\n      return this._addCondition(key, '$lte', value);\n    }\n\n    /**\n     * Adds a constraint to the query that requires a particular key's value to\n     * be greater than or equal to the provided value.\n     * @method greaterThanOrEqualTo\n     * @param {String} key The key to check.\n     * @param value The value that provides an lower bound.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'greaterThanOrEqualTo',\n    value: function (key, value) {\n      return this._addCondition(key, '$gte', value);\n    }\n\n    /**\n     * Adds a constraint to the query that requires a particular key's value to\n     * be contained in the provided list of values.\n     * @method containedIn\n     * @param {String} key The key to check.\n     * @param {Array} values The values that will match.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'containedIn',\n    value: function (key, value) {\n      return this._addCondition(key, '$in', value);\n    }\n\n    /**\n     * Adds a constraint to the query that requires a particular key's value to\n     * not be contained in the provided list of values.\n     * @method notContainedIn\n     * @param {String} key The key to check.\n     * @param {Array} values The values that will not match.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'notContainedIn',\n    value: function (key, value) {\n      return this._addCondition(key, '$nin', value);\n    }\n\n    /**\n     * Adds a constraint to the query that requires a particular key's value to\n     * contain each one of the provided list of values.\n     * @method containsAll\n     * @param {String} key The key to check.  This key's value must be an array.\n     * @param {Array} values The values that will match.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'containsAll',\n    value: function (key, values) {\n      return this._addCondition(key, '$all', values);\n    }\n\n    /**\n     * Adds a constraint for finding objects that contain the given key.\n     * @method exists\n     * @param {String} key The key that should exist.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'exists',\n    value: function (key) {\n      return this._addCondition(key, '$exists', true);\n    }\n\n    /**\n     * Adds a constraint for finding objects that do not contain a given key.\n     * @method doesNotExist\n     * @param {String} key The key that should not exist\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'doesNotExist',\n    value: function (key) {\n      return this._addCondition(key, '$exists', false);\n    }\n\n    /**\n     * Adds a regular expression constraint for finding string values that match\n     * the provided regular expression.\n     * This may be slow for large datasets.\n     * @method matches\n     * @param {String} key The key that the string to match is stored in.\n     * @param {RegExp} regex The regular expression pattern to match.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'matches',\n    value: function (key, regex, modifiers) {\n      this._addCondition(key, '$regex', regex);\n      if (!modifiers) {\n        modifiers = '';\n      }\n      if (regex.ignoreCase) {\n        modifiers += 'i';\n      }\n      if (regex.multiline) {\n        modifiers += 'm';\n      }\n      if (modifiers.length) {\n        this._addCondition(key, '$options', modifiers);\n      }\n      return this;\n    }\n\n    /**\n     * Adds a constraint that requires that a key's value matches a Parse.Query\n     * constraint.\n     * @method matchesQuery\n     * @param {String} key The key that the contains the object to match the\n     *                     query.\n     * @param {Parse.Query} query The query that should match.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'matchesQuery',\n    value: function (key, query) {\n      var queryJSON = query.toJSON();\n      queryJSON.className = query.className;\n      return this._addCondition(key, '$inQuery', queryJSON);\n    }\n\n    /**\n     * Adds a constraint that requires that a key's value not matches a\n     * Parse.Query constraint.\n     * @method doesNotMatchQuery\n     * @param {String} key The key that the contains the object to match the\n     *                     query.\n     * @param {Parse.Query} query The query that should not match.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'doesNotMatchQuery',\n    value: function (key, query) {\n      var queryJSON = query.toJSON();\n      queryJSON.className = query.className;\n      return this._addCondition(key, '$notInQuery', queryJSON);\n    }\n\n    /**\n     * Adds a constraint that requires that a key's value matches a value in\n     * an object returned by a different Parse.Query.\n     * @method matchesKeyInQuery\n     * @param {String} key The key that contains the value that is being\n     *                     matched.\n     * @param {String} queryKey The key in the objects returned by the query to\n     *                          match against.\n     * @param {Parse.Query} query The query to run.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'matchesKeyInQuery',\n    value: function (key, queryKey, query) {\n      var queryJSON = query.toJSON();\n      queryJSON.className = query.className;\n      return this._addCondition(key, '$select', {\n        key: queryKey,\n        query: queryJSON\n      });\n    }\n\n    /**\n     * Adds a constraint that requires that a key's value not match a value in\n     * an object returned by a different Parse.Query.\n     * @method doesNotMatchKeyInQuery\n     * @param {String} key The key that contains the value that is being\n     *                     excluded.\n     * @param {String} queryKey The key in the objects returned by the query to\n     *                          match against.\n     * @param {Parse.Query} query The query to run.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'doesNotMatchKeyInQuery',\n    value: function (key, queryKey, query) {\n      var queryJSON = query.toJSON();\n      queryJSON.className = query.className;\n      return this._addCondition(key, '$dontSelect', {\n        key: queryKey,\n        query: queryJSON\n      });\n    }\n\n    /**\n     * Adds a constraint for finding string values that contain a provided\n     * string.  This may be slow for large datasets.\n     * @method contains\n     * @param {String} key The key that the string to match is stored in.\n     * @param {String} substring The substring that the value must contain.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'contains',\n    value: function (key, value) {\n      if (typeof value !== 'string') {\n        throw new Error('The value being searched for must be a string.');\n      }\n      return this._addCondition(key, '$regex', quote(value));\n    }\n\n    /**\n     * Adds a constraint for finding string values that start with a provided\n     * string.  This query will use the backend index, so it will be fast even\n     * for large datasets.\n     * @method startsWith\n     * @param {String} key The key that the string to match is stored in.\n     * @param {String} prefix The substring that the value must start with.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'startsWith',\n    value: function (key, value) {\n      if (typeof value !== 'string') {\n        throw new Error('The value being searched for must be a string.');\n      }\n      return this._addCondition(key, '$regex', '^' + quote(value));\n    }\n\n    /**\n     * Adds a constraint for finding string values that end with a provided\n     * string.  This will be slow for large datasets.\n     * @method endsWith\n     * @param {String} key The key that the string to match is stored in.\n     * @param {String} suffix The substring that the value must end with.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'endsWith',\n    value: function (key, value) {\n      if (typeof value !== 'string') {\n        throw new Error('The value being searched for must be a string.');\n      }\n      return this._addCondition(key, '$regex', quote(value) + '$');\n    }\n\n    /**\n     * Adds a proximity based constraint for finding objects with key point\n     * values near the point given.\n     * @method near\n     * @param {String} key The key that the Parse.GeoPoint is stored in.\n     * @param {Parse.GeoPoint} point The reference Parse.GeoPoint that is used.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'near',\n    value: function (key, point) {\n      if (!(point instanceof _ParseGeoPoint2.default)) {\n        // Try to cast it as a GeoPoint\n        point = new _ParseGeoPoint2.default(point);\n      }\n      return this._addCondition(key, '$nearSphere', point);\n    }\n\n    /**\n     * Adds a proximity based constraint for finding objects with key point\n     * values near the point given and within the maximum distance given.\n     * @method withinRadians\n     * @param {String} key The key that the Parse.GeoPoint is stored in.\n     * @param {Parse.GeoPoint} point The reference Parse.GeoPoint that is used.\n     * @param {Number} maxDistance Maximum distance (in radians) of results to\n     *   return.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'withinRadians',\n    value: function (key, point, distance) {\n      this.near(key, point);\n      return this._addCondition(key, '$maxDistance', distance);\n    }\n\n    /**\n     * Adds a proximity based constraint for finding objects with key point\n     * values near the point given and within the maximum distance given.\n     * Radius of earth used is 3958.8 miles.\n     * @method withinMiles\n     * @param {String} key The key that the Parse.GeoPoint is stored in.\n     * @param {Parse.GeoPoint} point The reference Parse.GeoPoint that is used.\n     * @param {Number} maxDistance Maximum distance (in miles) of results to\n     *     return.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'withinMiles',\n    value: function (key, point, distance) {\n      return this.withinRadians(key, point, distance / 3958.8);\n    }\n\n    /**\n     * Adds a proximity based constraint for finding objects with key point\n     * values near the point given and within the maximum distance given.\n     * Radius of earth used is 6371.0 kilometers.\n     * @method withinKilometers\n     * @param {String} key The key that the Parse.GeoPoint is stored in.\n     * @param {Parse.GeoPoint} point The reference Parse.GeoPoint that is used.\n     * @param {Number} maxDistance Maximum distance (in kilometers) of results\n     *     to return.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'withinKilometers',\n    value: function (key, point, distance) {\n      return this.withinRadians(key, point, distance / 6371.0);\n    }\n\n    /**\n     * Adds a constraint to the query that requires a particular key's\n     * coordinates be contained within a given rectangular geographic bounding\n     * box.\n     * @method withinGeoBox\n     * @param {String} key The key to be constrained.\n     * @param {Parse.GeoPoint} southwest\n     *     The lower-left inclusive corner of the box.\n     * @param {Parse.GeoPoint} northeast\n     *     The upper-right inclusive corner of the box.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'withinGeoBox',\n    value: function (key, southwest, northeast) {\n      if (!(southwest instanceof _ParseGeoPoint2.default)) {\n        southwest = new _ParseGeoPoint2.default(southwest);\n      }\n      if (!(northeast instanceof _ParseGeoPoint2.default)) {\n        northeast = new _ParseGeoPoint2.default(northeast);\n      }\n      this._addCondition(key, '$within', { '$box': [southwest, northeast] });\n      return this;\n    }\n\n    /** Query Orderings **/\n\n    /**\n     * Sorts the results in ascending order by the given key.\n     *\n     * @method ascending\n     * @param {(String|String[]|...String} key The key to order by, which is a\n     * string of comma separated values, or an Array of keys, or multiple keys.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'ascending',\n    value: function () {\n      this._order = [];\n\n      for (var _len = arguments.length, keys = Array(_len), _key = 0; _key < _len; _key++) {\n        keys[_key] = arguments[_key];\n      }\n\n      return this.addAscending.apply(this, keys);\n    }\n\n    /**\n     * Sorts the results in ascending order by the given key,\n     * but can also add secondary sort descriptors without overwriting _order.\n     *\n     * @method addAscending\n     * @param {(String|String[]|...String} key The key to order by, which is a\n     * string of comma separated values, or an Array of keys, or multiple keys.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'addAscending',\n    value: function () {\n      var _this3 = this;\n\n      if (!this._order) {\n        this._order = [];\n      }\n\n      for (var _len2 = arguments.length, keys = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        keys[_key2] = arguments[_key2];\n      }\n\n      keys.forEach(function (key) {\n        if (Array.isArray(key)) {\n          key = key.join();\n        }\n        _this3._order = _this3._order.concat(key.replace(/\\s/g, '').split(','));\n      });\n\n      return this;\n    }\n\n    /**\n     * Sorts the results in descending order by the given key.\n     *\n     * @method descending\n     * @param {(String|String[]|...String} key The key to order by, which is a\n     * string of comma separated values, or an Array of keys, or multiple keys.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'descending',\n    value: function () {\n      this._order = [];\n\n      for (var _len3 = arguments.length, keys = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        keys[_key3] = arguments[_key3];\n      }\n\n      return this.addDescending.apply(this, keys);\n    }\n\n    /**\n     * Sorts the results in descending order by the given key,\n     * but can also add secondary sort descriptors without overwriting _order.\n     *\n     * @method addDescending\n     * @param {(String|String[]|...String} key The key to order by, which is a\n     * string of comma separated values, or an Array of keys, or multiple keys.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'addDescending',\n    value: function () {\n      var _this4 = this;\n\n      if (!this._order) {\n        this._order = [];\n      }\n\n      for (var _len4 = arguments.length, keys = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        keys[_key4] = arguments[_key4];\n      }\n\n      keys.forEach(function (key) {\n        if (Array.isArray(key)) {\n          key = key.join();\n        }\n        _this4._order = _this4._order.concat(key.replace(/\\s/g, '').split(',').map(function (k) {\n          return '-' + k;\n        }));\n      });\n\n      return this;\n    }\n\n    /** Query Options **/\n\n    /**\n     * Sets the number of results to skip before returning any results.\n     * This is useful for pagination.\n     * Default is to skip zero results.\n     * @method skip\n     * @param {Number} n the number of results to skip.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'skip',\n    value: function (n) {\n      if (typeof n !== 'number' || n < 0) {\n        throw new Error('You can only skip by a positive number');\n      }\n      this._skip = n;\n      return this;\n    }\n\n    /**\n     * Sets the limit of the number of results to return. The default limit is\n     * 100, with a maximum of 1000 results being returned at a time.\n     * @method limit\n     * @param {Number} n the number of results to limit to.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'limit',\n    value: function (n) {\n      if (typeof n !== 'number') {\n        throw new Error('You can only set the limit to a numeric value');\n      }\n      this._limit = n;\n      return this;\n    }\n\n    /**\n     * Includes nested Parse.Objects for the provided key.  You can use dot\n     * notation to specify which fields in the included object are also fetched.\n     * @method include\n     * @param {String} key The name of the key to include.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'include',\n    value: function () {\n      var _this5 = this;\n\n      for (var _len5 = arguments.length, keys = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        keys[_key5] = arguments[_key5];\n      }\n\n      keys.forEach(function (key) {\n        if (Array.isArray(key)) {\n          _this5._include = _this5._include.concat(key);\n        } else {\n          _this5._include.push(key);\n        }\n      });\n      return this;\n    }\n\n    /**\n     * Restricts the fields of the returned Parse.Objects to include only the\n     * provided keys.  If this is called multiple times, then all of the keys\n     * specified in each of the calls will be included.\n     * @method select\n     * @param {Array} keys The names of the keys to include.\n     * @return {Parse.Query} Returns the query, so you can chain this call.\n     */\n\n  }, {\n    key: 'select',\n    value: function () {\n      var _this6 = this;\n\n      if (!this._select) {\n        this._select = [];\n      }\n\n      for (var _len6 = arguments.length, keys = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        keys[_key6] = arguments[_key6];\n      }\n\n      keys.forEach(function (key) {\n        if (Array.isArray(key)) {\n          _this6._select = _this6._select.concat(key);\n        } else {\n          _this6._select.push(key);\n        }\n      });\n      return this;\n    }\n\n    /**\n     * Subscribe this query to get liveQuery updates\n     * @method subscribe\n     * @return {LiveQuerySubscription} Returns the liveQuerySubscription, it's an event emitter\n     * which can be used to get liveQuery updates.\n     */\n\n  }, {\n    key: 'subscribe',\n    value: function () {\n      var controller = _CoreManager2.default.getLiveQueryController();\n      return controller.subscribe(this);\n    }\n\n    /**\n     * Constructs a Parse.Query that is the OR of the passed in queries.  For\n     * example:\n     * <pre>var compoundQuery = Parse.Query.or(query1, query2, query3);</pre>\n     *\n     * will create a compoundQuery that is an or of the query1, query2, and\n     * query3.\n     * @method or\n     * @param {...Parse.Query} var_args The list of queries to OR.\n     * @static\n     * @return {Parse.Query} The query that is the OR of the passed in queries.\n     */\n\n  }], [{\n    key: 'or',\n    value: function () {\n      var className = null;\n\n      for (var _len7 = arguments.length, queries = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n        queries[_key7] = arguments[_key7];\n      }\n\n      queries.forEach(function (q) {\n        if (!className) {\n          className = q.className;\n        }\n\n        if (className !== q.className) {\n          throw new Error('All queries must be for the same class.');\n        }\n      });\n\n      var query = new ParseQuery(className);\n      query._orQuery(queries);\n      return query;\n    }\n  }]);\n  return ParseQuery;\n}();\n\nexports.default = ParseQuery;\n\nvar DefaultController = {\n  find: function (className, params, options) {\n    var RESTController = _CoreManager2.default.getRESTController();\n\n    return RESTController.request('GET', 'classes/' + className, params, options);\n  }\n};\n\n_CoreManager2.default.setQueryController(DefaultController);\n},{\"./CoreManager\":3,\"./ParseError\":13,\"./ParseGeoPoint\":15,\"./ParseObject\":18,\"./ParsePromise\":20,\"./encode\":36,\"babel-runtime/helpers/classCallCheck\":56,\"babel-runtime/helpers/createClass\":57,\"babel-runtime/helpers/typeof\":61}],22:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = _dereq_('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = _dereq_('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _ParseOp = _dereq_('./ParseOp');\n\nvar _ParseObject = _dereq_('./ParseObject');\n\nvar _ParseObject2 = _interopRequireDefault(_ParseObject);\n\nvar _ParseQuery = _dereq_('./ParseQuery');\n\nvar _ParseQuery2 = _interopRequireDefault(_ParseQuery);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Creates a new Relation for the given parent object and key. This\n * constructor should rarely be used directly, but rather created by\n * Parse.Object.relation.\n * @class Parse.Relation\n * @constructor\n * @param {Parse.Object} parent The parent of this relation.\n * @param {String} key The key for this relation on the parent.\n *\n * <p>\n * A class that is used to access all of the children of a many-to-many\n * relationship.  Each instance of Parse.Relation is associated with a\n * particular parent object and key.\n * </p>\n */\nvar ParseRelation = function () {\n  function ParseRelation(parent, key) {\n    (0, _classCallCheck3.default)(this, ParseRelation);\n\n    this.parent = parent;\n    this.key = key;\n    this.targetClassName = null;\n  }\n\n  /**\n   * Makes sure that this relation has the right parent and key.\n   */\n\n  (0, _createClass3.default)(ParseRelation, [{\n    key: '_ensureParentAndKey',\n    value: function (parent, key) {\n      this.key = this.key || key;\n      if (this.key !== key) {\n        throw new Error('Internal Error. Relation retrieved from two different keys.');\n      }\n      if (this.parent) {\n        if (this.parent.className !== parent.className) {\n          throw new Error('Internal Error. Relation retrieved from two different Objects.');\n        }\n        if (this.parent.id) {\n          if (this.parent.id !== parent.id) {\n            throw new Error('Internal Error. Relation retrieved from two different Objects.');\n          }\n        } else if (parent.id) {\n          this.parent = parent;\n        }\n      } else {\n        this.parent = parent;\n      }\n    }\n\n    /**\n     * Adds a Parse.Object or an array of Parse.Objects to the relation.\n     * @method add\n     * @param {} objects The item or items to add.\n     */\n\n  }, {\n    key: 'add',\n    value: function (objects) {\n      if (!Array.isArray(objects)) {\n        objects = [objects];\n      }\n\n      var change = new _ParseOp.RelationOp(objects, []);\n      var parent = this.parent;\n      if (!parent) {\n        throw new Error('Cannot add to a Relation without a parent');\n      }\n      parent.set(this.key, change);\n      this.targetClassName = change._targetClassName;\n      return parent;\n    }\n\n    /**\n     * Removes a Parse.Object or an array of Parse.Objects from this relation.\n     * @method remove\n     * @param {} objects The item or items to remove.\n     */\n\n  }, {\n    key: 'remove',\n    value: function (objects) {\n      if (!Array.isArray(objects)) {\n        objects = [objects];\n      }\n\n      var change = new _ParseOp.RelationOp([], objects);\n      if (!this.parent) {\n        throw new Error('Cannot remove from a Relation without a parent');\n      }\n      this.parent.set(this.key, change);\n      this.targetClassName = change._targetClassName;\n    }\n\n    /**\n     * Returns a JSON version of the object suitable for saving to disk.\n     * @method toJSON\n     * @return {Object}\n     */\n\n  }, {\n    key: 'toJSON',\n    value: function () {\n      return {\n        __type: 'Relation',\n        className: this.targetClassName\n      };\n    }\n\n    /**\n     * Returns a Parse.Query that is limited to objects in this\n     * relation.\n     * @method query\n     * @return {Parse.Query}\n     */\n\n  }, {\n    key: 'query',\n    value: function () {\n      var query;\n      var parent = this.parent;\n      if (!parent) {\n        throw new Error('Cannot construct a query for a Relation without a parent');\n      }\n      if (!this.targetClassName) {\n        query = new _ParseQuery2.default(parent.className);\n        query._extraOptions.redirectClassNameForKey = this.key;\n      } else {\n        query = new _ParseQuery2.default(this.targetClassName);\n      }\n      query._addCondition('$relatedTo', 'object', {\n        __type: 'Pointer',\n        className: parent.className,\n        objectId: parent.id\n      });\n      query._addCondition('$relatedTo', 'key', this.key);\n\n      return query;\n    }\n  }]);\n  return ParseRelation;\n}(); /**\n      * Copyright (c) 2015-present, Parse, LLC.\n      * All rights reserved.\n      *\n      * This source code is licensed under the BSD-style license found in the\n      * LICENSE file in the root directory of this source tree. An additional grant\n      * of patent rights can be found in the PATENTS file in the same directory.\n      *\n      * \n      */\n\nexports.default = ParseRelation;\n},{\"./ParseObject\":18,\"./ParseOp\":19,\"./ParseQuery\":21,\"babel-runtime/helpers/classCallCheck\":56,\"babel-runtime/helpers/createClass\":57}],23:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = _dereq_('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = _dereq_('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = _dereq_('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = _dereq_('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = _dereq_('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = _dereq_('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _ParseACL = _dereq_('./ParseACL');\n\nvar _ParseACL2 = _interopRequireDefault(_ParseACL);\n\nvar _ParseError = _dereq_('./ParseError');\n\nvar _ParseError2 = _interopRequireDefault(_ParseError);\n\nvar _ParseObject2 = _dereq_('./ParseObject');\n\nvar _ParseObject3 = _interopRequireDefault(_ParseObject2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Represents a Role on the Parse server. Roles represent groupings of\n * Users for the purposes of granting permissions (e.g. specifying an ACL\n * for an Object). Roles are specified by their sets of child users and\n * child roles, all of which are granted any permissions that the parent\n * role has.\n *\n * <p>Roles must have a name (which cannot be changed after creation of the\n * role), and must specify an ACL.</p>\n * @class Parse.Role\n * @constructor\n * @param {String} name The name of the Role to create.\n * @param {Parse.ACL} acl The ACL for this role. Roles must have an ACL.\n * A Parse.Role is a local representation of a role persisted to the Parse\n * cloud.\n */\nvar ParseRole = function (_ParseObject) {\n  (0, _inherits3.default)(ParseRole, _ParseObject);\n\n  function ParseRole(name, acl) {\n    (0, _classCallCheck3.default)(this, ParseRole);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (ParseRole.__proto__ || (0, _getPrototypeOf2.default)(ParseRole)).call(this, '_Role'));\n\n    if (typeof name === 'string' && acl instanceof _ParseACL2.default) {\n      _this.setName(name);\n      _this.setACL(acl);\n    }\n    return _this;\n  }\n\n  /**\n   * Gets the name of the role.  You can alternatively call role.get(\"name\")\n   *\n   * @method getName\n   * @return {String} the name of the role.\n   */\n\n  (0, _createClass3.default)(ParseRole, [{\n    key: 'getName',\n    value: function () {\n      var name = this.get('name');\n      if (name == null || typeof name === 'string') {\n        return name;\n      }\n      return '';\n    }\n\n    /**\n     * Sets the name for a role. This value must be set before the role has\n     * been saved to the server, and cannot be set once the role has been\n     * saved.\n     *\n     * <p>\n     *   A role's name can only contain alphanumeric characters, _, -, and\n     *   spaces.\n     * </p>\n     *\n     * <p>This is equivalent to calling role.set(\"name\", name)</p>\n     *\n     * @method setName\n     * @param {String} name The name of the role.\n     * @param {Object} options Standard options object with success and error\n     *     callbacks.\n     */\n\n  }, {\n    key: 'setName',\n    value: function (name, options) {\n      return this.set('name', name, options);\n    }\n\n    /**\n     * Gets the Parse.Relation for the Parse.Users that are direct\n     * children of this role. These users are granted any privileges that this\n     * role has been granted (e.g. read or write access through ACLs). You can\n     * add or remove users from the role through this relation.\n     *\n     * <p>This is equivalent to calling role.relation(\"users\")</p>\n     *\n     * @method getUsers\n     * @return {Parse.Relation} the relation for the users belonging to this\n     *     role.\n     */\n\n  }, {\n    key: 'getUsers',\n    value: function () {\n      return this.relation('users');\n    }\n\n    /**\n     * Gets the Parse.Relation for the Parse.Roles that are direct\n     * children of this role. These roles' users are granted any privileges that\n     * this role has been granted (e.g. read or write access through ACLs). You\n     * can add or remove child roles from this role through this relation.\n     *\n     * <p>This is equivalent to calling role.relation(\"roles\")</p>\n     *\n     * @method getRoles\n     * @return {Parse.Relation} the relation for the roles belonging to this\n     *     role.\n     */\n\n  }, {\n    key: 'getRoles',\n    value: function () {\n      return this.relation('roles');\n    }\n  }, {\n    key: 'validate',\n    value: function (attrs, options) {\n      var isInvalid = (0, _get3.default)(ParseRole.prototype.__proto__ || (0, _getPrototypeOf2.default)(ParseRole.prototype), 'validate', this).call(this, attrs, options);\n      if (isInvalid) {\n        return isInvalid;\n      }\n\n      if ('name' in attrs && attrs.name !== this.getName()) {\n        var newName = attrs.name;\n        if (this.id && this.id !== attrs.objectId) {\n          // Check to see if the objectId being set matches this.id\n          // This happens during a fetch -- the id is set before calling fetch\n          // Let the name be set in this case\n          return new _ParseError2.default(_ParseError2.default.OTHER_CAUSE, 'A role\\'s name can only be set before it has been saved.');\n        }\n        if (typeof newName !== 'string') {\n          return new _ParseError2.default(_ParseError2.default.OTHER_CAUSE, 'A role\\'s name must be a String.');\n        }\n        if (!/^[0-9a-zA-Z\\-_ ]+$/.test(newName)) {\n          return new _ParseError2.default(_ParseError2.default.OTHER_CAUSE, 'A role\\'s name can be only contain alphanumeric characters, _, ' + '-, and spaces.');\n        }\n      }\n      return false;\n    }\n  }]);\n  return ParseRole;\n}(_ParseObject3.default); /**\n                           * Copyright (c) 2015-present, Parse, LLC.\n                           * All rights reserved.\n                           *\n                           * This source code is licensed under the BSD-style license found in the\n                           * LICENSE file in the root directory of this source tree. An additional grant\n                           * of patent rights can be found in the PATENTS file in the same directory.\n                           *\n                           * \n                           */\n\nexports.default = ParseRole;\n\n_ParseObject3.default.registerSubclass('_Role', ParseRole);\n},{\"./ParseACL\":11,\"./ParseError\":13,\"./ParseObject\":18,\"babel-runtime/core-js/object/get-prototype-of\":50,\"babel-runtime/helpers/classCallCheck\":56,\"babel-runtime/helpers/createClass\":57,\"babel-runtime/helpers/get\":58,\"babel-runtime/helpers/inherits\":59,\"babel-runtime/helpers/possibleConstructorReturn\":60}],24:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = _dereq_('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getPrototypeOf = _dereq_('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = _dereq_('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = _dereq_('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = _dereq_('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = _dereq_('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _CoreManager = _dereq_('./CoreManager');\n\nvar _CoreManager2 = _interopRequireDefault(_CoreManager);\n\nvar _isRevocableSession = _dereq_('./isRevocableSession');\n\nvar _isRevocableSession2 = _interopRequireDefault(_isRevocableSession);\n\nvar _ParseObject2 = _dereq_('./ParseObject');\n\nvar _ParseObject3 = _interopRequireDefault(_ParseObject2);\n\nvar _ParsePromise = _dereq_('./ParsePromise');\n\nvar _ParsePromise2 = _interopRequireDefault(_ParsePromise);\n\nvar _ParseUser = _dereq_('./ParseUser');\n\nvar _ParseUser2 = _interopRequireDefault(_ParseUser);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * @class Parse.Session\n * @constructor\n *\n * <p>A Parse.Session object is a local representation of a revocable session.\n * This class is a subclass of a Parse.Object, and retains the same\n * functionality of a Parse.Object.</p>\n */\nvar ParseSession = function (_ParseObject) {\n  (0, _inherits3.default)(ParseSession, _ParseObject);\n\n  function ParseSession(attributes) {\n    (0, _classCallCheck3.default)(this, ParseSession);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (ParseSession.__proto__ || (0, _getPrototypeOf2.default)(ParseSession)).call(this, '_Session'));\n\n    if (attributes && (typeof attributes === 'undefined' ? 'undefined' : (0, _typeof3.default)(attributes)) === 'object') {\n      if (!_this.set(attributes || {})) {\n        throw new Error('Can\\'t create an invalid Session');\n      }\n    }\n    return _this;\n  }\n\n  /**\n   * Returns the session token string.\n   * @method getSessionToken\n   * @return {String}\n   */\n\n  (0, _createClass3.default)(ParseSession, [{\n    key: 'getSessionToken',\n    value: function () {\n      var token = this.get('sessionToken');\n      if (typeof token === 'string') {\n        return token;\n      }\n      return '';\n    }\n  }], [{\n    key: 'readOnlyAttributes',\n    value: function () {\n      return ['createdWith', 'expiresAt', 'installationId', 'restricted', 'sessionToken', 'user'];\n    }\n\n    /**\n     * Retrieves the Session object for the currently logged in session.\n     * @method current\n     * @static\n     * @return {Parse.Promise} A promise that is resolved with the Parse.Session\n     *   object after it has been fetched. If there is no current user, the\n     *   promise will be rejected.\n     */\n\n  }, {\n    key: 'current',\n    value: function (options) {\n      options = options || {};\n      var controller = _CoreManager2.default.getSessionController();\n\n      var sessionOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        sessionOptions.useMasterKey = options.useMasterKey;\n      }\n      return _ParseUser2.default.currentAsync().then(function (user) {\n        if (!user) {\n          return _ParsePromise2.default.error('There is no current user.');\n        }\n        user.getSessionToken();\n\n        sessionOptions.sessionToken = user.getSessionToken();\n        return controller.getSession(sessionOptions);\n      });\n    }\n\n    /**\n     * Determines whether the current session token is revocable.\n     * This method is useful for migrating Express.js or Node.js web apps to\n     * use revocable sessions. If you are migrating an app that uses the Parse\n     * SDK in the browser only, please use Parse.User.enableRevocableSession()\n     * instead, so that sessions can be automatically upgraded.\n     * @method isCurrentSessionRevocable\n     * @static\n     * @return {Boolean}\n     */\n\n  }, {\n    key: 'isCurrentSessionRevocable',\n    value: function () {\n      var currentUser = _ParseUser2.default.current();\n      if (currentUser) {\n        return (0, _isRevocableSession2.default)(currentUser.getSessionToken() || '');\n      }\n      return false;\n    }\n  }]);\n  return ParseSession;\n}(_ParseObject3.default); /**\n                           * Copyright (c) 2015-present, Parse, LLC.\n                           * All rights reserved.\n                           *\n                           * This source code is licensed under the BSD-style license found in the\n                           * LICENSE file in the root directory of this source tree. An additional grant\n                           * of patent rights can be found in the PATENTS file in the same directory.\n                           *\n                           * \n                           */\n\nexports.default = ParseSession;\n\n_ParseObject3.default.registerSubclass('_Session', ParseSession);\n\nvar DefaultController = {\n  getSession: function (options) {\n    var RESTController = _CoreManager2.default.getRESTController();\n    var session = new ParseSession();\n\n    return RESTController.request('GET', 'sessions/me', {}, options).then(function (sessionData) {\n      session._finishFetch(sessionData);\n      session._setExisted(true);\n      return session;\n    });\n  }\n};\n\n_CoreManager2.default.setSessionController(DefaultController);\n},{\"./CoreManager\":3,\"./ParseObject\":18,\"./ParsePromise\":20,\"./ParseUser\":25,\"./isRevocableSession\":39,\"babel-runtime/core-js/object/get-prototype-of\":50,\"babel-runtime/helpers/classCallCheck\":56,\"babel-runtime/helpers/createClass\":57,\"babel-runtime/helpers/inherits\":59,\"babel-runtime/helpers/possibleConstructorReturn\":60,\"babel-runtime/helpers/typeof\":61}],25:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _stringify = _dereq_('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _defineProperty = _dereq_('babel-runtime/core-js/object/define-property');\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nvar _typeof2 = _dereq_('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getPrototypeOf = _dereq_('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = _dereq_('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = _dereq_('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = _dereq_('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _get2 = _dereq_('babel-runtime/helpers/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _inherits2 = _dereq_('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _CoreManager = _dereq_('./CoreManager');\n\nvar _CoreManager2 = _interopRequireDefault(_CoreManager);\n\nvar _isRevocableSession = _dereq_('./isRevocableSession');\n\nvar _isRevocableSession2 = _interopRequireDefault(_isRevocableSession);\n\nvar _ParseError = _dereq_('./ParseError');\n\nvar _ParseError2 = _interopRequireDefault(_ParseError);\n\nvar _ParseObject2 = _dereq_('./ParseObject');\n\nvar _ParseObject3 = _interopRequireDefault(_ParseObject2);\n\nvar _ParsePromise = _dereq_('./ParsePromise');\n\nvar _ParsePromise2 = _interopRequireDefault(_ParsePromise);\n\nvar _ParseSession = _dereq_('./ParseSession');\n\nvar _ParseSession2 = _interopRequireDefault(_ParseSession);\n\nvar _Storage = _dereq_('./Storage');\n\nvar _Storage2 = _interopRequireDefault(_Storage);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar CURRENT_USER_KEY = 'currentUser'; /**\n                                       * Copyright (c) 2015-present, Parse, LLC.\n                                       * All rights reserved.\n                                       *\n                                       * This source code is licensed under the BSD-style license found in the\n                                       * LICENSE file in the root directory of this source tree. An additional grant\n                                       * of patent rights can be found in the PATENTS file in the same directory.\n                                       *\n                                       * \n                                       */\n\nvar canUseCurrentUser = !_CoreManager2.default.get('IS_NODE');\nvar currentUserCacheMatchesDisk = false;\nvar currentUserCache = null;\n\nvar authProviders = {};\n\n/**\n * @class Parse.User\n * @constructor\n *\n * <p>A Parse.User object is a local representation of a user persisted to the\n * Parse cloud. This class is a subclass of a Parse.Object, and retains the\n * same functionality of a Parse.Object, but also extends it with various\n * user specific methods, like authentication, signing up, and validation of\n * uniqueness.</p>\n */\n\nvar ParseUser = function (_ParseObject) {\n  (0, _inherits3.default)(ParseUser, _ParseObject);\n\n  function ParseUser(attributes) {\n    (0, _classCallCheck3.default)(this, ParseUser);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (ParseUser.__proto__ || (0, _getPrototypeOf2.default)(ParseUser)).call(this, '_User'));\n\n    if (attributes && (typeof attributes === 'undefined' ? 'undefined' : (0, _typeof3.default)(attributes)) === 'object') {\n      if (!_this.set(attributes || {})) {\n        throw new Error('Can\\'t create an invalid Parse User');\n      }\n    }\n    return _this;\n  }\n\n  /**\n   * Request a revocable session token to replace the older style of token.\n   * @method _upgradeToRevocableSession\n   * @param {Object} options A Backbone-style options object.\n   * @return {Parse.Promise} A promise that is resolved when the replacement\n   *   token has been fetched.\n   */\n\n  (0, _createClass3.default)(ParseUser, [{\n    key: '_upgradeToRevocableSession',\n    value: function (options) {\n      options = options || {};\n\n      var upgradeOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        upgradeOptions.useMasterKey = options.useMasterKey;\n      }\n\n      var controller = _CoreManager2.default.getUserController();\n      return controller.upgradeToRevocableSession(this, upgradeOptions)._thenRunCallbacks(options);\n    }\n\n    /**\n     * Unlike in the Android/iOS SDKs, logInWith is unnecessary, since you can\n     * call linkWith on the user (even if it doesn't exist yet on the server).\n     * @method _linkWith\n     */\n\n  }, {\n    key: '_linkWith',\n    value: function (provider, options) {\n      var _this2 = this;\n\n      var authType;\n      if (typeof provider === 'string') {\n        authType = provider;\n        provider = authProviders[provider];\n      } else {\n        authType = provider.getAuthType();\n      }\n      if (options && options.hasOwnProperty('authData')) {\n        var authData = this.get('authData') || {};\n        if ((typeof authData === 'undefined' ? 'undefined' : (0, _typeof3.default)(authData)) !== 'object') {\n          throw new Error('Invalid type: authData field should be an object');\n        }\n        authData[authType] = options.authData;\n\n        var controller = _CoreManager2.default.getUserController();\n        return controller.linkWith(this, authData)._thenRunCallbacks(options, this);\n      } else {\n        var promise = new _ParsePromise2.default();\n        provider.authenticate({\n          success: function (provider, result) {\n            var opts = {};\n            opts.authData = result;\n            if (options.success) {\n              opts.success = options.success;\n            }\n            if (options.error) {\n              opts.error = options.error;\n            }\n            _this2._linkWith(provider, opts).then(function () {\n              promise.resolve(_this2);\n            }, function (error) {\n              promise.reject(error);\n            });\n          },\n          error: function (provider, _error) {\n            if (typeof options.error === 'function') {\n              options.error(_this2, _error);\n            }\n            promise.reject(_error);\n          }\n        });\n        return promise;\n      }\n    }\n\n    /**\n     * Synchronizes auth data for a provider (e.g. puts the access token in the\n     * right place to be used by the Facebook SDK).\n     * @method _synchronizeAuthData\n     */\n\n  }, {\n    key: '_synchronizeAuthData',\n    value: function (provider) {\n      if (!this.isCurrent() || !provider) {\n        return;\n      }\n      var authType;\n      if (typeof provider === 'string') {\n        authType = provider;\n        provider = authProviders[authType];\n      } else {\n        authType = provider.getAuthType();\n      }\n      var authData = this.get('authData');\n      if (!provider || !authData || (typeof authData === 'undefined' ? 'undefined' : (0, _typeof3.default)(authData)) !== 'object') {\n        return;\n      }\n      var success = provider.restoreAuthentication(authData[authType]);\n      if (!success) {\n        this._unlinkFrom(provider);\n      }\n    }\n\n    /**\n     * Synchronizes authData for all providers.\n     * @method _synchronizeAllAuthData\n     */\n\n  }, {\n    key: '_synchronizeAllAuthData',\n    value: function () {\n      var authData = this.get('authData');\n      if ((typeof authData === 'undefined' ? 'undefined' : (0, _typeof3.default)(authData)) !== 'object') {\n        return;\n      }\n\n      for (var key in authData) {\n        this._synchronizeAuthData(key);\n      }\n    }\n\n    /**\n     * Removes null values from authData (which exist temporarily for\n     * unlinking)\n     * @method _cleanupAuthData\n     */\n\n  }, {\n    key: '_cleanupAuthData',\n    value: function () {\n      if (!this.isCurrent()) {\n        return;\n      }\n      var authData = this.get('authData');\n      if ((typeof authData === 'undefined' ? 'undefined' : (0, _typeof3.default)(authData)) !== 'object') {\n        return;\n      }\n\n      for (var key in authData) {\n        if (!authData[key]) {\n          delete authData[key];\n        }\n      }\n    }\n\n    /**\n     * Unlinks a user from a service.\n     * @method _unlinkFrom\n     */\n\n  }, {\n    key: '_unlinkFrom',\n    value: function (provider, options) {\n      var _this3 = this;\n\n      if (typeof provider === 'string') {\n        provider = authProviders[provider];\n      } else {\n        provider.getAuthType();\n      }\n      return this._linkWith(provider, { authData: null }).then(function () {\n        _this3._synchronizeAuthData(provider);\n        return _ParsePromise2.default.as(_this3);\n      })._thenRunCallbacks(options);\n    }\n\n    /**\n     * Checks whether a user is linked to a service.\n     * @method _isLinked\n     */\n\n  }, {\n    key: '_isLinked',\n    value: function (provider) {\n      var authType;\n      if (typeof provider === 'string') {\n        authType = provider;\n      } else {\n        authType = provider.getAuthType();\n      }\n      var authData = this.get('authData') || {};\n      if ((typeof authData === 'undefined' ? 'undefined' : (0, _typeof3.default)(authData)) !== 'object') {\n        return false;\n      }\n      return !!authData[authType];\n    }\n\n    /**\n     * Deauthenticates all providers.\n     * @method _logOutWithAll\n     */\n\n  }, {\n    key: '_logOutWithAll',\n    value: function () {\n      var authData = this.get('authData');\n      if ((typeof authData === 'undefined' ? 'undefined' : (0, _typeof3.default)(authData)) !== 'object') {\n        return;\n      }\n\n      for (var key in authData) {\n        this._logOutWith(key);\n      }\n    }\n\n    /**\n     * Deauthenticates a single provider (e.g. removing access tokens from the\n     * Facebook SDK).\n     * @method _logOutWith\n     */\n\n  }, {\n    key: '_logOutWith',\n    value: function (provider) {\n      if (!this.isCurrent()) {\n        return;\n      }\n      if (typeof provider === 'string') {\n        provider = authProviders[provider];\n      }\n      if (provider && provider.deauthenticate) {\n        provider.deauthenticate();\n      }\n    }\n\n    /**\n     * Class instance method used to maintain specific keys when a fetch occurs.\n     * Used to ensure that the session token is not lost.\n     */\n\n  }, {\n    key: '_preserveFieldsOnFetch',\n    value: function () {\n      return {\n        sessionToken: this.get('sessionToken')\n      };\n    }\n\n    /**\n     * Returns true if <code>current</code> would return this user.\n     * @method isCurrent\n     * @return {Boolean}\n     */\n\n  }, {\n    key: 'isCurrent',\n    value: function () {\n      var current = ParseUser.current();\n      return !!current && current.id === this.id;\n    }\n\n    /**\n     * Returns get(\"username\").\n     * @method getUsername\n     * @return {String}\n     */\n\n  }, {\n    key: 'getUsername',\n    value: function () {\n      var username = this.get('username');\n      if (username == null || typeof username === 'string') {\n        return username;\n      }\n      return '';\n    }\n\n    /**\n     * Calls set(\"username\", username, options) and returns the result.\n     * @method setUsername\n     * @param {String} username\n     * @param {Object} options A Backbone-style options object.\n     * @return {Boolean}\n     */\n\n  }, {\n    key: 'setUsername',\n    value: function (username) {\n      // Strip anonymity, even we do not support anonymous user in js SDK, we may\n      // encounter anonymous user created by android/iOS in cloud code.\n      var authData = this.get('authData');\n      if (authData && (typeof authData === 'undefined' ? 'undefined' : (0, _typeof3.default)(authData)) === 'object' && authData.hasOwnProperty('anonymous')) {\n        // We need to set anonymous to null instead of deleting it in order to remove it from Parse.\n        authData.anonymous = null;\n      }\n      this.set('username', username);\n    }\n\n    /**\n     * Calls set(\"password\", password, options) and returns the result.\n     * @method setPassword\n     * @param {String} password\n     * @param {Object} options A Backbone-style options object.\n     * @return {Boolean}\n     */\n\n  }, {\n    key: 'setPassword',\n    value: function (password) {\n      this.set('password', password);\n    }\n\n    /**\n     * Returns get(\"email\").\n     * @method getEmail\n     * @return {String}\n     */\n\n  }, {\n    key: 'getEmail',\n    value: function () {\n      var email = this.get('email');\n      if (email == null || typeof email === 'string') {\n        return email;\n      }\n      return '';\n    }\n\n    /**\n     * Calls set(\"email\", email, options) and returns the result.\n     * @method setEmail\n     * @param {String} email\n     * @param {Object} options A Backbone-style options object.\n     * @return {Boolean}\n     */\n\n  }, {\n    key: 'setEmail',\n    value: function (email) {\n      this.set('email', email);\n    }\n\n    /**\n     * Returns the session token for this user, if the user has been logged in,\n     * or if it is the result of a query with the master key. Otherwise, returns\n     * undefined.\n     * @method getSessionToken\n     * @return {String} the session token, or undefined\n     */\n\n  }, {\n    key: 'getSessionToken',\n    value: function () {\n      var token = this.get('sessionToken');\n      if (token == null || typeof token === 'string') {\n        return token;\n      }\n      return '';\n    }\n\n    /**\n     * Checks whether this user is the current user and has been authenticated.\n     * @method authenticated\n     * @return (Boolean) whether this user is the current user and is logged in.\n     */\n\n  }, {\n    key: 'authenticated',\n    value: function () {\n      var current = ParseUser.current();\n      return !!this.get('sessionToken') && !!current && current.id === this.id;\n    }\n\n    /**\n     * Signs up a new user. You should call this instead of save for\n     * new Parse.Users. This will create a new Parse.User on the server, and\n     * also persist the session on disk so that you can access the user using\n     * <code>current</code>.\n     *\n     * <p>A username and password must be set before calling signUp.</p>\n     *\n     * <p>Calls options.success or options.error on completion.</p>\n     *\n     * @method signUp\n     * @param {Object} attrs Extra fields to set on the new user, or null.\n     * @param {Object} options A Backbone-style options object.\n     * @return {Parse.Promise} A promise that is fulfilled when the signup\n     *     finishes.\n     */\n\n  }, {\n    key: 'signUp',\n    value: function (attrs, options) {\n      options = options || {};\n\n      var signupOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        signupOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('installationId')) {\n        signupOptions.installationId = options.installationId;\n      }\n\n      var controller = _CoreManager2.default.getUserController();\n      return controller.signUp(this, attrs, signupOptions)._thenRunCallbacks(options, this);\n    }\n\n    /**\n     * Logs in a Parse.User. On success, this saves the session to disk,\n     * so you can retrieve the currently logged in user using\n     * <code>current</code>.\n     *\n     * <p>A username and password must be set before calling logIn.</p>\n     *\n     * <p>Calls options.success or options.error on completion.</p>\n     *\n     * @method logIn\n     * @param {Object} options A Backbone-style options object.\n     * @return {Parse.Promise} A promise that is fulfilled with the user when\n     *     the login is complete.\n     */\n\n  }, {\n    key: 'logIn',\n    value: function (options) {\n      options = options || {};\n\n      var loginOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        loginOptions.useMasterKey = options.useMasterKey;\n      }\n      if (options.hasOwnProperty('installationId')) {\n        loginOptions.installationId = options.installationId;\n      }\n\n      var controller = _CoreManager2.default.getUserController();\n      return controller.logIn(this, loginOptions)._thenRunCallbacks(options, this);\n    }\n\n    /**\n     * Wrap the default save behavior with functionality to save to local\n     * storage if this is current user.\n     */\n\n  }, {\n    key: 'save',\n    value: function () {\n      var _this4 = this;\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return (0, _get3.default)(ParseUser.prototype.__proto__ || (0, _getPrototypeOf2.default)(ParseUser.prototype), 'save', this).apply(this, args).then(function () {\n        if (_this4.isCurrent()) {\n          return _CoreManager2.default.getUserController().updateUserOnDisk(_this4);\n        }\n        return _this4;\n      });\n    }\n\n    /**\n     * Wrap the default destroy behavior with functionality that logs out\n     * the current user when it is destroyed\n     */\n\n  }, {\n    key: 'destroy',\n    value: function () {\n      var _this5 = this;\n\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return (0, _get3.default)(ParseUser.prototype.__proto__ || (0, _getPrototypeOf2.default)(ParseUser.prototype), 'destroy', this).apply(this, args).then(function () {\n        if (_this5.isCurrent()) {\n          return _CoreManager2.default.getUserController().removeUserFromDisk();\n        }\n        return _this5;\n      });\n    }\n\n    /**\n     * Wrap the default fetch behavior with functionality to save to local\n     * storage if this is current user.\n     */\n\n  }, {\n    key: 'fetch',\n    value: function () {\n      var _this6 = this;\n\n      for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return (0, _get3.default)(ParseUser.prototype.__proto__ || (0, _getPrototypeOf2.default)(ParseUser.prototype), 'fetch', this).apply(this, args).then(function () {\n        if (_this6.isCurrent()) {\n          return _CoreManager2.default.getUserController().updateUserOnDisk(_this6);\n        }\n        return _this6;\n      });\n    }\n  }], [{\n    key: 'readOnlyAttributes',\n    value: function () {\n      return ['sessionToken'];\n    }\n\n    /**\n     * Adds functionality to the existing Parse.User class\n     * @method extend\n     * @param {Object} protoProps A set of properties to add to the prototype\n     * @param {Object} classProps A set of static properties to add to the class\n     * @static\n     * @return {Class} The newly extended Parse.User class\n     */\n\n  }, {\n    key: 'extend',\n    value: function (protoProps, classProps) {\n      if (protoProps) {\n        for (var prop in protoProps) {\n          if (prop !== 'className') {\n            (0, _defineProperty2.default)(ParseUser.prototype, prop, {\n              value: protoProps[prop],\n              enumerable: false,\n              writable: true,\n              configurable: true\n            });\n          }\n        }\n      }\n\n      if (classProps) {\n        for (var prop in classProps) {\n          if (prop !== 'className') {\n            (0, _defineProperty2.default)(ParseUser, prop, {\n              value: classProps[prop],\n              enumerable: false,\n              writable: true,\n              configurable: true\n            });\n          }\n        }\n      }\n\n      return ParseUser;\n    }\n\n    /**\n     * Retrieves the currently logged in ParseUser with a valid session,\n     * either from memory or localStorage, if necessary.\n     * @method current\n     * @static\n     * @return {Parse.Object} The currently logged in Parse.User.\n     */\n\n  }, {\n    key: 'current',\n    value: function () {\n      if (!canUseCurrentUser) {\n        return null;\n      }\n      var controller = _CoreManager2.default.getUserController();\n      return controller.currentUser();\n    }\n\n    /**\n     * Retrieves the currently logged in ParseUser from asynchronous Storage.\n     * @method currentAsync\n     * @static\n     * @return {Parse.Promise} A Promise that is resolved with the currently\n     *   logged in Parse User\n     */\n\n  }, {\n    key: 'currentAsync',\n    value: function () {\n      if (!canUseCurrentUser) {\n        return _ParsePromise2.default.as(null);\n      }\n      var controller = _CoreManager2.default.getUserController();\n      return controller.currentUserAsync();\n    }\n\n    /**\n     * Signs up a new user with a username (or email) and password.\n     * This will create a new Parse.User on the server, and also persist the\n     * session in localStorage so that you can access the user using\n     * {@link #current}.\n     *\n     * <p>Calls options.success or options.error on completion.</p>\n     *\n     * @method signUp\n     * @param {String} username The username (or email) to sign up with.\n     * @param {String} password The password to sign up with.\n     * @param {Object} attrs Extra fields to set on the new user.\n     * @param {Object} options A Backbone-style options object.\n     * @static\n     * @return {Parse.Promise} A promise that is fulfilled with the user when\n     *     the signup completes.\n     */\n\n  }, {\n    key: 'signUp',\n    value: function (username, password, attrs, options) {\n      attrs = attrs || {};\n      attrs.username = username;\n      attrs.password = password;\n      var user = new ParseUser(attrs);\n      return user.signUp({}, options);\n    }\n\n    /**\n     * Logs in a user with a username (or email) and password. On success, this\n     * saves the session to disk, so you can retrieve the currently logged in\n     * user using <code>current</code>.\n     *\n     * <p>Calls options.success or options.error on completion.</p>\n     *\n     * @method logIn\n     * @param {String} username The username (or email) to log in with.\n     * @param {String} password The password to log in with.\n     * @param {Object} options A Backbone-style options object.\n     * @static\n     * @return {Parse.Promise} A promise that is fulfilled with the user when\n     *     the login completes.\n     */\n\n  }, {\n    key: 'logIn',\n    value: function (username, password, options) {\n      if (typeof username !== 'string') {\n        return _ParsePromise2.default.error(new _ParseError2.default(_ParseError2.default.OTHER_CAUSE, 'Username must be a string.'));\n      } else if (typeof password !== 'string') {\n        return _ParsePromise2.default.error(new _ParseError2.default(_ParseError2.default.OTHER_CAUSE, 'Password must be a string.'));\n      }\n      var user = new ParseUser();\n      user._finishFetch({ username: username, password: password });\n      return user.logIn(options);\n    }\n\n    /**\n     * Logs in a user with a session token. On success, this saves the session\n     * to disk, so you can retrieve the currently logged in user using\n     * <code>current</code>.\n     *\n     * <p>Calls options.success or options.error on completion.</p>\n     *\n     * @method become\n     * @param {String} sessionToken The sessionToken to log in with.\n     * @param {Object} options A Backbone-style options object.\n     * @static\n     * @return {Parse.Promise} A promise that is fulfilled with the user when\n     *     the login completes.\n     */\n\n  }, {\n    key: 'become',\n    value: function (sessionToken, options) {\n      if (!canUseCurrentUser) {\n        throw new Error('It is not memory-safe to become a user in a server environment');\n      }\n      options = options || {};\n\n      var becomeOptions = {\n        sessionToken: sessionToken\n      };\n      if (options.hasOwnProperty('useMasterKey')) {\n        becomeOptions.useMasterKey = options.useMasterKey;\n      }\n\n      var controller = _CoreManager2.default.getUserController();\n      return controller.become(becomeOptions)._thenRunCallbacks(options);\n    }\n  }, {\n    key: 'logInWith',\n    value: function (provider, options) {\n      return ParseUser._logInWith(provider, options);\n    }\n\n    /**\n     * Logs out the currently logged in user session. This will remove the\n     * session from disk, log out of linked services, and future calls to\n     * <code>current</code> will return <code>null</code>.\n     * @method logOut\n     * @static\n     * @return {Parse.Promise} A promise that is resolved when the session is\n     *   destroyed on the server.\n     */\n\n  }, {\n    key: 'logOut',\n    value: function () {\n      if (!canUseCurrentUser) {\n        throw new Error('There is no current user user on a node.js server environment.');\n      }\n\n      var controller = _CoreManager2.default.getUserController();\n      return controller.logOut();\n    }\n\n    /**\n     * Requests a password reset email to be sent to the specified email address\n     * associated with the user account. This email allows the user to securely\n     * reset their password on the Parse site.\n     *\n     * <p>Calls options.success or options.error on completion.</p>\n     *\n     * @method requestPasswordReset\n     * @param {String} email The email address associated with the user that\n     *     forgot their password.\n     * @param {Object} options A Backbone-style options object.\n     * @static\n     */\n\n  }, {\n    key: 'requestPasswordReset',\n    value: function (email, options) {\n      options = options || {};\n\n      var requestOptions = {};\n      if (options.hasOwnProperty('useMasterKey')) {\n        requestOptions.useMasterKey = options.useMasterKey;\n      }\n\n      var controller = _CoreManager2.default.getUserController();\n      return controller.requestPasswordReset(email, requestOptions)._thenRunCallbacks(options);\n    }\n\n    /**\n     * Allow someone to define a custom User class without className\n     * being rewritten to _User. The default behavior is to rewrite\n     * User to _User for legacy reasons. This allows developers to\n     * override that behavior.\n     *\n     * @method allowCustomUserClass\n     * @param {Boolean} isAllowed Whether or not to allow custom User class\n     * @static\n     */\n\n  }, {\n    key: 'allowCustomUserClass',\n    value: function (isAllowed) {\n      _CoreManager2.default.set('PERFORM_USER_REWRITE', !isAllowed);\n    }\n\n    /**\n     * Allows a legacy application to start using revocable sessions. If the\n     * current session token is not revocable, a request will be made for a new,\n     * revocable session.\n     * It is not necessary to call this method from cloud code unless you are\n     * handling user signup or login from the server side. In a cloud code call,\n     * this function will not attempt to upgrade the current token.\n     * @method enableRevocableSession\n     * @param {Object} options A Backbone-style options object.\n     * @static\n     * @return {Parse.Promise} A promise that is resolved when the process has\n     *   completed. If a replacement session token is requested, the promise\n     *   will be resolved after a new token has been fetched.\n     */\n\n  }, {\n    key: 'enableRevocableSession',\n    value: function (options) {\n      options = options || {};\n      _CoreManager2.default.set('FORCE_REVOCABLE_SESSION', true);\n      if (canUseCurrentUser) {\n        var current = ParseUser.current();\n        if (current) {\n          return current._upgradeToRevocableSession(options);\n        }\n      }\n      return _ParsePromise2.default.as()._thenRunCallbacks(options);\n    }\n\n    /**\n     * Enables the use of become or the current user in a server\n     * environment. These features are disabled by default, since they depend on\n     * global objects that are not memory-safe for most servers.\n     * @method enableUnsafeCurrentUser\n     * @static\n     */\n\n  }, {\n    key: 'enableUnsafeCurrentUser',\n    value: function () {\n      canUseCurrentUser = true;\n    }\n\n    /**\n     * Disables the use of become or the current user in any environment.\n     * These features are disabled on servers by default, since they depend on\n     * global objects that are not memory-safe for most servers.\n     * @method disableUnsafeCurrentUser\n     * @static\n     */\n\n  }, {\n    key: 'disableUnsafeCurrentUser',\n    value: function () {\n      canUseCurrentUser = false;\n    }\n  }, {\n    key: '_registerAuthenticationProvider',\n    value: function (provider) {\n      authProviders[provider.getAuthType()] = provider;\n      // Synchronize the current user with the auth provider.\n      ParseUser.currentAsync().then(function (current) {\n        if (current) {\n          current._synchronizeAuthData(provider.getAuthType());\n        }\n      });\n    }\n  }, {\n    key: '_logInWith',\n    value: function (provider, options) {\n      var user = new ParseUser();\n      return user._linkWith(provider, options);\n    }\n  }, {\n    key: '_clearCache',\n    value: function () {\n      currentUserCache = null;\n      currentUserCacheMatchesDisk = false;\n    }\n  }, {\n    key: '_setCurrentUserCache',\n    value: function (user) {\n      currentUserCache = user;\n    }\n  }]);\n  return ParseUser;\n}(_ParseObject3.default);\n\nexports.default = ParseUser;\n\n_ParseObject3.default.registerSubclass('_User', ParseUser);\n\nvar DefaultController = {\n  updateUserOnDisk: function (user) {\n    var path = _Storage2.default.generatePath(CURRENT_USER_KEY);\n    var json = user.toJSON();\n    json.className = '_User';\n    return _Storage2.default.setItemAsync(path, (0, _stringify2.default)(json)).then(function () {\n      return user;\n    });\n  },\n  removeUserFromDisk: function () {\n    var path = _Storage2.default.generatePath(CURRENT_USER_KEY);\n    currentUserCacheMatchesDisk = true;\n    currentUserCache = null;\n    return _Storage2.default.removeItemAsync(path);\n  },\n  setCurrentUser: function (user) {\n    currentUserCache = user;\n    user._cleanupAuthData();\n    user._synchronizeAllAuthData();\n    return DefaultController.updateUserOnDisk(user);\n  },\n  currentUser: function () {\n    if (currentUserCache) {\n      return currentUserCache;\n    }\n    if (currentUserCacheMatchesDisk) {\n      return null;\n    }\n    if (_Storage2.default.async()) {\n      throw new Error('Cannot call currentUser() when using a platform with an async ' + 'storage system. Call currentUserAsync() instead.');\n    }\n    var path = _Storage2.default.generatePath(CURRENT_USER_KEY);\n    var userData = _Storage2.default.getItem(path);\n    currentUserCacheMatchesDisk = true;\n    if (!userData) {\n      currentUserCache = null;\n      return null;\n    }\n    userData = JSON.parse(userData);\n    if (!userData.className) {\n      userData.className = '_User';\n    }\n    if (userData._id) {\n      if (userData.objectId !== userData._id) {\n        userData.objectId = userData._id;\n      }\n      delete userData._id;\n    }\n    if (userData._sessionToken) {\n      userData.sessionToken = userData._sessionToken;\n      delete userData._sessionToken;\n    }\n    var current = _ParseObject3.default.fromJSON(userData);\n    currentUserCache = current;\n    current._synchronizeAllAuthData();\n    return current;\n  },\n  currentUserAsync: function () {\n    if (currentUserCache) {\n      return _ParsePromise2.default.as(currentUserCache);\n    }\n    if (currentUserCacheMatchesDisk) {\n      return _ParsePromise2.default.as(null);\n    }\n    var path = _Storage2.default.generatePath(CURRENT_USER_KEY);\n    return _Storage2.default.getItemAsync(path).then(function (userData) {\n      currentUserCacheMatchesDisk = true;\n      if (!userData) {\n        currentUserCache = null;\n        return _ParsePromise2.default.as(null);\n      }\n      userData = JSON.parse(userData);\n      if (!userData.className) {\n        userData.className = '_User';\n      }\n      if (userData._id) {\n        if (userData.objectId !== userData._id) {\n          userData.objectId = userData._id;\n        }\n        delete userData._id;\n      }\n      if (userData._sessionToken) {\n        userData.sessionToken = userData._sessionToken;\n        delete userData._sessionToken;\n      }\n      var current = _ParseObject3.default.fromJSON(userData);\n      currentUserCache = current;\n      current._synchronizeAllAuthData();\n      return _ParsePromise2.default.as(current);\n    });\n  },\n  signUp: function (user, attrs, options) {\n    var username = attrs && attrs.username || user.get('username');\n    var password = attrs && attrs.password || user.get('password');\n\n    if (!username || !username.length) {\n      return _ParsePromise2.default.error(new _ParseError2.default(_ParseError2.default.OTHER_CAUSE, 'Cannot sign up user with an empty name.'));\n    }\n    if (!password || !password.length) {\n      return _ParsePromise2.default.error(new _ParseError2.default(_ParseError2.default.OTHER_CAUSE, 'Cannot sign up user with an empty password.'));\n    }\n\n    return user.save(attrs, options).then(function () {\n      // Clear the password field\n      user._finishFetch({ password: undefined });\n\n      if (canUseCurrentUser) {\n        return DefaultController.setCurrentUser(user);\n      }\n      return user;\n    });\n  },\n  logIn: function (user, options) {\n    var RESTController = _CoreManager2.default.getRESTController();\n    var stateController = _CoreManager2.default.getObjectStateController();\n    var auth = {\n      username: user.get('username'),\n      password: user.get('password')\n    };\n    return RESTController.request('GET', 'login', auth, options).then(function (response, status) {\n      user._migrateId(response.objectId);\n      user._setExisted(true);\n      stateController.setPendingOp(user._getStateIdentifier(), 'username', undefined);\n      stateController.setPendingOp(user._getStateIdentifier(), 'password', undefined);\n      response.password = undefined;\n      user._finishFetch(response);\n      if (!canUseCurrentUser) {\n        // We can't set the current user, so just return the one we logged in\n        return _ParsePromise2.default.as(user);\n      }\n      return DefaultController.setCurrentUser(user);\n    });\n  },\n  become: function (options) {\n    var user = new ParseUser();\n    var RESTController = _CoreManager2.default.getRESTController();\n    return RESTController.request('GET', 'users/me', {}, options).then(function (response, status) {\n      user._finishFetch(response);\n      user._setExisted(true);\n      return DefaultController.setCurrentUser(user);\n    });\n  },\n  logOut: function () {\n    return DefaultController.currentUserAsync().then(function (currentUser) {\n      var path = _Storage2.default.generatePath(CURRENT_USER_KEY);\n      var promise = _Storage2.default.removeItemAsync(path);\n      var RESTController = _CoreManager2.default.getRESTController();\n      if (currentUser !== null) {\n        var currentSession = currentUser.getSessionToken();\n        if (currentSession && (0, _isRevocableSession2.default)(currentSession)) {\n          promise = promise.then(function () {\n            return RESTController.request('POST', 'logout', {}, { sessionToken: currentSession });\n          });\n        }\n        currentUser._logOutWithAll();\n        currentUser._finishFetch({ sessionToken: undefined });\n      }\n      currentUserCacheMatchesDisk = true;\n      currentUserCache = null;\n\n      return promise;\n    });\n  },\n  requestPasswordReset: function (email, options) {\n    var RESTController = _CoreManager2.default.getRESTController();\n    return RESTController.request('POST', 'requestPasswordReset', { email: email }, options);\n  },\n  upgradeToRevocableSession: function (user, options) {\n    var token = user.getSessionToken();\n    if (!token) {\n      return _ParsePromise2.default.error(new _ParseError2.default(_ParseError2.default.SESSION_MISSING, 'Cannot upgrade a user with no session token'));\n    }\n\n    options.sessionToken = token;\n\n    var RESTController = _CoreManager2.default.getRESTController();\n    return RESTController.request('POST', 'upgradeToRevocableSession', {}, options).then(function (result) {\n      var session = new _ParseSession2.default();\n      session._finishFetch(result);\n      user._finishFetch({ sessionToken: session.getSessionToken() });\n      if (user.isCurrent()) {\n        return DefaultController.setCurrentUser(user);\n      }\n      return _ParsePromise2.default.as(user);\n    });\n  },\n  linkWith: function (user, authData) {\n    return user.save({ authData: authData }).then(function () {\n      if (canUseCurrentUser) {\n        return DefaultController.setCurrentUser(user);\n      }\n      return user;\n    });\n  }\n};\n\n_CoreManager2.default.setUserController(DefaultController);\n},{\"./CoreManager\":3,\"./ParseError\":13,\"./ParseObject\":18,\"./ParsePromise\":20,\"./ParseSession\":24,\"./Storage\":29,\"./isRevocableSession\":39,\"babel-runtime/core-js/json/stringify\":44,\"babel-runtime/core-js/object/define-property\":47,\"babel-runtime/core-js/object/get-prototype-of\":50,\"babel-runtime/helpers/classCallCheck\":56,\"babel-runtime/helpers/createClass\":57,\"babel-runtime/helpers/get\":58,\"babel-runtime/helpers/inherits\":59,\"babel-runtime/helpers/possibleConstructorReturn\":60,\"babel-runtime/helpers/typeof\":61}],26:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = _dereq_('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.send = send;\n\nvar _CoreManager = _dereq_('./CoreManager');\n\nvar _CoreManager2 = _interopRequireDefault(_CoreManager);\n\nvar _ParseQuery = _dereq_('./ParseQuery');\n\nvar _ParseQuery2 = _interopRequireDefault(_ParseQuery);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Contains functions to deal with Push in Parse.\n * @class Parse.Push\n * @static\n */\n\n/**\n * Sends a push notification.\n * @method send\n * @param {Object} data -  The data of the push notification.  Valid fields\n * are:\n *   <ol>\n *     <li>channels - An Array of channels to push to.</li>\n *     <li>push_time - A Date object for when to send the push.</li>\n *     <li>expiration_time -  A Date object for when to expire\n *         the push.</li>\n *     <li>expiration_interval - The seconds from now to expire the push.</li>\n *     <li>where - A Parse.Query over Parse.Installation that is used to match\n *         a set of installations to push to.</li>\n *     <li>data - The data to send as part of the push</li>\n *   <ol>\n * @param {Object} options An object that has an optional success function,\n * that takes no arguments and will be called on a successful push, and\n * an error function that takes a Parse.Error and will be called if the push\n * failed.\n * @return {Parse.Promise} A promise that is fulfilled when the push request\n *     completes.\n */\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nfunction send(data, options) {\n  options = options || {};\n\n  if (data.where && data.where instanceof _ParseQuery2.default) {\n    data.where = data.where.toJSON().where;\n  }\n\n  if (data.push_time && (0, _typeof3.default)(data.push_time) === 'object') {\n    data.push_time = data.push_time.toJSON();\n  }\n\n  if (data.expiration_time && (0, _typeof3.default)(data.expiration_time) === 'object') {\n    data.expiration_time = data.expiration_time.toJSON();\n  }\n\n  if (data.expiration_time && data.expiration_interval) {\n    throw new Error('expiration_time and expiration_interval cannot both be set.');\n  }\n\n  return _CoreManager2.default.getPushController().send(data, {\n    useMasterKey: options.useMasterKey\n  })._thenRunCallbacks(options);\n}\n\nvar DefaultController = {\n  send: function (data, options) {\n    var RESTController = _CoreManager2.default.getRESTController();\n\n    var request = RESTController.request('POST', 'push', data, { useMasterKey: !!options.useMasterKey });\n\n    return request._thenRunCallbacks(options);\n  }\n};\n\n_CoreManager2.default.setPushController(DefaultController);\n},{\"./CoreManager\":3,\"./ParseQuery\":21,\"babel-runtime/helpers/typeof\":61}],27:[function(_dereq_,module,exports){\n(function (process){\n'use strict';\n\nvar _typeof2 = _dereq_('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _stringify = _dereq_('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _CoreManager = _dereq_('./CoreManager');\n\nvar _CoreManager2 = _interopRequireDefault(_CoreManager);\n\nvar _ParseError = _dereq_('./ParseError');\n\nvar _ParseError2 = _interopRequireDefault(_ParseError);\n\nvar _ParsePromise = _dereq_('./ParsePromise');\n\nvar _ParsePromise2 = _interopRequireDefault(_ParsePromise);\n\nvar _Storage = _dereq_('./Storage');\n\nvar _Storage2 = _interopRequireDefault(_Storage);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nvar XHR = null;\nif (typeof XMLHttpRequest !== 'undefined') {\n  XHR = XMLHttpRequest;\n}\n\n\nvar useXDomainRequest = false;\nif (typeof XDomainRequest !== 'undefined' && !('withCredentials' in new XMLHttpRequest())) {\n  useXDomainRequest = true;\n}\n\nfunction ajaxIE9(method, url, data) {\n  var promise = new _ParsePromise2.default();\n  var xdr = new XDomainRequest();\n  xdr.onload = function () {\n    var response;\n    try {\n      response = JSON.parse(xdr.responseText);\n    } catch (e) {\n      promise.reject(e);\n    }\n    if (response) {\n      promise.resolve(response);\n    }\n  };\n  xdr.onerror = xdr.ontimeout = function () {\n    // Let's fake a real error message.\n    var fakeResponse = {\n      responseText: (0, _stringify2.default)({\n        code: _ParseError2.default.X_DOMAIN_REQUEST,\n        error: 'IE\\'s XDomainRequest does not supply error info.'\n      })\n    };\n    promise.reject(fakeResponse);\n  };\n  xdr.onprogress = function () {};\n  xdr.open(method, url);\n  xdr.send(data);\n  return promise;\n}\n\nvar RESTController = {\n  ajax: function (method, url, data, headers) {\n    if (useXDomainRequest) {\n      return ajaxIE9(method, url, data, headers);\n    }\n\n    var promise = new _ParsePromise2.default();\n    var attempts = 0;\n\n    (function dispatch() {\n      if (XHR == null) {\n        throw new Error('Cannot make a request: No definition of XMLHttpRequest was found.');\n      }\n      var handled = false;\n      var xhr = new XHR();\n\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState !== 4 || handled) {\n          return;\n        }\n        handled = true;\n\n        if (xhr.status >= 200 && xhr.status < 300) {\n          var response;\n          try {\n            response = JSON.parse(xhr.responseText);\n          } catch (e) {\n            promise.reject(e.toString());\n          }\n          if (response) {\n            promise.resolve(response, xhr.status, xhr);\n          }\n        } else if (xhr.status >= 500 || xhr.status === 0) {\n          // retry on 5XX or node-xmlhttprequest error\n          if (++attempts < _CoreManager2.default.get('REQUEST_ATTEMPT_LIMIT')) {\n            // Exponentially-growing random delay\n            var delay = Math.round(Math.random() * 125 * Math.pow(2, attempts));\n            setTimeout(dispatch, delay);\n          } else if (xhr.status === 0) {\n            promise.reject('Unable to connect to the Parse API');\n          } else {\n            // After the retry limit is reached, fail\n            promise.reject(xhr);\n          }\n        } else {\n          promise.reject(xhr);\n        }\n      };\n\n      headers = headers || {};\n      if (typeof headers['Content-Type'] !== 'string') {\n        headers['Content-Type'] = 'text/plain'; // Avoid pre-flight\n      }\n      if (_CoreManager2.default.get('IS_NODE')) {\n        headers['User-Agent'] = 'Parse/' + _CoreManager2.default.get('VERSION') + ' (NodeJS ' + process.versions.node + ')';\n      }\n\n      xhr.open(method, url, true);\n      for (var h in headers) {\n        xhr.setRequestHeader(h, headers[h]);\n      }\n      xhr.send(data);\n    })();\n\n    return promise;\n  },\n  request: function (method, path, data, options) {\n    options = options || {};\n    var url = _CoreManager2.default.get('SERVER_URL');\n    if (url[url.length - 1] !== '/') {\n      url += '/';\n    }\n    url += path;\n\n    var payload = {};\n    if (data && (typeof data === 'undefined' ? 'undefined' : (0, _typeof3.default)(data)) === 'object') {\n      for (var k in data) {\n        payload[k] = data[k];\n      }\n    }\n\n    if (method !== 'POST') {\n      payload._method = method;\n      method = 'POST';\n    }\n\n    payload._ApplicationId = _CoreManager2.default.get('APPLICATION_ID');\n    var jsKey = _CoreManager2.default.get('JAVASCRIPT_KEY');\n    if (jsKey) {\n      payload._JavaScriptKey = jsKey;\n    }\n    payload._ClientVersion = _CoreManager2.default.get('VERSION');\n\n    var useMasterKey = options.useMasterKey;\n    if (typeof useMasterKey === 'undefined') {\n      useMasterKey = _CoreManager2.default.get('USE_MASTER_KEY');\n    }\n    if (useMasterKey) {\n      if (_CoreManager2.default.get('MASTER_KEY')) {\n        delete payload._JavaScriptKey;\n        payload._MasterKey = _CoreManager2.default.get('MASTER_KEY');\n      } else {\n        throw new Error('Cannot use the Master Key, it has not been provided.');\n      }\n    }\n\n    if (_CoreManager2.default.get('FORCE_REVOCABLE_SESSION')) {\n      payload._RevocableSession = '1';\n    }\n\n    var installationId = options.installationId;\n    var installationIdPromise;\n    if (installationId && typeof installationId === 'string') {\n      installationIdPromise = _ParsePromise2.default.as(installationId);\n    } else {\n      var installationController = _CoreManager2.default.getInstallationController();\n      installationIdPromise = installationController.currentInstallationId();\n    }\n\n    return installationIdPromise.then(function (iid) {\n      payload._InstallationId = iid;\n      var userController = _CoreManager2.default.getUserController();\n      if (options && typeof options.sessionToken === 'string') {\n        return _ParsePromise2.default.as(options.sessionToken);\n      } else if (userController) {\n        return userController.currentUserAsync().then(function (user) {\n          if (user) {\n            return _ParsePromise2.default.as(user.getSessionToken());\n          }\n          return _ParsePromise2.default.as(null);\n        });\n      }\n      return _ParsePromise2.default.as(null);\n    }).then(function (token) {\n      if (token) {\n        payload._SessionToken = token;\n      }\n\n      var payloadString = (0, _stringify2.default)(payload);\n\n      return RESTController.ajax(method, url, payloadString);\n    }).then(null, function (response) {\n      // Transform the error into an instance of ParseError by trying to parse\n      // the error string as JSON\n      var error;\n      if (response && response.responseText) {\n        try {\n          var errorJSON = JSON.parse(response.responseText);\n          error = new _ParseError2.default(errorJSON.code, errorJSON.error);\n        } catch (e) {\n          // If we fail to parse the error text, that's okay.\n          error = new _ParseError2.default(_ParseError2.default.INVALID_JSON, 'Received an error with invalid JSON from Parse: ' + response.responseText);\n        }\n      } else {\n        error = new _ParseError2.default(_ParseError2.default.CONNECTION_FAILED, 'XMLHttpRequest failed: ' + (0, _stringify2.default)(response));\n      }\n\n      return _ParsePromise2.default.error(error);\n    });\n  },\n  _setXHR: function (xhr) {\n    XHR = xhr;\n  }\n};\n\nmodule.exports = RESTController;\n}).call(this,_dereq_('_process'))\n},{\"./CoreManager\":3,\"./ParseError\":13,\"./ParsePromise\":20,\"./Storage\":29,\"_process\":168,\"babel-runtime/core-js/json/stringify\":44,\"babel-runtime/helpers/typeof\":61}],28:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getState = getState;\nexports.initializeState = initializeState;\nexports.removeState = removeState;\nexports.getServerData = getServerData;\nexports.setServerData = setServerData;\nexports.getPendingOps = getPendingOps;\nexports.setPendingOp = setPendingOp;\nexports.pushPendingState = pushPendingState;\nexports.popPendingState = popPendingState;\nexports.mergeFirstPendingState = mergeFirstPendingState;\nexports.getObjectCache = getObjectCache;\nexports.estimateAttribute = estimateAttribute;\nexports.estimateAttributes = estimateAttributes;\nexports.commitServerChanges = commitServerChanges;\nexports.enqueueTask = enqueueTask;\nexports.clearAllState = clearAllState;\nexports.duplicateState = duplicateState;\n\nvar _ObjectStateMutations = _dereq_('./ObjectStateMutations');\n\nvar ObjectStateMutations = _interopRequireWildcard(_ObjectStateMutations);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }newObj.default = obj;return newObj;\n  }\n}\n\nvar objectState = {}; /**\n                       * Copyright (c) 2015-present, Parse, LLC.\n                       * All rights reserved.\n                       *\n                       * This source code is licensed under the BSD-style license found in the\n                       * LICENSE file in the root directory of this source tree. An additional grant\n                       * of patent rights can be found in the PATENTS file in the same directory.\n                       *\n                       * \n                       */\n\nfunction getState(obj) {\n  var classData = objectState[obj.className];\n  if (classData) {\n    return classData[obj.id] || null;\n  }\n  return null;\n}\n\nfunction initializeState(obj, initial) {\n  var state = getState(obj);\n  if (state) {\n    return state;\n  }\n  if (!objectState[obj.className]) {\n    objectState[obj.className] = {};\n  }\n  if (!initial) {\n    initial = ObjectStateMutations.defaultState();\n  }\n  state = objectState[obj.className][obj.id] = initial;\n  return state;\n}\n\nfunction removeState(obj) {\n  var state = getState(obj);\n  if (state === null) {\n    return null;\n  }\n  delete objectState[obj.className][obj.id];\n  return state;\n}\n\nfunction getServerData(obj) {\n  var state = getState(obj);\n  if (state) {\n    return state.serverData;\n  }\n  return {};\n}\n\nfunction setServerData(obj, attributes) {\n  var serverData = initializeState(obj).serverData;\n  ObjectStateMutations.setServerData(serverData, attributes);\n}\n\nfunction getPendingOps(obj) {\n  var state = getState(obj);\n  if (state) {\n    return state.pendingOps;\n  }\n  return [{}];\n}\n\nfunction setPendingOp(obj, attr, op) {\n  var pendingOps = initializeState(obj).pendingOps;\n  ObjectStateMutations.setPendingOp(pendingOps, attr, op);\n}\n\nfunction pushPendingState(obj) {\n  var pendingOps = initializeState(obj).pendingOps;\n  ObjectStateMutations.pushPendingState(pendingOps);\n}\n\nfunction popPendingState(obj) {\n  var pendingOps = initializeState(obj).pendingOps;\n  return ObjectStateMutations.popPendingState(pendingOps);\n}\n\nfunction mergeFirstPendingState(obj) {\n  var pendingOps = getPendingOps(obj);\n  ObjectStateMutations.mergeFirstPendingState(pendingOps);\n}\n\nfunction getObjectCache(obj) {\n  var state = getState(obj);\n  if (state) {\n    return state.objectCache;\n  }\n  return {};\n}\n\nfunction estimateAttribute(obj, attr) {\n  var serverData = getServerData(obj);\n  var pendingOps = getPendingOps(obj);\n  return ObjectStateMutations.estimateAttribute(serverData, pendingOps, obj.className, obj.id, attr);\n}\n\nfunction estimateAttributes(obj) {\n  var serverData = getServerData(obj);\n  var pendingOps = getPendingOps(obj);\n  return ObjectStateMutations.estimateAttributes(serverData, pendingOps, obj.className, obj.id);\n}\n\nfunction commitServerChanges(obj, changes) {\n  var state = initializeState(obj);\n  ObjectStateMutations.commitServerChanges(state.serverData, state.objectCache, changes);\n}\n\nfunction enqueueTask(obj, task) {\n  var state = initializeState(obj);\n  return state.tasks.enqueue(task);\n}\n\nfunction clearAllState() {\n  objectState = {};\n}\n\nfunction duplicateState(source, dest) {\n  dest.id = source.id;\n}\n},{\"./ObjectStateMutations\":9}],29:[function(_dereq_,module,exports){\n'use strict';\n\nvar _CoreManager = _dereq_('./CoreManager');\n\nvar _CoreManager2 = _interopRequireDefault(_CoreManager);\n\nvar _ParsePromise = _dereq_('./ParsePromise');\n\nvar _ParsePromise2 = _interopRequireDefault(_ParsePromise);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nmodule.exports = {\n  async: function () {\n    var controller = _CoreManager2.default.getStorageController();\n    return !!controller.async;\n  },\n  getItem: function (path) {\n    var controller = _CoreManager2.default.getStorageController();\n    if (controller.async === 1) {\n      throw new Error('Synchronous storage is not supported by the current storage controller');\n    }\n    return controller.getItem(path);\n  },\n  getItemAsync: function (path) {\n    var controller = _CoreManager2.default.getStorageController();\n    if (controller.async === 1) {\n      return controller.getItemAsync(path);\n    }\n    return _ParsePromise2.default.as(controller.getItem(path));\n  },\n  setItem: function (path, value) {\n    var controller = _CoreManager2.default.getStorageController();\n    if (controller.async === 1) {\n      throw new Error('Synchronous storage is not supported by the current storage controller');\n    }\n    return controller.setItem(path, value);\n  },\n  setItemAsync: function (path, value) {\n    var controller = _CoreManager2.default.getStorageController();\n    if (controller.async === 1) {\n      return controller.setItemAsync(path, value);\n    }\n    return _ParsePromise2.default.as(controller.setItem(path, value));\n  },\n  removeItem: function (path) {\n    var controller = _CoreManager2.default.getStorageController();\n    if (controller.async === 1) {\n      throw new Error('Synchronous storage is not supported by the current storage controller');\n    }\n    return controller.removeItem(path);\n  },\n  removeItemAsync: function (path) {\n    var controller = _CoreManager2.default.getStorageController();\n    if (controller.async === 1) {\n      return controller.removeItemAsync(path);\n    }\n    return _ParsePromise2.default.as(controller.removeItem(path));\n  },\n  generatePath: function (path) {\n    if (!_CoreManager2.default.get('APPLICATION_ID')) {\n      throw new Error('You need to call Parse.initialize before using Parse.');\n    }\n    if (typeof path !== 'string') {\n      throw new Error('Tried to get a Storage path that was not a String.');\n    }\n    if (path[0] === '/') {\n      path = path.substr(1);\n    }\n    return 'Parse/' + _CoreManager2.default.get('APPLICATION_ID') + '/' + path;\n  },\n  _clear: function () {\n    var controller = _CoreManager2.default.getStorageController();\n    if (controller.hasOwnProperty('clear')) {\n      controller.clear();\n    }\n  }\n};\n\n_CoreManager2.default.setStorageController(_dereq_('./StorageController.browser'));\n},{\"./CoreManager\":3,\"./ParsePromise\":20,\"./StorageController.browser\":30}],30:[function(_dereq_,module,exports){\n'use strict';\n\nvar _ParsePromise = _dereq_('./ParsePromise');\n\nvar _ParsePromise2 = _interopRequireDefault(_ParsePromise);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar StorageController = {\n  async: 0,\n\n  getItem: function (path) {\n    return localStorage.getItem(path);\n  },\n  setItem: function (path, value) {\n    try {\n      localStorage.setItem(path, value);\n    } catch (e) {\n      // Quota exceeded, possibly due to Safari Private Browsing mode\n    }\n  },\n  removeItem: function (path) {\n    localStorage.removeItem(path);\n  },\n  clear: function () {\n    localStorage.clear();\n  }\n}; /**\n    * Copyright (c) 2015-present, Parse, LLC.\n    * All rights reserved.\n    *\n    * This source code is licensed under the BSD-style license found in the\n    * LICENSE file in the root directory of this source tree. An additional grant\n    * of patent rights can be found in the PATENTS file in the same directory.\n    *\n    * \n    */\n\nmodule.exports = StorageController;\n},{\"./ParsePromise\":20}],31:[function(_dereq_,module,exports){\n'use strict';\n\nvar _classCallCheck2 = _dereq_('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = _dereq_('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _ParsePromise = _dereq_('./ParsePromise');\n\nvar _ParsePromise2 = _interopRequireDefault(_ParsePromise);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar TaskQueue = function () {\n  function TaskQueue() {\n    (0, _classCallCheck3.default)(this, TaskQueue);\n\n    this.queue = [];\n  }\n\n  (0, _createClass3.default)(TaskQueue, [{\n    key: 'enqueue',\n    value: function (task) {\n      var _this = this;\n\n      var taskComplete = new _ParsePromise2.default();\n      this.queue.push({\n        task: task,\n        _completion: taskComplete\n      });\n      if (this.queue.length === 1) {\n        task().then(function () {\n          _this._dequeue();\n          taskComplete.resolve();\n        }, function (error) {\n          _this._dequeue();\n          taskComplete.reject(error);\n        });\n      }\n      return taskComplete;\n    }\n  }, {\n    key: '_dequeue',\n    value: function () {\n      var _this2 = this;\n\n      this.queue.shift();\n      if (this.queue.length) {\n        var next = this.queue[0];\n        next.task().then(function () {\n          _this2._dequeue();\n          next._completion.resolve();\n        }, function (error) {\n          _this2._dequeue();\n          next._completion.reject(error);\n        });\n      }\n    }\n  }]);\n  return TaskQueue;\n}(); /**\n      * Copyright (c) 2015-present, Parse, LLC.\n      * All rights reserved.\n      *\n      * This source code is licensed under the BSD-style license found in the\n      * LICENSE file in the root directory of this source tree. An additional grant\n      * of patent rights can be found in the PATENTS file in the same directory.\n      *\n      * \n      */\n\nmodule.exports = TaskQueue;\n},{\"./ParsePromise\":20,\"babel-runtime/helpers/classCallCheck\":56,\"babel-runtime/helpers/createClass\":57}],32:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _weakMap = _dereq_('babel-runtime/core-js/weak-map');\n\nvar _weakMap2 = _interopRequireDefault(_weakMap);\n\nexports.getState = getState;\nexports.initializeState = initializeState;\nexports.removeState = removeState;\nexports.getServerData = getServerData;\nexports.setServerData = setServerData;\nexports.getPendingOps = getPendingOps;\nexports.setPendingOp = setPendingOp;\nexports.pushPendingState = pushPendingState;\nexports.popPendingState = popPendingState;\nexports.mergeFirstPendingState = mergeFirstPendingState;\nexports.getObjectCache = getObjectCache;\nexports.estimateAttribute = estimateAttribute;\nexports.estimateAttributes = estimateAttributes;\nexports.commitServerChanges = commitServerChanges;\nexports.enqueueTask = enqueueTask;\nexports.duplicateState = duplicateState;\nexports.clearAllState = clearAllState;\n\nvar _ObjectStateMutations = _dereq_('./ObjectStateMutations');\n\nvar ObjectStateMutations = _interopRequireWildcard(_ObjectStateMutations);\n\nvar _TaskQueue = _dereq_('./TaskQueue');\n\nvar _TaskQueue2 = _interopRequireDefault(_TaskQueue);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }newObj.default = obj;return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nvar objectState = new _weakMap2.default();\n\nfunction getState(obj) {\n  var classData = objectState.get(obj);\n  return classData || null;\n}\n\nfunction initializeState(obj, initial) {\n  var state = getState(obj);\n  if (state) {\n    return state;\n  }\n  if (!initial) {\n    initial = {\n      serverData: {},\n      pendingOps: [{}],\n      objectCache: {},\n      tasks: new _TaskQueue2.default(),\n      existed: false\n    };\n  }\n  state = initial;\n  objectState.set(obj, state);\n  return state;\n}\n\nfunction removeState(obj) {\n  var state = getState(obj);\n  if (state === null) {\n    return null;\n  }\n  objectState.delete(obj);\n  return state;\n}\n\nfunction getServerData(obj) {\n  var state = getState(obj);\n  if (state) {\n    return state.serverData;\n  }\n  return {};\n}\n\nfunction setServerData(obj, attributes) {\n  var serverData = initializeState(obj).serverData;\n  ObjectStateMutations.setServerData(serverData, attributes);\n}\n\nfunction getPendingOps(obj) {\n  var state = getState(obj);\n  if (state) {\n    return state.pendingOps;\n  }\n  return [{}];\n}\n\nfunction setPendingOp(obj, attr, op) {\n  var pendingOps = initializeState(obj).pendingOps;\n  ObjectStateMutations.setPendingOp(pendingOps, attr, op);\n}\n\nfunction pushPendingState(obj) {\n  var pendingOps = initializeState(obj).pendingOps;\n  ObjectStateMutations.pushPendingState(pendingOps);\n}\n\nfunction popPendingState(obj) {\n  var pendingOps = initializeState(obj).pendingOps;\n  return ObjectStateMutations.popPendingState(pendingOps);\n}\n\nfunction mergeFirstPendingState(obj) {\n  var pendingOps = getPendingOps(obj);\n  ObjectStateMutations.mergeFirstPendingState(pendingOps);\n}\n\nfunction getObjectCache(obj) {\n  var state = getState(obj);\n  if (state) {\n    return state.objectCache;\n  }\n  return {};\n}\n\nfunction estimateAttribute(obj, attr) {\n  var serverData = getServerData(obj);\n  var pendingOps = getPendingOps(obj);\n  return ObjectStateMutations.estimateAttribute(serverData, pendingOps, obj.className, obj.id, attr);\n}\n\nfunction estimateAttributes(obj) {\n  var serverData = getServerData(obj);\n  var pendingOps = getPendingOps(obj);\n  return ObjectStateMutations.estimateAttributes(serverData, pendingOps, obj.className, obj.id);\n}\n\nfunction commitServerChanges(obj, changes) {\n  var state = initializeState(obj);\n  ObjectStateMutations.commitServerChanges(state.serverData, state.objectCache, changes);\n}\n\nfunction enqueueTask(obj, task) {\n  var state = initializeState(obj);\n  return state.tasks.enqueue(task);\n}\n\nfunction duplicateState(source, dest) {\n  var oldState = initializeState(source);\n  var newState = initializeState(dest);\n  for (var key in oldState.serverData) {\n    newState.serverData[key] = oldState.serverData[key];\n  }\n  for (var index = 0; index < oldState.pendingOps.length; index++) {\n    for (var _key in oldState.pendingOps[index]) {\n      newState.pendingOps[index][_key] = oldState.pendingOps[index][_key];\n    }\n  }\n  for (var _key2 in oldState.objectCache) {\n    newState.objectCache[_key2] = oldState.objectCache[_key2];\n  }\n  newState.existed = oldState.existed;\n}\n\nfunction clearAllState() {\n  objectState = new _weakMap2.default();\n}\n},{\"./ObjectStateMutations\":9,\"./TaskQueue\":31,\"babel-runtime/core-js/weak-map\":55}],33:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = arrayContainsObject;\n\nvar _ParseObject = _dereq_('./ParseObject');\n\nvar _ParseObject2 = _interopRequireDefault(_ParseObject);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction arrayContainsObject(array, object) {\n  if (array.indexOf(object) > -1) {\n    return true;\n  }\n  for (var i = 0; i < array.length; i++) {\n    if (array[i] instanceof _ParseObject2.default && array[i].className === object.className && array[i]._getId() === object._getId()) {\n      return true;\n    }\n  }\n  return false;\n} /**\n   * Copyright (c) 2015-present, Parse, LLC.\n   * All rights reserved.\n   *\n   * This source code is licensed under the BSD-style license found in the\n   * LICENSE file in the root directory of this source tree. An additional grant\n   * of patent rights can be found in the PATENTS file in the same directory.\n   *\n   * \n   */\n},{\"./ParseObject\":18}],34:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = _dereq_('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = canBeSerialized;\n\nvar _ParseFile = _dereq_('./ParseFile');\n\nvar _ParseFile2 = _interopRequireDefault(_ParseFile);\n\nvar _ParseObject = _dereq_('./ParseObject');\n\nvar _ParseObject2 = _interopRequireDefault(_ParseObject);\n\nvar _ParseRelation = _dereq_('./ParseRelation');\n\nvar _ParseRelation2 = _interopRequireDefault(_ParseRelation);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction canBeSerialized(obj) {\n  if (!(obj instanceof _ParseObject2.default)) {\n    return true;\n  }\n  var attributes = obj.attributes;\n  for (var attr in attributes) {\n    var val = attributes[attr];\n    if (!canBeSerializedHelper(val)) {\n      return false;\n    }\n  }\n  return true;\n} /**\n   * Copyright (c) 2015-present, Parse, LLC.\n   * All rights reserved.\n   *\n   * This source code is licensed under the BSD-style license found in the\n   * LICENSE file in the root directory of this source tree. An additional grant\n   * of patent rights can be found in the PATENTS file in the same directory.\n   *\n   * \n   */\n\nfunction canBeSerializedHelper(value) {\n  if ((typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) !== 'object') {\n    return true;\n  }\n  if (value instanceof _ParseRelation2.default) {\n    return true;\n  }\n  if (value instanceof _ParseObject2.default) {\n    return !!value.id;\n  }\n  if (value instanceof _ParseFile2.default) {\n    if (value.url()) {\n      return true;\n    }\n    return false;\n  }\n  if (Array.isArray(value)) {\n    for (var i = 0; i < value.length; i++) {\n      if (!canBeSerializedHelper(value[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  for (var k in value) {\n    if (!canBeSerializedHelper(value[k])) {\n      return false;\n    }\n  }\n  return true;\n}\n},{\"./ParseFile\":14,\"./ParseObject\":18,\"./ParseRelation\":22,\"babel-runtime/helpers/typeof\":61}],35:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = _dereq_('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = decode;\n\nvar _ParseACL = _dereq_('./ParseACL');\n\nvar _ParseACL2 = _interopRequireDefault(_ParseACL);\n\nvar _ParseFile = _dereq_('./ParseFile');\n\nvar _ParseFile2 = _interopRequireDefault(_ParseFile);\n\nvar _ParseGeoPoint = _dereq_('./ParseGeoPoint');\n\nvar _ParseGeoPoint2 = _interopRequireDefault(_ParseGeoPoint);\n\nvar _ParseObject = _dereq_('./ParseObject');\n\nvar _ParseObject2 = _interopRequireDefault(_ParseObject);\n\nvar _ParseOp = _dereq_('./ParseOp');\n\nvar _ParseRelation = _dereq_('./ParseRelation');\n\nvar _ParseRelation2 = _interopRequireDefault(_ParseRelation);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nfunction decode(value) {\n  if (value === null || (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) !== 'object') {\n    return value;\n  }\n  if (Array.isArray(value)) {\n    var dup = [];\n    value.forEach(function (v, i) {\n      dup[i] = decode(v);\n    });\n    return dup;\n  }\n  if (typeof value.__op === 'string') {\n    return (0, _ParseOp.opFromJSON)(value);\n  }\n  if (value.__type === 'Pointer' && value.className) {\n    return _ParseObject2.default.fromJSON(value);\n  }\n  if (value.__type === 'Object' && value.className) {\n    return _ParseObject2.default.fromJSON(value);\n  }\n  if (value.__type === 'Relation') {\n    // The parent and key fields will be populated by the parent\n    var relation = new _ParseRelation2.default(null, null);\n    relation.targetClassName = value.className;\n    return relation;\n  }\n  if (value.__type === 'Date') {\n    return new Date(value.iso);\n  }\n  if (value.__type === 'File') {\n    return _ParseFile2.default.fromJSON(value);\n  }\n  if (value.__type === 'GeoPoint') {\n    return new _ParseGeoPoint2.default({\n      latitude: value.latitude,\n      longitude: value.longitude\n    });\n  }\n  var copy = {};\n  for (var k in value) {\n    copy[k] = decode(value[k]);\n  }\n  return copy;\n}\n},{\"./ParseACL\":11,\"./ParseFile\":14,\"./ParseGeoPoint\":15,\"./ParseObject\":18,\"./ParseOp\":19,\"./ParseRelation\":22,\"babel-runtime/helpers/typeof\":61}],36:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = _dereq_('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _keys = _dereq_('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nexports.default = function (value, disallowObjects, forcePointers, seen) {\n  return encode(value, !!disallowObjects, !!forcePointers, seen || []);\n};\n\nvar _ParseACL = _dereq_('./ParseACL');\n\nvar _ParseACL2 = _interopRequireDefault(_ParseACL);\n\nvar _ParseFile = _dereq_('./ParseFile');\n\nvar _ParseFile2 = _interopRequireDefault(_ParseFile);\n\nvar _ParseGeoPoint = _dereq_('./ParseGeoPoint');\n\nvar _ParseGeoPoint2 = _interopRequireDefault(_ParseGeoPoint);\n\nvar _ParseObject = _dereq_('./ParseObject');\n\nvar _ParseObject2 = _interopRequireDefault(_ParseObject);\n\nvar _ParseOp = _dereq_('./ParseOp');\n\nvar _ParseRelation = _dereq_('./ParseRelation');\n\nvar _ParseRelation2 = _interopRequireDefault(_ParseRelation);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nvar toString = Object.prototype.toString;\n\nfunction encode(value, disallowObjects, forcePointers, seen) {\n  if (value instanceof _ParseObject2.default) {\n    if (disallowObjects) {\n      throw new Error('Parse Objects not allowed here');\n    }\n    var seenEntry = value.id ? value.className + ':' + value.id : value;\n    if (forcePointers || !seen || seen.indexOf(seenEntry) > -1 || value.dirty() || (0, _keys2.default)(value._getServerData()).length < 1) {\n      return value.toPointer();\n    }\n    seen = seen.concat(seenEntry);\n    return value._toFullJSON(seen);\n  }\n  if (value instanceof _ParseOp.Op || value instanceof _ParseACL2.default || value instanceof _ParseGeoPoint2.default || value instanceof _ParseRelation2.default) {\n    return value.toJSON();\n  }\n  if (value instanceof _ParseFile2.default) {\n    if (!value.url()) {\n      throw new Error('Tried to encode an unsaved file.');\n    }\n    return value.toJSON();\n  }\n  if (toString.call(value) === '[object Date]') {\n    if (isNaN(value)) {\n      throw new Error('Tried to encode an invalid date.');\n    }\n    return { __type: 'Date', iso: value.toJSON() };\n  }\n  if (toString.call(value) === '[object RegExp]' && typeof value.source === 'string') {\n    return value.source;\n  }\n\n  if (Array.isArray(value)) {\n    return value.map(function (v) {\n      return encode(v, disallowObjects, forcePointers, seen);\n    });\n  }\n\n  if (value && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) === 'object') {\n    var output = {};\n    for (var k in value) {\n      output[k] = encode(value[k], disallowObjects, forcePointers, seen);\n    }\n    return output;\n  }\n\n  return value;\n}\n},{\"./ParseACL\":11,\"./ParseFile\":14,\"./ParseGeoPoint\":15,\"./ParseObject\":18,\"./ParseOp\":19,\"./ParseRelation\":22,\"babel-runtime/core-js/object/keys\":51,\"babel-runtime/helpers/typeof\":61}],37:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keys = _dereq_('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _typeof2 = _dereq_('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = equals;\n\nvar _ParseACL = _dereq_('./ParseACL');\n\nvar _ParseACL2 = _interopRequireDefault(_ParseACL);\n\nvar _ParseFile = _dereq_('./ParseFile');\n\nvar _ParseFile2 = _interopRequireDefault(_ParseFile);\n\nvar _ParseGeoPoint = _dereq_('./ParseGeoPoint');\n\nvar _ParseGeoPoint2 = _interopRequireDefault(_ParseGeoPoint);\n\nvar _ParseObject = _dereq_('./ParseObject');\n\nvar _ParseObject2 = _interopRequireDefault(_ParseObject);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\nfunction equals(a, b) {\n  if ((typeof a === 'undefined' ? 'undefined' : (0, _typeof3.default)(a)) !== (typeof b === 'undefined' ? 'undefined' : (0, _typeof3.default)(b))) {\n    return false;\n  }\n\n  if (!a || (typeof a === 'undefined' ? 'undefined' : (0, _typeof3.default)(a)) !== 'object') {\n    // a is a primitive\n    return a === b;\n  }\n\n  if (Array.isArray(a) || Array.isArray(b)) {\n    if (!Array.isArray(a) || !Array.isArray(b)) {\n      return false;\n    }\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (var i = a.length; i--;) {\n      if (!equals(a[i], b[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  if (a instanceof _ParseACL2.default || a instanceof _ParseFile2.default || a instanceof _ParseGeoPoint2.default || a instanceof _ParseObject2.default) {\n    return a.equals(b);\n  }\n\n  if ((0, _keys2.default)(a).length !== (0, _keys2.default)(b).length) {\n    return false;\n  }\n  for (var k in a) {\n    if (!equals(a[k], b[k])) {\n      return false;\n    }\n  }\n  return true;\n}\n},{\"./ParseACL\":11,\"./ParseFile\":14,\"./ParseGeoPoint\":15,\"./ParseObject\":18,\"babel-runtime/core-js/object/keys\":51,\"babel-runtime/helpers/typeof\":61}],38:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = escape;\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nvar encoded = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '/': '&#x2F;',\n  '\\'': '&#x27;',\n  '\"': '&quot;'\n};\n\nfunction escape(str) {\n  return str.replace(/[&<>\\/'\"]/g, function (char) {\n    return encoded[char];\n  });\n}\n},{}],39:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isRevocableSession;\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nfunction isRevocableSession(token) {\n  return token.indexOf('r:') > -1;\n}\n},{}],40:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = parseDate;\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nfunction parseDate(iso8601) {\n  var regexp = new RegExp('^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})' + 'T' + '([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})' + '(.([0-9]+))?' + 'Z$');\n  var match = regexp.exec(iso8601);\n  if (!match) {\n    return null;\n  }\n\n  var year = match[1] || 0;\n  var month = (match[2] || 1) - 1;\n  var day = match[3] || 0;\n  var hour = match[4] || 0;\n  var minute = match[5] || 0;\n  var second = match[6] || 0;\n  var milli = match[8] || 0;\n\n  return new Date(Date.UTC(year, month, day, hour, minute, second, milli));\n}\n},{}],41:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = unique;\n\nvar _arrayContainsObject = _dereq_('./arrayContainsObject');\n\nvar _arrayContainsObject2 = _interopRequireDefault(_arrayContainsObject);\n\nvar _ParseObject = _dereq_('./ParseObject');\n\nvar _ParseObject2 = _interopRequireDefault(_ParseObject);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nfunction unique(arr) {\n  var uniques = [];\n  arr.forEach(function (value) {\n    if (value instanceof _ParseObject2.default) {\n      if (!(0, _arrayContainsObject2.default)(uniques, value)) {\n        uniques.push(value);\n      }\n    } else {\n      if (uniques.indexOf(value) < 0) {\n        uniques.push(value);\n      }\n    }\n  });\n  return uniques;\n}\n},{\"./ParseObject\":18,\"./arrayContainsObject\":33}],42:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = _dereq_('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = unsavedChildren;\n\nvar _ParseFile = _dereq_('./ParseFile');\n\nvar _ParseFile2 = _interopRequireDefault(_ParseFile);\n\nvar _ParseObject = _dereq_('./ParseObject');\n\nvar _ParseObject2 = _interopRequireDefault(_ParseObject);\n\nvar _ParseRelation = _dereq_('./ParseRelation');\n\nvar _ParseRelation2 = _interopRequireDefault(_ParseRelation);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Return an array of unsaved children, which are either Parse Objects or Files.\n * If it encounters any dirty Objects without Ids, it will throw an exception.\n */\nfunction unsavedChildren(obj, allowDeepUnsaved) {\n  var encountered = {\n    objects: {},\n    files: []\n  };\n  var identifier = obj.className + ':' + obj._getId();\n  encountered.objects[identifier] = obj.dirty() ? obj : true;\n  var attributes = obj.attributes;\n  for (var attr in attributes) {\n    if ((0, _typeof3.default)(attributes[attr]) === 'object') {\n      traverse(attributes[attr], encountered, false, !!allowDeepUnsaved);\n    }\n  }\n  var unsaved = [];\n  for (var id in encountered.objects) {\n    if (id !== identifier && encountered.objects[id] !== true) {\n      unsaved.push(encountered.objects[id]);\n    }\n  }\n  return unsaved.concat(encountered.files);\n} /**\n   * Copyright (c) 2015-present, Parse, LLC.\n   * All rights reserved.\n   *\n   * This source code is licensed under the BSD-style license found in the\n   * LICENSE file in the root directory of this source tree. An additional grant\n   * of patent rights can be found in the PATENTS file in the same directory.\n   *\n   * \n   */\n\nfunction traverse(obj, encountered, shouldThrow, allowDeepUnsaved) {\n  if (obj instanceof _ParseObject2.default) {\n    if (!obj.id && shouldThrow) {\n      throw new Error('Cannot create a pointer to an unsaved Object.');\n    }\n    var identifier = obj.className + ':' + obj._getId();\n    if (!encountered.objects[identifier]) {\n      encountered.objects[identifier] = obj.dirty() ? obj : true;\n      var attributes = obj.attributes;\n      for (var attr in attributes) {\n        if ((0, _typeof3.default)(attributes[attr]) === 'object') {\n          traverse(attributes[attr], encountered, !allowDeepUnsaved, allowDeepUnsaved);\n        }\n      }\n    }\n    return;\n  }\n  if (obj instanceof _ParseFile2.default) {\n    if (!obj.url() && encountered.files.indexOf(obj) < 0) {\n      encountered.files.push(obj);\n    }\n    return;\n  }\n  if (obj instanceof _ParseRelation2.default) {\n    return;\n  }\n  if (Array.isArray(obj)) {\n    obj.forEach(function (el) {\n      if ((typeof el === 'undefined' ? 'undefined' : (0, _typeof3.default)(el)) === 'object') {\n        traverse(el, encountered, shouldThrow, allowDeepUnsaved);\n      }\n    });\n  }\n  for (var k in obj) {\n    if ((0, _typeof3.default)(obj[k]) === 'object') {\n      traverse(obj[k], encountered, shouldThrow, allowDeepUnsaved);\n    }\n  }\n}\n},{\"./ParseFile\":14,\"./ParseObject\":18,\"./ParseRelation\":22,\"babel-runtime/helpers/typeof\":61}],43:[function(_dereq_,module,exports){\nmodule.exports = { \"default\": _dereq_(\"core-js/library/fn/get-iterator\"), __esModule: true };\n},{\"core-js/library/fn/get-iterator\":62}],44:[function(_dereq_,module,exports){\nmodule.exports = { \"default\": _dereq_(\"core-js/library/fn/json/stringify\"), __esModule: true };\n},{\"core-js/library/fn/json/stringify\":63}],45:[function(_dereq_,module,exports){\nmodule.exports = { \"default\": _dereq_(\"core-js/library/fn/map\"), __esModule: true };\n},{\"core-js/library/fn/map\":64}],46:[function(_dereq_,module,exports){\nmodule.exports = { \"default\": _dereq_(\"core-js/library/fn/object/create\"), __esModule: true };\n},{\"core-js/library/fn/object/create\":65}],47:[function(_dereq_,module,exports){\nmodule.exports = { \"default\": _dereq_(\"core-js/library/fn/object/define-property\"), __esModule: true };\n},{\"core-js/library/fn/object/define-property\":66}],48:[function(_dereq_,module,exports){\nmodule.exports = { \"default\": _dereq_(\"core-js/library/fn/object/freeze\"), __esModule: true };\n},{\"core-js/library/fn/object/freeze\":67}],49:[function(_dereq_,module,exports){\nmodule.exports = { \"default\": _dereq_(\"core-js/library/fn/object/get-own-property-descriptor\"), __esModule: true };\n},{\"core-js/library/fn/object/get-own-property-descriptor\":68}],50:[function(_dereq_,module,exports){\nmodule.exports = { \"default\": _dereq_(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/get-prototype-of\":69}],51:[function(_dereq_,module,exports){\nmodule.exports = { \"default\": _dereq_(\"core-js/library/fn/object/keys\"), __esModule: true };\n},{\"core-js/library/fn/object/keys\":70}],52:[function(_dereq_,module,exports){\nmodule.exports = { \"default\": _dereq_(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/set-prototype-of\":71}],53:[function(_dereq_,module,exports){\nmodule.exports = { \"default\": _dereq_(\"core-js/library/fn/symbol\"), __esModule: true };\n},{\"core-js/library/fn/symbol\":72}],54:[function(_dereq_,module,exports){\nmodule.exports = { \"default\": _dereq_(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n},{\"core-js/library/fn/symbol/iterator\":73}],55:[function(_dereq_,module,exports){\nmodule.exports = { \"default\": _dereq_(\"core-js/library/fn/weak-map\"), __esModule: true };\n},{\"core-js/library/fn/weak-map\":74}],56:[function(_dereq_,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n},{}],57:[function(_dereq_,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = _dereq_(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n},{\"../core-js/object/define-property\":47}],58:[function(_dereq_,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _getPrototypeOf = _dereq_(\"../core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _getOwnPropertyDescriptor = _dereq_(\"../core-js/object/get-own-property-descriptor\");\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);\n\n  if (desc === undefined) {\n    var parent = (0, _getPrototypeOf2.default)(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n},{\"../core-js/object/get-own-property-descriptor\":49,\"../core-js/object/get-prototype-of\":50}],59:[function(_dereq_,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = _dereq_(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = _dereq_(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = _dereq_(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};\n},{\"../core-js/object/create\":46,\"../core-js/object/set-prototype-of\":52,\"../helpers/typeof\":61}],60:[function(_dereq_,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = _dereq_(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n},{\"../helpers/typeof\":61}],61:[function(_dereq_,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = _dereq_(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = _dereq_(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n},{\"../core-js/symbol\":53,\"../core-js/symbol/iterator\":54}],62:[function(_dereq_,module,exports){\n_dereq_('../modules/web.dom.iterable');\n_dereq_('../modules/es6.string.iterator');\nmodule.exports = _dereq_('../modules/core.get-iterator');\n},{\"../modules/core.get-iterator\":150,\"../modules/es6.string.iterator\":161,\"../modules/web.dom.iterable\":167}],63:[function(_dereq_,module,exports){\nvar core  = _dereq_('../../modules/_core')\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n},{\"../../modules/_core\":90}],64:[function(_dereq_,module,exports){\n_dereq_('../modules/es6.object.to-string');\n_dereq_('../modules/es6.string.iterator');\n_dereq_('../modules/web.dom.iterable');\n_dereq_('../modules/es6.map');\n_dereq_('../modules/es7.map.to-json');\nmodule.exports = _dereq_('../modules/_core').Map;\n},{\"../modules/_core\":90,\"../modules/es6.map\":152,\"../modules/es6.object.to-string\":160,\"../modules/es6.string.iterator\":161,\"../modules/es7.map.to-json\":164,\"../modules/web.dom.iterable\":167}],65:[function(_dereq_,module,exports){\n_dereq_('../../modules/es6.object.create');\nvar $Object = _dereq_('../../modules/_core').Object;\nmodule.exports = function create(P, D){\n  return $Object.create(P, D);\n};\n},{\"../../modules/_core\":90,\"../../modules/es6.object.create\":153}],66:[function(_dereq_,module,exports){\n_dereq_('../../modules/es6.object.define-property');\nvar $Object = _dereq_('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc){\n  return $Object.defineProperty(it, key, desc);\n};\n},{\"../../modules/_core\":90,\"../../modules/es6.object.define-property\":154}],67:[function(_dereq_,module,exports){\n_dereq_('../../modules/es6.object.freeze');\nmodule.exports = _dereq_('../../modules/_core').Object.freeze;\n},{\"../../modules/_core\":90,\"../../modules/es6.object.freeze\":155}],68:[function(_dereq_,module,exports){\n_dereq_('../../modules/es6.object.get-own-property-descriptor');\nvar $Object = _dereq_('../../modules/_core').Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key){\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n},{\"../../modules/_core\":90,\"../../modules/es6.object.get-own-property-descriptor\":156}],69:[function(_dereq_,module,exports){\n_dereq_('../../modules/es6.object.get-prototype-of');\nmodule.exports = _dereq_('../../modules/_core').Object.getPrototypeOf;\n},{\"../../modules/_core\":90,\"../../modules/es6.object.get-prototype-of\":157}],70:[function(_dereq_,module,exports){\n_dereq_('../../modules/es6.object.keys');\nmodule.exports = _dereq_('../../modules/_core').Object.keys;\n},{\"../../modules/_core\":90,\"../../modules/es6.object.keys\":158}],71:[function(_dereq_,module,exports){\n_dereq_('../../modules/es6.object.set-prototype-of');\nmodule.exports = _dereq_('../../modules/_core').Object.setPrototypeOf;\n},{\"../../modules/_core\":90,\"../../modules/es6.object.set-prototype-of\":159}],72:[function(_dereq_,module,exports){\n_dereq_('../../modules/es6.symbol');\n_dereq_('../../modules/es6.object.to-string');\n_dereq_('../../modules/es7.symbol.async-iterator');\n_dereq_('../../modules/es7.symbol.observable');\nmodule.exports = _dereq_('../../modules/_core').Symbol;\n},{\"../../modules/_core\":90,\"../../modules/es6.object.to-string\":160,\"../../modules/es6.symbol\":162,\"../../modules/es7.symbol.async-iterator\":165,\"../../modules/es7.symbol.observable\":166}],73:[function(_dereq_,module,exports){\n_dereq_('../../modules/es6.string.iterator');\n_dereq_('../../modules/web.dom.iterable');\nmodule.exports = _dereq_('../../modules/_wks-ext').f('iterator');\n},{\"../../modules/_wks-ext\":147,\"../../modules/es6.string.iterator\":161,\"../../modules/web.dom.iterable\":167}],74:[function(_dereq_,module,exports){\n_dereq_('../modules/es6.object.to-string');\n_dereq_('../modules/web.dom.iterable');\n_dereq_('../modules/es6.weak-map');\nmodule.exports = _dereq_('../modules/_core').WeakMap;\n},{\"../modules/_core\":90,\"../modules/es6.object.to-string\":160,\"../modules/es6.weak-map\":163,\"../modules/web.dom.iterable\":167}],75:[function(_dereq_,module,exports){\nmodule.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n},{}],76:[function(_dereq_,module,exports){\nmodule.exports = function(){ /* empty */ };\n},{}],77:[function(_dereq_,module,exports){\nmodule.exports = function(it, Constructor, name, forbiddenField){\n  if(!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)){\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n},{}],78:[function(_dereq_,module,exports){\nvar isObject = _dereq_('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n},{\"./_is-object\":108}],79:[function(_dereq_,module,exports){\nvar forOf = _dereq_('./_for-of');\n\nmodule.exports = function(iter, ITERATOR){\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n\n},{\"./_for-of\":99}],80:[function(_dereq_,module,exports){\n// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = _dereq_('./_to-iobject')\n  , toLength  = _dereq_('./_to-length')\n  , toIndex   = _dereq_('./_to-index');\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n},{\"./_to-index\":139,\"./_to-iobject\":141,\"./_to-length\":142}],81:[function(_dereq_,module,exports){\n// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx      = _dereq_('./_ctx')\n  , IObject  = _dereq_('./_iobject')\n  , toObject = _dereq_('./_to-object')\n  , toLength = _dereq_('./_to-length')\n  , asc      = _dereq_('./_array-species-create');\nmodule.exports = function(TYPE, $create){\n  var IS_MAP        = TYPE == 1\n    , IS_FILTER     = TYPE == 2\n    , IS_SOME       = TYPE == 3\n    , IS_EVERY      = TYPE == 4\n    , IS_FIND_INDEX = TYPE == 6\n    , NO_HOLES      = TYPE == 5 || IS_FIND_INDEX\n    , create        = $create || asc;\n  return function($this, callbackfn, that){\n    var O      = toObject($this)\n      , self   = IObject(O)\n      , f      = ctx(callbackfn, that, 3)\n      , length = toLength(self.length)\n      , index  = 0\n      , result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined\n      , val, res;\n    for(;length > index; index++)if(NO_HOLES || index in self){\n      val = self[index];\n      res = f(val, index, O);\n      if(TYPE){\n        if(IS_MAP)result[index] = res;            // map\n        else if(res)switch(TYPE){\n          case 3: return true;                    // some\n          case 5: return val;                     // find\n          case 6: return index;                   // findIndex\n          case 2: result.push(val);               // filter\n        } else if(IS_EVERY)return false;          // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n},{\"./_array-species-create\":83,\"./_ctx\":91,\"./_iobject\":105,\"./_to-length\":142,\"./_to-object\":143}],82:[function(_dereq_,module,exports){\nvar isObject = _dereq_('./_is-object')\n  , isArray  = _dereq_('./_is-array')\n  , SPECIES  = _dereq_('./_wks')('species');\n\nmodule.exports = function(original){\n  var C;\n  if(isArray(original)){\n    C = original.constructor;\n    // cross-realm fallback\n    if(typeof C == 'function' && (C === Array || isArray(C.prototype)))C = undefined;\n    if(isObject(C)){\n      C = C[SPECIES];\n      if(C === null)C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n},{\"./_is-array\":107,\"./_is-object\":108,\"./_wks\":148}],83:[function(_dereq_,module,exports){\n// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = _dereq_('./_array-species-constructor');\n\nmodule.exports = function(original, length){\n  return new (speciesConstructor(original))(length);\n};\n},{\"./_array-species-constructor\":82}],84:[function(_dereq_,module,exports){\n// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = _dereq_('./_cof')\n  , TAG = _dereq_('./_wks')('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function(it, key){\n  try {\n    return it[key];\n  } catch(e){ /* empty */ }\n};\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n},{\"./_cof\":85,\"./_wks\":148}],85:[function(_dereq_,module,exports){\nvar toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n},{}],86:[function(_dereq_,module,exports){\n'use strict';\nvar dP          = _dereq_('./_object-dp').f\n  , create      = _dereq_('./_object-create')\n  , redefineAll = _dereq_('./_redefine-all')\n  , ctx         = _dereq_('./_ctx')\n  , anInstance  = _dereq_('./_an-instance')\n  , defined     = _dereq_('./_defined')\n  , forOf       = _dereq_('./_for-of')\n  , $iterDefine = _dereq_('./_iter-define')\n  , step        = _dereq_('./_iter-step')\n  , setSpecies  = _dereq_('./_set-species')\n  , DESCRIPTORS = _dereq_('./_descriptors')\n  , fastKey     = _dereq_('./_meta').fastKey\n  , SIZE        = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function(that, key){\n  // fast case\n  var index = fastKey(key), entry;\n  if(index !== 'F')return that._i[index];\n  // frozen object case\n  for(entry = that._f; entry; entry = entry.n){\n    if(entry.k == key)return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function(wrapper, NAME, IS_MAP, ADDER){\n    var C = wrapper(function(that, iterable){\n      anInstance(that, C, NAME, '_i');\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear(){\n        for(var that = this, data = that._i, entry = that._f; entry; entry = entry.n){\n          entry.r = true;\n          if(entry.p)entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function(key){\n        var that  = this\n          , entry = getEntry(that, key);\n        if(entry){\n          var next = entry.n\n            , prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if(prev)prev.n = next;\n          if(next)next.p = prev;\n          if(that._f == entry)that._f = next;\n          if(that._l == entry)that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /*, that = undefined */){\n        anInstance(this, C, 'forEach');\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3)\n          , entry;\n        while(entry = entry ? entry.n : this._f){\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while(entry && entry.r)entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key){\n        return !!getEntry(this, key);\n      }\n    });\n    if(DESCRIPTORS)dP(C.prototype, 'size', {\n      get: function(){\n        return defined(this[SIZE]);\n      }\n    });\n    return C;\n  },\n  def: function(that, key, value){\n    var entry = getEntry(that, key)\n      , prev, index;\n    // change existing entry\n    if(entry){\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if(!that._f)that._f = entry;\n      if(prev)prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if(index !== 'F')that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function(C, NAME, IS_MAP){\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function(iterated, kind){\n      this._t = iterated;  // target\n      this._k = kind;      // kind\n      this._l = undefined; // previous\n    }, function(){\n      var that  = this\n        , kind  = that._k\n        , entry = that._l;\n      // revert to the last existing entry\n      while(entry && entry.r)entry = entry.p;\n      // get next entry\n      if(!that._t || !(that._l = entry = entry ? entry.n : that._t._f)){\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if(kind == 'keys'  )return step(0, entry.k);\n      if(kind == 'values')return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values' , !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n},{\"./_an-instance\":77,\"./_ctx\":91,\"./_defined\":92,\"./_descriptors\":93,\"./_for-of\":99,\"./_iter-define\":111,\"./_iter-step\":112,\"./_meta\":116,\"./_object-create\":118,\"./_object-dp\":119,\"./_redefine-all\":131,\"./_set-species\":134}],87:[function(_dereq_,module,exports){\n// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = _dereq_('./_classof')\n  , from    = _dereq_('./_array-from-iterable');\nmodule.exports = function(NAME){\n  return function toJSON(){\n    if(classof(this) != NAME)throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n},{\"./_array-from-iterable\":79,\"./_classof\":84}],88:[function(_dereq_,module,exports){\n'use strict';\nvar redefineAll       = _dereq_('./_redefine-all')\n  , getWeak           = _dereq_('./_meta').getWeak\n  , anObject          = _dereq_('./_an-object')\n  , isObject          = _dereq_('./_is-object')\n  , anInstance        = _dereq_('./_an-instance')\n  , forOf             = _dereq_('./_for-of')\n  , createArrayMethod = _dereq_('./_array-methods')\n  , $has              = _dereq_('./_has')\n  , arrayFind         = createArrayMethod(5)\n  , arrayFindIndex    = createArrayMethod(6)\n  , id                = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function(that){\n  return that._l || (that._l = new UncaughtFrozenStore);\n};\nvar UncaughtFrozenStore = function(){\n  this.a = [];\n};\nvar findUncaughtFrozen = function(store, key){\n  return arrayFind(store.a, function(it){\n    return it[0] === key;\n  });\n};\nUncaughtFrozenStore.prototype = {\n  get: function(key){\n    var entry = findUncaughtFrozen(this, key);\n    if(entry)return entry[1];\n  },\n  has: function(key){\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function(key, value){\n    var entry = findUncaughtFrozen(this, key);\n    if(entry)entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function(key){\n    var index = arrayFindIndex(this.a, function(it){\n      return it[0] === key;\n    });\n    if(~index)this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function(wrapper, NAME, IS_MAP, ADDER){\n    var C = wrapper(function(that, iterable){\n      anInstance(that, C, NAME, '_i');\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for uncaught frozen objects\n      if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function(key){\n        if(!isObject(key))return false;\n        var data = getWeak(key);\n        if(data === true)return uncaughtFrozenStore(this)['delete'](key);\n        return data && $has(data, this._i) && delete data[this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key){\n        if(!isObject(key))return false;\n        var data = getWeak(key);\n        if(data === true)return uncaughtFrozenStore(this).has(key);\n        return data && $has(data, this._i);\n      }\n    });\n    return C;\n  },\n  def: function(that, key, value){\n    var data = getWeak(anObject(key), true);\n    if(data === true)uncaughtFrozenStore(that).set(key, value);\n    else data[that._i] = value;\n    return that;\n  },\n  ufstore: uncaughtFrozenStore\n};\n},{\"./_an-instance\":77,\"./_an-object\":78,\"./_array-methods\":81,\"./_for-of\":99,\"./_has\":101,\"./_is-object\":108,\"./_meta\":116,\"./_redefine-all\":131}],89:[function(_dereq_,module,exports){\n'use strict';\nvar global         = _dereq_('./_global')\n  , $export        = _dereq_('./_export')\n  , meta           = _dereq_('./_meta')\n  , fails          = _dereq_('./_fails')\n  , hide           = _dereq_('./_hide')\n  , redefineAll    = _dereq_('./_redefine-all')\n  , forOf          = _dereq_('./_for-of')\n  , anInstance     = _dereq_('./_an-instance')\n  , isObject       = _dereq_('./_is-object')\n  , setToStringTag = _dereq_('./_set-to-string-tag')\n  , dP             = _dereq_('./_object-dp').f\n  , each           = _dereq_('./_array-methods')(0)\n  , DESCRIPTORS    = _dereq_('./_descriptors');\n\nmodule.exports = function(NAME, wrapper, methods, common, IS_MAP, IS_WEAK){\n  var Base  = global[NAME]\n    , C     = Base\n    , ADDER = IS_MAP ? 'set' : 'add'\n    , proto = C && C.prototype\n    , O     = {};\n  if(!DESCRIPTORS || typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function(){\n    new C().entries().next();\n  }))){\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    C = wrapper(function(target, iterable){\n      anInstance(target, C, NAME, '_c');\n      target._c = new Base;\n      if(iterable != undefined)forOf(iterable, IS_MAP, target[ADDER], target);\n    });\n    each('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','),function(KEY){\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if(KEY in proto && !(IS_WEAK && KEY == 'clear'))hide(C.prototype, KEY, function(a, b){\n        anInstance(this, C, KEY);\n        if(!IS_ADDER && IS_WEAK && !isObject(a))return KEY == 'get' ? undefined : false;\n        var result = this._c[KEY](a === 0 ? 0 : a, b);\n        return IS_ADDER ? this : result;\n      });\n    });\n    if('size' in proto)dP(C.prototype, 'size', {\n      get: function(){\n        return this._c.size;\n      }\n    });\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F, O);\n\n  if(!IS_WEAK)common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n},{\"./_an-instance\":77,\"./_array-methods\":81,\"./_descriptors\":93,\"./_export\":97,\"./_fails\":98,\"./_for-of\":99,\"./_global\":100,\"./_hide\":102,\"./_is-object\":108,\"./_meta\":116,\"./_object-dp\":119,\"./_redefine-all\":131,\"./_set-to-string-tag\":135}],90:[function(_dereq_,module,exports){\nvar core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n},{}],91:[function(_dereq_,module,exports){\n// optional / simple context binding\nvar aFunction = _dereq_('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n},{\"./_a-function\":75}],92:[function(_dereq_,module,exports){\n// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n},{}],93:[function(_dereq_,module,exports){\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !_dereq_('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./_fails\":98}],94:[function(_dereq_,module,exports){\nvar isObject = _dereq_('./_is-object')\n  , document = _dereq_('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n},{\"./_global\":100,\"./_is-object\":108}],95:[function(_dereq_,module,exports){\n// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n},{}],96:[function(_dereq_,module,exports){\n// all enumerable object keys, includes symbols\nvar getKeys = _dereq_('./_object-keys')\n  , gOPS    = _dereq_('./_object-gops')\n  , pIE     = _dereq_('./_object-pie');\nmodule.exports = function(it){\n  var result     = getKeys(it)\n    , getSymbols = gOPS.f;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = pIE.f\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))result.push(key);\n  } return result;\n};\n},{\"./_object-gops\":124,\"./_object-keys\":127,\"./_object-pie\":128}],97:[function(_dereq_,module,exports){\nvar global    = _dereq_('./_global')\n  , core      = _dereq_('./_core')\n  , ctx       = _dereq_('./_ctx')\n  , hide      = _dereq_('./_hide')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n},{\"./_core\":90,\"./_ctx\":91,\"./_global\":100,\"./_hide\":102}],98:[function(_dereq_,module,exports){\nmodule.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n},{}],99:[function(_dereq_,module,exports){\nvar ctx         = _dereq_('./_ctx')\n  , call        = _dereq_('./_iter-call')\n  , isArrayIter = _dereq_('./_is-array-iter')\n  , anObject    = _dereq_('./_an-object')\n  , toLength    = _dereq_('./_to-length')\n  , getIterFn   = _dereq_('./core.get-iterator-method')\n  , BREAK       = {}\n  , RETURN      = {};\nvar exports = module.exports = function(iterable, entries, fn, that, ITERATOR){\n  var iterFn = ITERATOR ? function(){ return iterable; } : getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator, result;\n  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if(result === BREAK || result === RETURN)return result;\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    result = call(iterator, f, step.value, entries);\n    if(result === BREAK || result === RETURN)return result;\n  }\n};\nexports.BREAK  = BREAK;\nexports.RETURN = RETURN;\n},{\"./_an-object\":78,\"./_ctx\":91,\"./_is-array-iter\":106,\"./_iter-call\":109,\"./_to-length\":142,\"./core.get-iterator-method\":149}],100:[function(_dereq_,module,exports){\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n},{}],101:[function(_dereq_,module,exports){\nvar hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n},{}],102:[function(_dereq_,module,exports){\nvar dP         = _dereq_('./_object-dp')\n  , createDesc = _dereq_('./_property-desc');\nmodule.exports = _dereq_('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n},{\"./_descriptors\":93,\"./_object-dp\":119,\"./_property-desc\":130}],103:[function(_dereq_,module,exports){\nmodule.exports = _dereq_('./_global').document && document.documentElement;\n},{\"./_global\":100}],104:[function(_dereq_,module,exports){\nmodule.exports = !_dereq_('./_descriptors') && !_dereq_('./_fails')(function(){\n  return Object.defineProperty(_dereq_('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./_descriptors\":93,\"./_dom-create\":94,\"./_fails\":98}],105:[function(_dereq_,module,exports){\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = _dereq_('./_cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n},{\"./_cof\":85}],106:[function(_dereq_,module,exports){\n// check on default Array iterator\nvar Iterators  = _dereq_('./_iterators')\n  , ITERATOR   = _dereq_('./_wks')('iterator')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n},{\"./_iterators\":113,\"./_wks\":148}],107:[function(_dereq_,module,exports){\n// 7.2.2 IsArray(argument)\nvar cof = _dereq_('./_cof');\nmodule.exports = Array.isArray || function isArray(arg){\n  return cof(arg) == 'Array';\n};\n},{\"./_cof\":85}],108:[function(_dereq_,module,exports){\nmodule.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n},{}],109:[function(_dereq_,module,exports){\n// call something on iterator step with safe closing on error\nvar anObject = _dereq_('./_an-object');\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};\n},{\"./_an-object\":78}],110:[function(_dereq_,module,exports){\n'use strict';\nvar create         = _dereq_('./_object-create')\n  , descriptor     = _dereq_('./_property-desc')\n  , setToStringTag = _dereq_('./_set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n_dereq_('./_hide')(IteratorPrototype, _dereq_('./_wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n},{\"./_hide\":102,\"./_object-create\":118,\"./_property-desc\":130,\"./_set-to-string-tag\":135,\"./_wks\":148}],111:[function(_dereq_,module,exports){\n'use strict';\nvar LIBRARY        = _dereq_('./_library')\n  , $export        = _dereq_('./_export')\n  , redefine       = _dereq_('./_redefine')\n  , hide           = _dereq_('./_hide')\n  , has            = _dereq_('./_has')\n  , Iterators      = _dereq_('./_iterators')\n  , $iterCreate    = _dereq_('./_iter-create')\n  , setToStringTag = _dereq_('./_set-to-string-tag')\n  , getPrototypeOf = _dereq_('./_object-gpo')\n  , ITERATOR       = _dereq_('./_wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined\n    , $anyNative = NAME == 'Array' ? proto.entries || $native : $native\n    , methods, key, IteratorPrototype;\n  // Fix native\n  if($anyNative){\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));\n    if(IteratorPrototype !== Object.prototype){\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if(DEF_VALUES && $native && $native.name !== VALUES){\n    VALUES_BUG = true;\n    $default = function values(){ return $native.call(this); };\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES ? $default : getMethod(VALUES),\n      keys:    IS_SET     ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n},{\"./_export\":97,\"./_has\":101,\"./_hide\":102,\"./_iter-create\":110,\"./_iterators\":113,\"./_library\":115,\"./_object-gpo\":125,\"./_redefine\":132,\"./_set-to-string-tag\":135,\"./_wks\":148}],112:[function(_dereq_,module,exports){\nmodule.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n},{}],113:[function(_dereq_,module,exports){\nmodule.exports = {};\n},{}],114:[function(_dereq_,module,exports){\nvar getKeys   = _dereq_('./_object-keys')\n  , toIObject = _dereq_('./_to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n},{\"./_object-keys\":127,\"./_to-iobject\":141}],115:[function(_dereq_,module,exports){\nmodule.exports = true;\n},{}],116:[function(_dereq_,module,exports){\nvar META     = _dereq_('./_uid')('meta')\n  , isObject = _dereq_('./_is-object')\n  , has      = _dereq_('./_has')\n  , setDesc  = _dereq_('./_object-dp').f\n  , id       = 0;\nvar isExtensible = Object.isExtensible || function(){\n  return true;\n};\nvar FREEZE = !_dereq_('./_fails')(function(){\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function(it){\n  setDesc(it, META, {value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  }});\n};\nvar fastKey = function(it, create){\n  // return primitive with prefix\n  if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return 'F';\n    // not necessary to add metadata\n    if(!create)return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function(it, create){\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return true;\n    // not necessary to add metadata\n    if(!create)return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function(it){\n  if(FREEZE && meta.NEED && isExtensible(it) && !has(it, META))setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY:      META,\n  NEED:     false,\n  fastKey:  fastKey,\n  getWeak:  getWeak,\n  onFreeze: onFreeze\n};\n},{\"./_fails\":98,\"./_has\":101,\"./_is-object\":108,\"./_object-dp\":119,\"./_uid\":145}],117:[function(_dereq_,module,exports){\n'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys  = _dereq_('./_object-keys')\n  , gOPS     = _dereq_('./_object-gops')\n  , pIE      = _dereq_('./_object-pie')\n  , toObject = _dereq_('./_to-object')\n  , IObject  = _dereq_('./_iobject')\n  , $assign  = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || _dereq_('./_fails')(function(){\n  var A = {}\n    , B = {}\n    , S = Symbol()\n    , K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function(k){ B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source){ // eslint-disable-line no-unused-vars\n  var T     = toObject(target)\n    , aLen  = arguments.length\n    , index = 1\n    , getSymbols = gOPS.f\n    , isEnum     = pIE.f;\n  while(aLen > index){\n    var S      = IObject(arguments[index++])\n      , keys   = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S)\n      , length = keys.length\n      , j      = 0\n      , key;\n    while(length > j)if(isEnum.call(S, key = keys[j++]))T[key] = S[key];\n  } return T;\n} : $assign;\n},{\"./_fails\":98,\"./_iobject\":105,\"./_object-gops\":124,\"./_object-keys\":127,\"./_object-pie\":128,\"./_to-object\":143}],118:[function(_dereq_,module,exports){\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject    = _dereq_('./_an-object')\n  , dPs         = _dereq_('./_object-dps')\n  , enumBugKeys = _dereq_('./_enum-bug-keys')\n  , IE_PROTO    = _dereq_('./_shared-key')('IE_PROTO')\n  , Empty       = function(){ /* empty */ }\n  , PROTOTYPE   = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function(){\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = _dereq_('./_dom-create')('iframe')\n    , i      = enumBugKeys.length\n    , lt     = '<'\n    , gt     = '>'\n    , iframeDocument;\n  iframe.style.display = 'none';\n  _dereq_('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties){\n  var result;\n  if(O !== null){\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty;\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n},{\"./_an-object\":78,\"./_dom-create\":94,\"./_enum-bug-keys\":95,\"./_html\":103,\"./_object-dps\":120,\"./_shared-key\":136}],119:[function(_dereq_,module,exports){\nvar anObject       = _dereq_('./_an-object')\n  , IE8_DOM_DEFINE = _dereq_('./_ie8-dom-define')\n  , toPrimitive    = _dereq_('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = _dereq_('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};\n},{\"./_an-object\":78,\"./_descriptors\":93,\"./_ie8-dom-define\":104,\"./_to-primitive\":144}],120:[function(_dereq_,module,exports){\nvar dP       = _dereq_('./_object-dp')\n  , anObject = _dereq_('./_an-object')\n  , getKeys  = _dereq_('./_object-keys');\n\nmodule.exports = _dereq_('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties){\n  anObject(O);\n  var keys   = getKeys(Properties)\n    , length = keys.length\n    , i = 0\n    , P;\n  while(length > i)dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n},{\"./_an-object\":78,\"./_descriptors\":93,\"./_object-dp\":119,\"./_object-keys\":127}],121:[function(_dereq_,module,exports){\nvar pIE            = _dereq_('./_object-pie')\n  , createDesc     = _dereq_('./_property-desc')\n  , toIObject      = _dereq_('./_to-iobject')\n  , toPrimitive    = _dereq_('./_to-primitive')\n  , has            = _dereq_('./_has')\n  , IE8_DOM_DEFINE = _dereq_('./_ie8-dom-define')\n  , gOPD           = Object.getOwnPropertyDescriptor;\n\nexports.f = _dereq_('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P){\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if(IE8_DOM_DEFINE)try {\n    return gOPD(O, P);\n  } catch(e){ /* empty */ }\n  if(has(O, P))return createDesc(!pIE.f.call(O, P), O[P]);\n};\n},{\"./_descriptors\":93,\"./_has\":101,\"./_ie8-dom-define\":104,\"./_object-pie\":128,\"./_property-desc\":130,\"./_to-iobject\":141,\"./_to-primitive\":144}],122:[function(_dereq_,module,exports){\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = _dereq_('./_to-iobject')\n  , gOPN      = _dereq_('./_object-gopn').f\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return gOPN(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it){\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n},{\"./_object-gopn\":123,\"./_to-iobject\":141}],123:[function(_dereq_,module,exports){\n// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys      = _dereq_('./_object-keys-internal')\n  , hiddenKeys = _dereq_('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O){\n  return $keys(O, hiddenKeys);\n};\n},{\"./_enum-bug-keys\":95,\"./_object-keys-internal\":126}],124:[function(_dereq_,module,exports){\nexports.f = Object.getOwnPropertySymbols;\n},{}],125:[function(_dereq_,module,exports){\n// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has         = _dereq_('./_has')\n  , toObject    = _dereq_('./_to-object')\n  , IE_PROTO    = _dereq_('./_shared-key')('IE_PROTO')\n  , ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function(O){\n  O = toObject(O);\n  if(has(O, IE_PROTO))return O[IE_PROTO];\n  if(typeof O.constructor == 'function' && O instanceof O.constructor){\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n},{\"./_has\":101,\"./_shared-key\":136,\"./_to-object\":143}],126:[function(_dereq_,module,exports){\nvar has          = _dereq_('./_has')\n  , toIObject    = _dereq_('./_to-iobject')\n  , arrayIndexOf = _dereq_('./_array-includes')(false)\n  , IE_PROTO     = _dereq_('./_shared-key')('IE_PROTO');\n\nmodule.exports = function(object, names){\n  var O      = toIObject(object)\n    , i      = 0\n    , result = []\n    , key;\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while(names.length > i)if(has(O, key = names[i++])){\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n},{\"./_array-includes\":80,\"./_has\":101,\"./_shared-key\":136,\"./_to-iobject\":141}],127:[function(_dereq_,module,exports){\n// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys       = _dereq_('./_object-keys-internal')\n  , enumBugKeys = _dereq_('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O){\n  return $keys(O, enumBugKeys);\n};\n},{\"./_enum-bug-keys\":95,\"./_object-keys-internal\":126}],128:[function(_dereq_,module,exports){\nexports.f = {}.propertyIsEnumerable;\n},{}],129:[function(_dereq_,module,exports){\n// most Object methods by ES6 should accept primitives\nvar $export = _dereq_('./_export')\n  , core    = _dereq_('./_core')\n  , fails   = _dereq_('./_fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n},{\"./_core\":90,\"./_export\":97,\"./_fails\":98}],130:[function(_dereq_,module,exports){\nmodule.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n},{}],131:[function(_dereq_,module,exports){\nvar hide = _dereq_('./_hide');\nmodule.exports = function(target, src, safe){\n  for(var key in src){\n    if(safe && target[key])target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n},{\"./_hide\":102}],132:[function(_dereq_,module,exports){\nmodule.exports = _dereq_('./_hide');\n},{\"./_hide\":102}],133:[function(_dereq_,module,exports){\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = _dereq_('./_is-object')\n  , anObject = _dereq_('./_an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = _dereq_('./_ctx')(Function.call, _dereq_('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n},{\"./_an-object\":78,\"./_ctx\":91,\"./_is-object\":108,\"./_object-gopd\":121}],134:[function(_dereq_,module,exports){\n'use strict';\nvar global      = _dereq_('./_global')\n  , core        = _dereq_('./_core')\n  , dP          = _dereq_('./_object-dp')\n  , DESCRIPTORS = _dereq_('./_descriptors')\n  , SPECIES     = _dereq_('./_wks')('species');\n\nmodule.exports = function(KEY){\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])dP.f(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};\n},{\"./_core\":90,\"./_descriptors\":93,\"./_global\":100,\"./_object-dp\":119,\"./_wks\":148}],135:[function(_dereq_,module,exports){\nvar def = _dereq_('./_object-dp').f\n  , has = _dereq_('./_has')\n  , TAG = _dereq_('./_wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n},{\"./_has\":101,\"./_object-dp\":119,\"./_wks\":148}],136:[function(_dereq_,module,exports){\nvar shared = _dereq_('./_shared')('keys')\n  , uid    = _dereq_('./_uid');\nmodule.exports = function(key){\n  return shared[key] || (shared[key] = uid(key));\n};\n},{\"./_shared\":137,\"./_uid\":145}],137:[function(_dereq_,module,exports){\nvar global = _dereq_('./_global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n},{\"./_global\":100}],138:[function(_dereq_,module,exports){\nvar toInteger = _dereq_('./_to-integer')\n  , defined   = _dereq_('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n},{\"./_defined\":92,\"./_to-integer\":140}],139:[function(_dereq_,module,exports){\nvar toInteger = _dereq_('./_to-integer')\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n},{\"./_to-integer\":140}],140:[function(_dereq_,module,exports){\n// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n},{}],141:[function(_dereq_,module,exports){\n// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = _dereq_('./_iobject')\n  , defined = _dereq_('./_defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n},{\"./_defined\":92,\"./_iobject\":105}],142:[function(_dereq_,module,exports){\n// 7.1.15 ToLength\nvar toInteger = _dereq_('./_to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n},{\"./_to-integer\":140}],143:[function(_dereq_,module,exports){\n// 7.1.13 ToObject(argument)\nvar defined = _dereq_('./_defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n},{\"./_defined\":92}],144:[function(_dereq_,module,exports){\n// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = _dereq_('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n},{\"./_is-object\":108}],145:[function(_dereq_,module,exports){\nvar id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n},{}],146:[function(_dereq_,module,exports){\nvar global         = _dereq_('./_global')\n  , core           = _dereq_('./_core')\n  , LIBRARY        = _dereq_('./_library')\n  , wksExt         = _dereq_('./_wks-ext')\n  , defineProperty = _dereq_('./_object-dp').f;\nmodule.exports = function(name){\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if(name.charAt(0) != '_' && !(name in $Symbol))defineProperty($Symbol, name, {value: wksExt.f(name)});\n};\n},{\"./_core\":90,\"./_global\":100,\"./_library\":115,\"./_object-dp\":119,\"./_wks-ext\":147}],147:[function(_dereq_,module,exports){\nexports.f = _dereq_('./_wks');\n},{\"./_wks\":148}],148:[function(_dereq_,module,exports){\nvar store      = _dereq_('./_shared')('wks')\n  , uid        = _dereq_('./_uid')\n  , Symbol     = _dereq_('./_global').Symbol\n  , USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function(name){\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n},{\"./_global\":100,\"./_shared\":137,\"./_uid\":145}],149:[function(_dereq_,module,exports){\nvar classof   = _dereq_('./_classof')\n  , ITERATOR  = _dereq_('./_wks')('iterator')\n  , Iterators = _dereq_('./_iterators');\nmodule.exports = _dereq_('./_core').getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n},{\"./_classof\":84,\"./_core\":90,\"./_iterators\":113,\"./_wks\":148}],150:[function(_dereq_,module,exports){\nvar anObject = _dereq_('./_an-object')\n  , get      = _dereq_('./core.get-iterator-method');\nmodule.exports = _dereq_('./_core').getIterator = function(it){\n  var iterFn = get(it);\n  if(typeof iterFn != 'function')throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n},{\"./_an-object\":78,\"./_core\":90,\"./core.get-iterator-method\":149}],151:[function(_dereq_,module,exports){\n'use strict';\nvar addToUnscopables = _dereq_('./_add-to-unscopables')\n  , step             = _dereq_('./_iter-step')\n  , Iterators        = _dereq_('./_iterators')\n  , toIObject        = _dereq_('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = _dereq_('./_iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n},{\"./_add-to-unscopables\":76,\"./_iter-define\":111,\"./_iter-step\":112,\"./_iterators\":113,\"./_to-iobject\":141}],152:[function(_dereq_,module,exports){\n'use strict';\nvar strong = _dereq_('./_collection-strong');\n\n// 23.1 Map Objects\nmodule.exports = _dereq_('./_collection')('Map', function(get){\n  return function Map(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key){\n    var entry = strong.getEntry(this, key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value){\n    return strong.def(this, key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n},{\"./_collection\":89,\"./_collection-strong\":86}],153:[function(_dereq_,module,exports){\nvar $export = _dereq_('./_export')\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', {create: _dereq_('./_object-create')});\n},{\"./_export\":97,\"./_object-create\":118}],154:[function(_dereq_,module,exports){\nvar $export = _dereq_('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !_dereq_('./_descriptors'), 'Object', {defineProperty: _dereq_('./_object-dp').f});\n},{\"./_descriptors\":93,\"./_export\":97,\"./_object-dp\":119}],155:[function(_dereq_,module,exports){\n// 19.1.2.5 Object.freeze(O)\nvar isObject = _dereq_('./_is-object')\n  , meta     = _dereq_('./_meta').onFreeze;\n\n_dereq_('./_object-sap')('freeze', function($freeze){\n  return function freeze(it){\n    return $freeze && isObject(it) ? $freeze(meta(it)) : it;\n  };\n});\n},{\"./_is-object\":108,\"./_meta\":116,\"./_object-sap\":129}],156:[function(_dereq_,module,exports){\n// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject                 = _dereq_('./_to-iobject')\n  , $getOwnPropertyDescriptor = _dereq_('./_object-gopd').f;\n\n_dereq_('./_object-sap')('getOwnPropertyDescriptor', function(){\n  return function getOwnPropertyDescriptor(it, key){\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n},{\"./_object-gopd\":121,\"./_object-sap\":129,\"./_to-iobject\":141}],157:[function(_dereq_,module,exports){\n// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject        = _dereq_('./_to-object')\n  , $getPrototypeOf = _dereq_('./_object-gpo');\n\n_dereq_('./_object-sap')('getPrototypeOf', function(){\n  return function getPrototypeOf(it){\n    return $getPrototypeOf(toObject(it));\n  };\n});\n},{\"./_object-gpo\":125,\"./_object-sap\":129,\"./_to-object\":143}],158:[function(_dereq_,module,exports){\n// 19.1.2.14 Object.keys(O)\nvar toObject = _dereq_('./_to-object')\n  , $keys    = _dereq_('./_object-keys');\n\n_dereq_('./_object-sap')('keys', function(){\n  return function keys(it){\n    return $keys(toObject(it));\n  };\n});\n},{\"./_object-keys\":127,\"./_object-sap\":129,\"./_to-object\":143}],159:[function(_dereq_,module,exports){\n// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = _dereq_('./_export');\n$export($export.S, 'Object', {setPrototypeOf: _dereq_('./_set-proto').set});\n},{\"./_export\":97,\"./_set-proto\":133}],160:[function(_dereq_,module,exports){\n\n},{}],161:[function(_dereq_,module,exports){\n'use strict';\nvar $at  = _dereq_('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\n_dereq_('./_iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n},{\"./_iter-define\":111,\"./_string-at\":138}],162:[function(_dereq_,module,exports){\n'use strict';\n// ECMAScript 6 symbols shim\nvar global         = _dereq_('./_global')\n  , has            = _dereq_('./_has')\n  , DESCRIPTORS    = _dereq_('./_descriptors')\n  , $export        = _dereq_('./_export')\n  , redefine       = _dereq_('./_redefine')\n  , META           = _dereq_('./_meta').KEY\n  , $fails         = _dereq_('./_fails')\n  , shared         = _dereq_('./_shared')\n  , setToStringTag = _dereq_('./_set-to-string-tag')\n  , uid            = _dereq_('./_uid')\n  , wks            = _dereq_('./_wks')\n  , wksExt         = _dereq_('./_wks-ext')\n  , wksDefine      = _dereq_('./_wks-define')\n  , keyOf          = _dereq_('./_keyof')\n  , enumKeys       = _dereq_('./_enum-keys')\n  , isArray        = _dereq_('./_is-array')\n  , anObject       = _dereq_('./_an-object')\n  , toIObject      = _dereq_('./_to-iobject')\n  , toPrimitive    = _dereq_('./_to-primitive')\n  , createDesc     = _dereq_('./_property-desc')\n  , _create        = _dereq_('./_object-create')\n  , gOPNExt        = _dereq_('./_object-gopn-ext')\n  , $GOPD          = _dereq_('./_object-gopd')\n  , $DP            = _dereq_('./_object-dp')\n  , $keys          = _dereq_('./_object-keys')\n  , gOPD           = $GOPD.f\n  , dP             = $DP.f\n  , gOPN           = gOPNExt.f\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , PROTOTYPE      = 'prototype'\n  , HIDDEN         = wks('_hidden')\n  , TO_PRIMITIVE   = wks('toPrimitive')\n  , isEnum         = {}.propertyIsEnumerable\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , OPSymbols      = shared('op-symbols')\n  , ObjectProto    = Object[PROTOTYPE]\n  , USE_NATIVE     = typeof $Symbol == 'function'\n  , QObject        = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(dP({}, 'a', {\n    get: function(){ return dP(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = gOPD(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  dP(it, key, D);\n  if(protoDesc && it !== ObjectProto)dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function(it){\n  return typeof it == 'symbol';\n} : function(it){\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(it === ObjectProto)$defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if(has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if(this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  it  = toIObject(it);\n  key = toPrimitive(key, true);\n  if(it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return;\n  var D = gOPD(it, key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = gOPN(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META)result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var IS_OP  = it === ObjectProto\n    , names  = gOPN(IS_OP ? OPSymbols : toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true))result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif(!USE_NATIVE){\n  $Symbol = function Symbol(){\n    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function(value){\n      if(this === ObjectProto)$set.call(OPSymbols, value);\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if(DESCRIPTORS && setter)setSymbolDesc(ObjectProto, tag, {configurable: true, set: $set});\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString(){\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f   = $defineProperty;\n  _dereq_('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  _dereq_('./_object-pie').f  = $propertyIsEnumerable;\n  _dereq_('./_object-gops').f = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !_dereq_('./_library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function(name){\n    return wrap(wks(name));\n  }\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Symbol: $Symbol});\n\nfor(var symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), i = 0; symbols.length > i; )wks(symbols[i++]);\n\nfor(var symbols = $keys(wks.store), i = 0; symbols.length > i; )wksDefine(symbols[i++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    if(isSymbol(key))return keyOf(SymbolRegistry, key);\n    throw TypeError(key + ' is not a symbol!');\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it){\n    if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n    var args = [it]\n      , i    = 1\n      , replacer, $replacer;\n    while(arguments.length > i)args.push(arguments[i++]);\n    replacer = args[1];\n    if(typeof replacer == 'function')$replacer = replacer;\n    if($replacer || !isArray(replacer))replacer = function(key, value){\n      if($replacer)value = $replacer.call(this, key, value);\n      if(!isSymbol(value))return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || _dereq_('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n},{\"./_an-object\":78,\"./_descriptors\":93,\"./_enum-keys\":96,\"./_export\":97,\"./_fails\":98,\"./_global\":100,\"./_has\":101,\"./_hide\":102,\"./_is-array\":107,\"./_keyof\":114,\"./_library\":115,\"./_meta\":116,\"./_object-create\":118,\"./_object-dp\":119,\"./_object-gopd\":121,\"./_object-gopn\":123,\"./_object-gopn-ext\":122,\"./_object-gops\":124,\"./_object-keys\":127,\"./_object-pie\":128,\"./_property-desc\":130,\"./_redefine\":132,\"./_set-to-string-tag\":135,\"./_shared\":137,\"./_to-iobject\":141,\"./_to-primitive\":144,\"./_uid\":145,\"./_wks\":148,\"./_wks-define\":146,\"./_wks-ext\":147}],163:[function(_dereq_,module,exports){\n'use strict';\nvar each         = _dereq_('./_array-methods')(0)\n  , redefine     = _dereq_('./_redefine')\n  , meta         = _dereq_('./_meta')\n  , assign       = _dereq_('./_object-assign')\n  , weak         = _dereq_('./_collection-weak')\n  , isObject     = _dereq_('./_is-object')\n  , getWeak      = meta.getWeak\n  , isExtensible = Object.isExtensible\n  , uncaughtFrozenStore = weak.ufstore\n  , tmp          = {}\n  , InternalMap;\n\nvar wrapper = function(get){\n  return function WeakMap(){\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n};\n\nvar methods = {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key){\n    if(isObject(key)){\n      var data = getWeak(key);\n      if(data === true)return uncaughtFrozenStore(this).get(key);\n      return data ? data[this._i] : undefined;\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value){\n    return weak.def(this, key, value);\n  }\n};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = module.exports = _dereq_('./_collection')('WeakMap', wrapper, methods, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif(new $WeakMap().set((Object.freeze || Object)(tmp), 7).get(tmp) != 7){\n  InternalMap = weak.getConstructor(wrapper);\n  assign(InternalMap.prototype, methods);\n  meta.NEED = true;\n  each(['delete', 'has', 'get', 'set'], function(key){\n    var proto  = $WeakMap.prototype\n      , method = proto[key];\n    redefine(proto, key, function(a, b){\n      // store frozen objects on internal weakmap shim\n      if(isObject(a) && !isExtensible(a)){\n        if(!this._f)this._f = new InternalMap;\n        var result = this._f[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n},{\"./_array-methods\":81,\"./_collection\":89,\"./_collection-weak\":88,\"./_is-object\":108,\"./_meta\":116,\"./_object-assign\":117,\"./_redefine\":132}],164:[function(_dereq_,module,exports){\n// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export  = _dereq_('./_export');\n\n$export($export.P + $export.R, 'Map', {toJSON: _dereq_('./_collection-to-json')('Map')});\n},{\"./_collection-to-json\":87,\"./_export\":97}],165:[function(_dereq_,module,exports){\n_dereq_('./_wks-define')('asyncIterator');\n},{\"./_wks-define\":146}],166:[function(_dereq_,module,exports){\n_dereq_('./_wks-define')('observable');\n},{\"./_wks-define\":146}],167:[function(_dereq_,module,exports){\n_dereq_('./es6.array.iterator');\nvar global        = _dereq_('./_global')\n  , hide          = _dereq_('./_hide')\n  , Iterators     = _dereq_('./_iterators')\n  , TO_STRING_TAG = _dereq_('./_wks')('toStringTag');\n\nfor(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){\n  var NAME       = collections[i]\n    , Collection = global[NAME]\n    , proto      = Collection && Collection.prototype;\n  if(proto && !proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n},{\"./_global\":100,\"./_hide\":102,\"./_iterators\":113,\"./_wks\":148,\"./es6.array.iterator\":151}],168:[function(_dereq_,module,exports){\narguments[4][160][0].apply(exports,arguments)\n},{\"dup\":160}],169:[function(_dereq_,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n},{}]},{},[10])(10)\n});"},"P+fo":function(e,n){e.exports=function(e){"undefined"!=typeof execScript?execScript(e):eval.call(null,e)}},"P/AD":function(e,n){e.exports='var parseUrl = \'http://52.36.251.242/api\';\nParse.initialize("ingtelektoApp", "unused");\nParse.serverURL = parseUrl;\n'},TUKq:function(e,n){e.exports="/*! tether 1.4.0 */\n\n(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(require, exports, module);\n  } else {\n    root.Tether = factory();\n  }\n}(this, function(require, exports, module) {\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar TetherBase = undefined;\nif (typeof TetherBase === 'undefined') {\n  TetherBase = { modules: [] };\n}\n\nvar zeroElement = null;\n\n// Same as native getBoundingClientRect, except it takes into account parent <frame> offsets\n// if the element lies within a nested document (<frame> or <iframe>-like).\nfunction getActualBoundingClientRect(node) {\n  var boundingRect = node.getBoundingClientRect();\n\n  // The original object returned by getBoundingClientRect is immutable, so we clone it\n  // We can't use extend because the properties are not considered part of the object by hasOwnProperty in IE9\n  var rect = {};\n  for (var k in boundingRect) {\n    rect[k] = boundingRect[k];\n  }\n\n  if (node.ownerDocument !== document) {\n    var _frameElement = node.ownerDocument.defaultView.frameElement;\n    if (_frameElement) {\n      var frameRect = getActualBoundingClientRect(_frameElement);\n      rect.top += frameRect.top;\n      rect.bottom += frameRect.top;\n      rect.left += frameRect.left;\n      rect.right += frameRect.left;\n    }\n  }\n\n  return rect;\n}\n\nfunction getScrollParents(el) {\n  // In firefox if the el is inside an iframe with display: none; window.getComputedStyle() will return null;\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n  var computedStyle = getComputedStyle(el) || {};\n  var position = computedStyle.position;\n  var parents = [];\n\n  if (position === 'fixed') {\n    return [el];\n  }\n\n  var parent = el;\n  while ((parent = parent.parentNode) && parent && parent.nodeType === 1) {\n    var style = undefined;\n    try {\n      style = getComputedStyle(parent);\n    } catch (err) {}\n\n    if (typeof style === 'undefined' || style === null) {\n      parents.push(parent);\n      return parents;\n    }\n\n    var _style = style;\n    var overflow = _style.overflow;\n    var overflowX = _style.overflowX;\n    var overflowY = _style.overflowY;\n\n    if (/(auto|scroll)/.test(overflow + overflowY + overflowX)) {\n      if (position !== 'absolute' || ['relative', 'absolute', 'fixed'].indexOf(style.position) >= 0) {\n        parents.push(parent);\n      }\n    }\n  }\n\n  parents.push(el.ownerDocument.body);\n\n  // If the node is within a frame, account for the parent window scroll\n  if (el.ownerDocument !== document) {\n    parents.push(el.ownerDocument.defaultView);\n  }\n\n  return parents;\n}\n\nvar uniqueId = (function () {\n  var id = 0;\n  return function () {\n    return ++id;\n  };\n})();\n\nvar zeroPosCache = {};\nvar getOrigin = function getOrigin() {\n  // getBoundingClientRect is unfortunately too accurate.  It introduces a pixel or two of\n  // jitter as the user scrolls that messes with our ability to detect if two positions\n  // are equivilant or not.  We place an element at the top left of the page that will\n  // get the same jitter, so we can cancel the two out.\n  var node = zeroElement;\n  if (!node || !document.body.contains(node)) {\n    node = document.createElement('div');\n    node.setAttribute('data-tether-id', uniqueId());\n    extend(node.style, {\n      top: 0,\n      left: 0,\n      position: 'absolute'\n    });\n\n    document.body.appendChild(node);\n\n    zeroElement = node;\n  }\n\n  var id = node.getAttribute('data-tether-id');\n  if (typeof zeroPosCache[id] === 'undefined') {\n    zeroPosCache[id] = getActualBoundingClientRect(node);\n\n    // Clear the cache when this position call is done\n    defer(function () {\n      delete zeroPosCache[id];\n    });\n  }\n\n  return zeroPosCache[id];\n};\n\nfunction removeUtilElements() {\n  if (zeroElement) {\n    document.body.removeChild(zeroElement);\n  }\n  zeroElement = null;\n};\n\nfunction getBounds(el) {\n  var doc = undefined;\n  if (el === document) {\n    doc = document;\n    el = document.documentElement;\n  } else {\n    doc = el.ownerDocument;\n  }\n\n  var docEl = doc.documentElement;\n\n  var box = getActualBoundingClientRect(el);\n\n  var origin = getOrigin();\n\n  box.top -= origin.top;\n  box.left -= origin.left;\n\n  if (typeof box.width === 'undefined') {\n    box.width = document.body.scrollWidth - box.left - box.right;\n  }\n  if (typeof box.height === 'undefined') {\n    box.height = document.body.scrollHeight - box.top - box.bottom;\n  }\n\n  box.top = box.top - docEl.clientTop;\n  box.left = box.left - docEl.clientLeft;\n  box.right = doc.body.clientWidth - box.width - box.left;\n  box.bottom = doc.body.clientHeight - box.height - box.top;\n\n  return box;\n}\n\nfunction getOffsetParent(el) {\n  return el.offsetParent || document.documentElement;\n}\n\nvar _scrollBarSize = null;\nfunction getScrollBarSize() {\n  if (_scrollBarSize) {\n    return _scrollBarSize;\n  }\n  var inner = document.createElement('div');\n  inner.style.width = '100%';\n  inner.style.height = '200px';\n\n  var outer = document.createElement('div');\n  extend(outer.style, {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    pointerEvents: 'none',\n    visibility: 'hidden',\n    width: '200px',\n    height: '150px',\n    overflow: 'hidden'\n  });\n\n  outer.appendChild(inner);\n\n  document.body.appendChild(outer);\n\n  var widthContained = inner.offsetWidth;\n  outer.style.overflow = 'scroll';\n  var widthScroll = inner.offsetWidth;\n\n  if (widthContained === widthScroll) {\n    widthScroll = outer.clientWidth;\n  }\n\n  document.body.removeChild(outer);\n\n  var width = widthContained - widthScroll;\n\n  _scrollBarSize = { width: width, height: width };\n  return _scrollBarSize;\n}\n\nfunction extend() {\n  var out = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  var args = [];\n\n  Array.prototype.push.apply(args, arguments);\n\n  args.slice(1).forEach(function (obj) {\n    if (obj) {\n      for (var key in obj) {\n        if (({}).hasOwnProperty.call(obj, key)) {\n          out[key] = obj[key];\n        }\n      }\n    }\n  });\n\n  return out;\n}\n\nfunction removeClass(el, name) {\n  if (typeof el.classList !== 'undefined') {\n    name.split(' ').forEach(function (cls) {\n      if (cls.trim()) {\n        el.classList.remove(cls);\n      }\n    });\n  } else {\n    var regex = new RegExp('(^| )' + name.split(' ').join('|') + '( |$)', 'gi');\n    var className = getClassName(el).replace(regex, ' ');\n    setClassName(el, className);\n  }\n}\n\nfunction addClass(el, name) {\n  if (typeof el.classList !== 'undefined') {\n    name.split(' ').forEach(function (cls) {\n      if (cls.trim()) {\n        el.classList.add(cls);\n      }\n    });\n  } else {\n    removeClass(el, name);\n    var cls = getClassName(el) + (' ' + name);\n    setClassName(el, cls);\n  }\n}\n\nfunction hasClass(el, name) {\n  if (typeof el.classList !== 'undefined') {\n    return el.classList.contains(name);\n  }\n  var className = getClassName(el);\n  return new RegExp('(^| )' + name + '( |$)', 'gi').test(className);\n}\n\nfunction getClassName(el) {\n  // Can't use just SVGAnimatedString here since nodes within a Frame in IE have\n  // completely separately SVGAnimatedString base classes\n  if (el.className instanceof el.ownerDocument.defaultView.SVGAnimatedString) {\n    return el.className.baseVal;\n  }\n  return el.className;\n}\n\nfunction setClassName(el, className) {\n  el.setAttribute('class', className);\n}\n\nfunction updateClasses(el, add, all) {\n  // Of the set of 'all' classes, we need the 'add' classes, and only the\n  // 'add' classes to be set.\n  all.forEach(function (cls) {\n    if (add.indexOf(cls) === -1 && hasClass(el, cls)) {\n      removeClass(el, cls);\n    }\n  });\n\n  add.forEach(function (cls) {\n    if (!hasClass(el, cls)) {\n      addClass(el, cls);\n    }\n  });\n}\n\nvar deferred = [];\n\nvar defer = function defer(fn) {\n  deferred.push(fn);\n};\n\nvar flush = function flush() {\n  var fn = undefined;\n  while (fn = deferred.pop()) {\n    fn();\n  }\n};\n\nvar Evented = (function () {\n  function Evented() {\n    _classCallCheck(this, Evented);\n  }\n\n  _createClass(Evented, [{\n    key: 'on',\n    value: function on(event, handler, ctx) {\n      var once = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\n      if (typeof this.bindings === 'undefined') {\n        this.bindings = {};\n      }\n      if (typeof this.bindings[event] === 'undefined') {\n        this.bindings[event] = [];\n      }\n      this.bindings[event].push({ handler: handler, ctx: ctx, once: once });\n    }\n  }, {\n    key: 'once',\n    value: function once(event, handler, ctx) {\n      this.on(event, handler, ctx, true);\n    }\n  }, {\n    key: 'off',\n    value: function off(event, handler) {\n      if (typeof this.bindings === 'undefined' || typeof this.bindings[event] === 'undefined') {\n        return;\n      }\n\n      if (typeof handler === 'undefined') {\n        delete this.bindings[event];\n      } else {\n        var i = 0;\n        while (i < this.bindings[event].length) {\n          if (this.bindings[event][i].handler === handler) {\n            this.bindings[event].splice(i, 1);\n          } else {\n            ++i;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'trigger',\n    value: function trigger(event) {\n      if (typeof this.bindings !== 'undefined' && this.bindings[event]) {\n        var i = 0;\n\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        while (i < this.bindings[event].length) {\n          var _bindings$event$i = this.bindings[event][i];\n          var handler = _bindings$event$i.handler;\n          var ctx = _bindings$event$i.ctx;\n          var once = _bindings$event$i.once;\n\n          var context = ctx;\n          if (typeof context === 'undefined') {\n            context = this;\n          }\n\n          handler.apply(context, args);\n\n          if (once) {\n            this.bindings[event].splice(i, 1);\n          } else {\n            ++i;\n          }\n        }\n      }\n    }\n  }]);\n\n  return Evented;\n})();\n\nTetherBase.Utils = {\n  getActualBoundingClientRect: getActualBoundingClientRect,\n  getScrollParents: getScrollParents,\n  getBounds: getBounds,\n  getOffsetParent: getOffsetParent,\n  extend: extend,\n  addClass: addClass,\n  removeClass: removeClass,\n  hasClass: hasClass,\n  updateClasses: updateClasses,\n  defer: defer,\n  flush: flush,\n  uniqueId: uniqueId,\n  Evented: Evented,\n  getScrollBarSize: getScrollBarSize,\n  removeUtilElements: removeUtilElements\n};\n/* globals TetherBase, performance */\n\n'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x6, _x7, _x8) { var _again = true; _function: while (_again) { var object = _x6, property = _x7, receiver = _x8; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x6 = parent; _x7 = property; _x8 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nif (typeof TetherBase === 'undefined') {\n  throw new Error('You must include the utils.js file before tether.js');\n}\n\nvar _TetherBase$Utils = TetherBase.Utils;\nvar getScrollParents = _TetherBase$Utils.getScrollParents;\nvar getBounds = _TetherBase$Utils.getBounds;\nvar getOffsetParent = _TetherBase$Utils.getOffsetParent;\nvar extend = _TetherBase$Utils.extend;\nvar addClass = _TetherBase$Utils.addClass;\nvar removeClass = _TetherBase$Utils.removeClass;\nvar updateClasses = _TetherBase$Utils.updateClasses;\nvar defer = _TetherBase$Utils.defer;\nvar flush = _TetherBase$Utils.flush;\nvar getScrollBarSize = _TetherBase$Utils.getScrollBarSize;\nvar removeUtilElements = _TetherBase$Utils.removeUtilElements;\n\nfunction within(a, b) {\n  var diff = arguments.length <= 2 || arguments[2] === undefined ? 1 : arguments[2];\n\n  return a + diff >= b && b >= a - diff;\n}\n\nvar transformKey = (function () {\n  if (typeof document === 'undefined') {\n    return '';\n  }\n  var el = document.createElement('div');\n\n  var transforms = ['transform', 'WebkitTransform', 'OTransform', 'MozTransform', 'msTransform'];\n  for (var i = 0; i < transforms.length; ++i) {\n    var key = transforms[i];\n    if (el.style[key] !== undefined) {\n      return key;\n    }\n  }\n})();\n\nvar tethers = [];\n\nvar position = function position() {\n  tethers.forEach(function (tether) {\n    tether.position(false);\n  });\n  flush();\n};\n\nfunction now() {\n  if (typeof performance !== 'undefined' && typeof performance.now !== 'undefined') {\n    return performance.now();\n  }\n  return +new Date();\n}\n\n(function () {\n  var lastCall = null;\n  var lastDuration = null;\n  var pendingTimeout = null;\n\n  var tick = function tick() {\n    if (typeof lastDuration !== 'undefined' && lastDuration > 16) {\n      // We voluntarily throttle ourselves if we can't manage 60fps\n      lastDuration = Math.min(lastDuration - 16, 250);\n\n      // Just in case this is the last event, remember to position just once more\n      pendingTimeout = setTimeout(tick, 250);\n      return;\n    }\n\n    if (typeof lastCall !== 'undefined' && now() - lastCall < 10) {\n      // Some browsers call events a little too frequently, refuse to run more than is reasonable\n      return;\n    }\n\n    if (pendingTimeout != null) {\n      clearTimeout(pendingTimeout);\n      pendingTimeout = null;\n    }\n\n    lastCall = now();\n    position();\n    lastDuration = now() - lastCall;\n  };\n\n  if (typeof window !== 'undefined' && typeof window.addEventListener !== 'undefined') {\n    ['resize', 'scroll', 'touchmove'].forEach(function (event) {\n      window.addEventListener(event, tick);\n    });\n  }\n})();\n\nvar MIRROR_LR = {\n  center: 'center',\n  left: 'right',\n  right: 'left'\n};\n\nvar MIRROR_TB = {\n  middle: 'middle',\n  top: 'bottom',\n  bottom: 'top'\n};\n\nvar OFFSET_MAP = {\n  top: 0,\n  left: 0,\n  middle: '50%',\n  center: '50%',\n  bottom: '100%',\n  right: '100%'\n};\n\nvar autoToFixedAttachment = function autoToFixedAttachment(attachment, relativeToAttachment) {\n  var left = attachment.left;\n  var top = attachment.top;\n\n  if (left === 'auto') {\n    left = MIRROR_LR[relativeToAttachment.left];\n  }\n\n  if (top === 'auto') {\n    top = MIRROR_TB[relativeToAttachment.top];\n  }\n\n  return { left: left, top: top };\n};\n\nvar attachmentToOffset = function attachmentToOffset(attachment) {\n  var left = attachment.left;\n  var top = attachment.top;\n\n  if (typeof OFFSET_MAP[attachment.left] !== 'undefined') {\n    left = OFFSET_MAP[attachment.left];\n  }\n\n  if (typeof OFFSET_MAP[attachment.top] !== 'undefined') {\n    top = OFFSET_MAP[attachment.top];\n  }\n\n  return { left: left, top: top };\n};\n\nfunction addOffset() {\n  var out = { top: 0, left: 0 };\n\n  for (var _len = arguments.length, offsets = Array(_len), _key = 0; _key < _len; _key++) {\n    offsets[_key] = arguments[_key];\n  }\n\n  offsets.forEach(function (_ref) {\n    var top = _ref.top;\n    var left = _ref.left;\n\n    if (typeof top === 'string') {\n      top = parseFloat(top, 10);\n    }\n    if (typeof left === 'string') {\n      left = parseFloat(left, 10);\n    }\n\n    out.top += top;\n    out.left += left;\n  });\n\n  return out;\n}\n\nfunction offsetToPx(offset, size) {\n  if (typeof offset.left === 'string' && offset.left.indexOf('%') !== -1) {\n    offset.left = parseFloat(offset.left, 10) / 100 * size.width;\n  }\n  if (typeof offset.top === 'string' && offset.top.indexOf('%') !== -1) {\n    offset.top = parseFloat(offset.top, 10) / 100 * size.height;\n  }\n\n  return offset;\n}\n\nvar parseOffset = function parseOffset(value) {\n  var _value$split = value.split(' ');\n\n  var _value$split2 = _slicedToArray(_value$split, 2);\n\n  var top = _value$split2[0];\n  var left = _value$split2[1];\n\n  return { top: top, left: left };\n};\nvar parseAttachment = parseOffset;\n\nvar TetherClass = (function (_Evented) {\n  _inherits(TetherClass, _Evented);\n\n  function TetherClass(options) {\n    var _this = this;\n\n    _classCallCheck(this, TetherClass);\n\n    _get(Object.getPrototypeOf(TetherClass.prototype), 'constructor', this).call(this);\n    this.position = this.position.bind(this);\n\n    tethers.push(this);\n\n    this.history = [];\n\n    this.setOptions(options, false);\n\n    TetherBase.modules.forEach(function (module) {\n      if (typeof module.initialize !== 'undefined') {\n        module.initialize.call(_this);\n      }\n    });\n\n    this.position();\n  }\n\n  _createClass(TetherClass, [{\n    key: 'getClass',\n    value: function getClass() {\n      var key = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];\n      var classes = this.options.classes;\n\n      if (typeof classes !== 'undefined' && classes[key]) {\n        return this.options.classes[key];\n      } else if (this.options.classPrefix) {\n        return this.options.classPrefix + '-' + key;\n      } else {\n        return key;\n      }\n    }\n  }, {\n    key: 'setOptions',\n    value: function setOptions(options) {\n      var _this2 = this;\n\n      var pos = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\n\n      var defaults = {\n        offset: '0 0',\n        targetOffset: '0 0',\n        targetAttachment: 'auto auto',\n        classPrefix: 'tether'\n      };\n\n      this.options = extend(defaults, options);\n\n      var _options = this.options;\n      var element = _options.element;\n      var target = _options.target;\n      var targetModifier = _options.targetModifier;\n\n      this.element = element;\n      this.target = target;\n      this.targetModifier = targetModifier;\n\n      if (this.target === 'viewport') {\n        this.target = document.body;\n        this.targetModifier = 'visible';\n      } else if (this.target === 'scroll-handle') {\n        this.target = document.body;\n        this.targetModifier = 'scroll-handle';\n      }\n\n      ['element', 'target'].forEach(function (key) {\n        if (typeof _this2[key] === 'undefined') {\n          throw new Error('Tether Error: Both element and target must be defined');\n        }\n\n        if (typeof _this2[key].jquery !== 'undefined') {\n          _this2[key] = _this2[key][0];\n        } else if (typeof _this2[key] === 'string') {\n          _this2[key] = document.querySelector(_this2[key]);\n        }\n      });\n\n      addClass(this.element, this.getClass('element'));\n      if (!(this.options.addTargetClasses === false)) {\n        addClass(this.target, this.getClass('target'));\n      }\n\n      if (!this.options.attachment) {\n        throw new Error('Tether Error: You must provide an attachment');\n      }\n\n      this.targetAttachment = parseAttachment(this.options.targetAttachment);\n      this.attachment = parseAttachment(this.options.attachment);\n      this.offset = parseOffset(this.options.offset);\n      this.targetOffset = parseOffset(this.options.targetOffset);\n\n      if (typeof this.scrollParents !== 'undefined') {\n        this.disable();\n      }\n\n      if (this.targetModifier === 'scroll-handle') {\n        this.scrollParents = [this.target];\n      } else {\n        this.scrollParents = getScrollParents(this.target);\n      }\n\n      if (!(this.options.enabled === false)) {\n        this.enable(pos);\n      }\n    }\n  }, {\n    key: 'getTargetBounds',\n    value: function getTargetBounds() {\n      if (typeof this.targetModifier !== 'undefined') {\n        if (this.targetModifier === 'visible') {\n          if (this.target === document.body) {\n            return { top: pageYOffset, left: pageXOffset, height: innerHeight, width: innerWidth };\n          } else {\n            var bounds = getBounds(this.target);\n\n            var out = {\n              height: bounds.height,\n              width: bounds.width,\n              top: bounds.top,\n              left: bounds.left\n            };\n\n            out.height = Math.min(out.height, bounds.height - (pageYOffset - bounds.top));\n            out.height = Math.min(out.height, bounds.height - (bounds.top + bounds.height - (pageYOffset + innerHeight)));\n            out.height = Math.min(innerHeight, out.height);\n            out.height -= 2;\n\n            out.width = Math.min(out.width, bounds.width - (pageXOffset - bounds.left));\n            out.width = Math.min(out.width, bounds.width - (bounds.left + bounds.width - (pageXOffset + innerWidth)));\n            out.width = Math.min(innerWidth, out.width);\n            out.width -= 2;\n\n            if (out.top < pageYOffset) {\n              out.top = pageYOffset;\n            }\n            if (out.left < pageXOffset) {\n              out.left = pageXOffset;\n            }\n\n            return out;\n          }\n        } else if (this.targetModifier === 'scroll-handle') {\n          var bounds = undefined;\n          var target = this.target;\n          if (target === document.body) {\n            target = document.documentElement;\n\n            bounds = {\n              left: pageXOffset,\n              top: pageYOffset,\n              height: innerHeight,\n              width: innerWidth\n            };\n          } else {\n            bounds = getBounds(target);\n          }\n\n          var style = getComputedStyle(target);\n\n          var hasBottomScroll = target.scrollWidth > target.clientWidth || [style.overflow, style.overflowX].indexOf('scroll') >= 0 || this.target !== document.body;\n\n          var scrollBottom = 0;\n          if (hasBottomScroll) {\n            scrollBottom = 15;\n          }\n\n          var height = bounds.height - parseFloat(style.borderTopWidth) - parseFloat(style.borderBottomWidth) - scrollBottom;\n\n          var out = {\n            width: 15,\n            height: height * 0.975 * (height / target.scrollHeight),\n            left: bounds.left + bounds.width - parseFloat(style.borderLeftWidth) - 15\n          };\n\n          var fitAdj = 0;\n          if (height < 408 && this.target === document.body) {\n            fitAdj = -0.00011 * Math.pow(height, 2) - 0.00727 * height + 22.58;\n          }\n\n          if (this.target !== document.body) {\n            out.height = Math.max(out.height, 24);\n          }\n\n          var scrollPercentage = this.target.scrollTop / (target.scrollHeight - height);\n          out.top = scrollPercentage * (height - out.height - fitAdj) + bounds.top + parseFloat(style.borderTopWidth);\n\n          if (this.target === document.body) {\n            out.height = Math.max(out.height, 24);\n          }\n\n          return out;\n        }\n      } else {\n        return getBounds(this.target);\n      }\n    }\n  }, {\n    key: 'clearCache',\n    value: function clearCache() {\n      this._cache = {};\n    }\n  }, {\n    key: 'cache',\n    value: function cache(k, getter) {\n      // More than one module will often need the same DOM info, so\n      // we keep a cache which is cleared on each position call\n      if (typeof this._cache === 'undefined') {\n        this._cache = {};\n      }\n\n      if (typeof this._cache[k] === 'undefined') {\n        this._cache[k] = getter.call(this);\n      }\n\n      return this._cache[k];\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      var _this3 = this;\n\n      var pos = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\n      if (!(this.options.addTargetClasses === false)) {\n        addClass(this.target, this.getClass('enabled'));\n      }\n      addClass(this.element, this.getClass('enabled'));\n      this.enabled = true;\n\n      this.scrollParents.forEach(function (parent) {\n        if (parent !== _this3.target.ownerDocument) {\n          parent.addEventListener('scroll', _this3.position);\n        }\n      });\n\n      if (pos) {\n        this.position();\n      }\n    }\n  }, {\n    key: 'disable',\n    value: function disable() {\n      var _this4 = this;\n\n      removeClass(this.target, this.getClass('enabled'));\n      removeClass(this.element, this.getClass('enabled'));\n      this.enabled = false;\n\n      if (typeof this.scrollParents !== 'undefined') {\n        this.scrollParents.forEach(function (parent) {\n          parent.removeEventListener('scroll', _this4.position);\n        });\n      }\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      var _this5 = this;\n\n      this.disable();\n\n      tethers.forEach(function (tether, i) {\n        if (tether === _this5) {\n          tethers.splice(i, 1);\n        }\n      });\n\n      // Remove any elements we were using for convenience from the DOM\n      if (tethers.length === 0) {\n        removeUtilElements();\n      }\n    }\n  }, {\n    key: 'updateAttachClasses',\n    value: function updateAttachClasses(elementAttach, targetAttach) {\n      var _this6 = this;\n\n      elementAttach = elementAttach || this.attachment;\n      targetAttach = targetAttach || this.targetAttachment;\n      var sides = ['left', 'top', 'bottom', 'right', 'middle', 'center'];\n\n      if (typeof this._addAttachClasses !== 'undefined' && this._addAttachClasses.length) {\n        // updateAttachClasses can be called more than once in a position call, so\n        // we need to clean up after ourselves such that when the last defer gets\n        // ran it doesn't add any extra classes from previous calls.\n        this._addAttachClasses.splice(0, this._addAttachClasses.length);\n      }\n\n      if (typeof this._addAttachClasses === 'undefined') {\n        this._addAttachClasses = [];\n      }\n      var add = this._addAttachClasses;\n\n      if (elementAttach.top) {\n        add.push(this.getClass('element-attached') + '-' + elementAttach.top);\n      }\n      if (elementAttach.left) {\n        add.push(this.getClass('element-attached') + '-' + elementAttach.left);\n      }\n      if (targetAttach.top) {\n        add.push(this.getClass('target-attached') + '-' + targetAttach.top);\n      }\n      if (targetAttach.left) {\n        add.push(this.getClass('target-attached') + '-' + targetAttach.left);\n      }\n\n      var all = [];\n      sides.forEach(function (side) {\n        all.push(_this6.getClass('element-attached') + '-' + side);\n        all.push(_this6.getClass('target-attached') + '-' + side);\n      });\n\n      defer(function () {\n        if (!(typeof _this6._addAttachClasses !== 'undefined')) {\n          return;\n        }\n\n        updateClasses(_this6.element, _this6._addAttachClasses, all);\n        if (!(_this6.options.addTargetClasses === false)) {\n          updateClasses(_this6.target, _this6._addAttachClasses, all);\n        }\n\n        delete _this6._addAttachClasses;\n      });\n    }\n  }, {\n    key: 'position',\n    value: function position() {\n      var _this7 = this;\n\n      var flushChanges = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\n      // flushChanges commits the changes immediately, leave true unless you are positioning multiple\n      // tethers (in which case call Tether.Utils.flush yourself when you're done)\n\n      if (!this.enabled) {\n        return;\n      }\n\n      this.clearCache();\n\n      // Turn 'auto' attachments into the appropriate corner or edge\n      var targetAttachment = autoToFixedAttachment(this.targetAttachment, this.attachment);\n\n      this.updateAttachClasses(this.attachment, targetAttachment);\n\n      var elementPos = this.cache('element-bounds', function () {\n        return getBounds(_this7.element);\n      });\n\n      var width = elementPos.width;\n      var height = elementPos.height;\n\n      if (width === 0 && height === 0 && typeof this.lastSize !== 'undefined') {\n        var _lastSize = this.lastSize;\n\n        // We cache the height and width to make it possible to position elements that are\n        // getting hidden.\n        width = _lastSize.width;\n        height = _lastSize.height;\n      } else {\n        this.lastSize = { width: width, height: height };\n      }\n\n      var targetPos = this.cache('target-bounds', function () {\n        return _this7.getTargetBounds();\n      });\n      var targetSize = targetPos;\n\n      // Get an actual px offset from the attachment\n      var offset = offsetToPx(attachmentToOffset(this.attachment), { width: width, height: height });\n      var targetOffset = offsetToPx(attachmentToOffset(targetAttachment), targetSize);\n\n      var manualOffset = offsetToPx(this.offset, { width: width, height: height });\n      var manualTargetOffset = offsetToPx(this.targetOffset, targetSize);\n\n      // Add the manually provided offset\n      offset = addOffset(offset, manualOffset);\n      targetOffset = addOffset(targetOffset, manualTargetOffset);\n\n      // It's now our goal to make (element position + offset) == (target position + target offset)\n      var left = targetPos.left + targetOffset.left - offset.left;\n      var top = targetPos.top + targetOffset.top - offset.top;\n\n      for (var i = 0; i < TetherBase.modules.length; ++i) {\n        var _module2 = TetherBase.modules[i];\n        var ret = _module2.position.call(this, {\n          left: left,\n          top: top,\n          targetAttachment: targetAttachment,\n          targetPos: targetPos,\n          elementPos: elementPos,\n          offset: offset,\n          targetOffset: targetOffset,\n          manualOffset: manualOffset,\n          manualTargetOffset: manualTargetOffset,\n          scrollbarSize: scrollbarSize,\n          attachment: this.attachment\n        });\n\n        if (ret === false) {\n          return false;\n        } else if (typeof ret === 'undefined' || typeof ret !== 'object') {\n          continue;\n        } else {\n          top = ret.top;\n          left = ret.left;\n        }\n      }\n\n      // We describe the position three different ways to give the optimizer\n      // a chance to decide the best possible way to position the element\n      // with the fewest repaints.\n      var next = {\n        // It's position relative to the page (absolute positioning when\n        // the element is a child of the body)\n        page: {\n          top: top,\n          left: left\n        },\n\n        // It's position relative to the viewport (fixed positioning)\n        viewport: {\n          top: top - pageYOffset,\n          bottom: pageYOffset - top - height + innerHeight,\n          left: left - pageXOffset,\n          right: pageXOffset - left - width + innerWidth\n        }\n      };\n\n      var doc = this.target.ownerDocument;\n      var win = doc.defaultView;\n\n      var scrollbarSize = undefined;\n      if (win.innerHeight > doc.documentElement.clientHeight) {\n        scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\n        next.viewport.bottom -= scrollbarSize.height;\n      }\n\n      if (win.innerWidth > doc.documentElement.clientWidth) {\n        scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\n        next.viewport.right -= scrollbarSize.width;\n      }\n\n      if (['', 'static'].indexOf(doc.body.style.position) === -1 || ['', 'static'].indexOf(doc.body.parentElement.style.position) === -1) {\n        // Absolute positioning in the body will be relative to the page, not the 'initial containing block'\n        next.page.bottom = doc.body.scrollHeight - top - height;\n        next.page.right = doc.body.scrollWidth - left - width;\n      }\n\n      if (typeof this.options.optimizations !== 'undefined' && this.options.optimizations.moveElement !== false && !(typeof this.targetModifier !== 'undefined')) {\n        (function () {\n          var offsetParent = _this7.cache('target-offsetparent', function () {\n            return getOffsetParent(_this7.target);\n          });\n          var offsetPosition = _this7.cache('target-offsetparent-bounds', function () {\n            return getBounds(offsetParent);\n          });\n          var offsetParentStyle = getComputedStyle(offsetParent);\n          var offsetParentSize = offsetPosition;\n\n          var offsetBorder = {};\n          ['Top', 'Left', 'Bottom', 'Right'].forEach(function (side) {\n            offsetBorder[side.toLowerCase()] = parseFloat(offsetParentStyle['border' + side + 'Width']);\n          });\n\n          offsetPosition.right = doc.body.scrollWidth - offsetPosition.left - offsetParentSize.width + offsetBorder.right;\n          offsetPosition.bottom = doc.body.scrollHeight - offsetPosition.top - offsetParentSize.height + offsetBorder.bottom;\n\n          if (next.page.top >= offsetPosition.top + offsetBorder.top && next.page.bottom >= offsetPosition.bottom) {\n            if (next.page.left >= offsetPosition.left + offsetBorder.left && next.page.right >= offsetPosition.right) {\n              // We're within the visible part of the target's scroll parent\n              var scrollTop = offsetParent.scrollTop;\n              var scrollLeft = offsetParent.scrollLeft;\n\n              // It's position relative to the target's offset parent (absolute positioning when\n              // the element is moved to be a child of the target's offset parent).\n              next.offset = {\n                top: next.page.top - offsetPosition.top + scrollTop - offsetBorder.top,\n                left: next.page.left - offsetPosition.left + scrollLeft - offsetBorder.left\n              };\n            }\n          }\n        })();\n      }\n\n      // We could also travel up the DOM and try each containing context, rather than only\n      // looking at the body, but we're gonna get diminishing returns.\n\n      this.move(next);\n\n      this.history.unshift(next);\n\n      if (this.history.length > 3) {\n        this.history.pop();\n      }\n\n      if (flushChanges) {\n        flush();\n      }\n\n      return true;\n    }\n\n    // THE ISSUE\n  }, {\n    key: 'move',\n    value: function move(pos) {\n      var _this8 = this;\n\n      if (!(typeof this.element.parentNode !== 'undefined')) {\n        return;\n      }\n\n      var same = {};\n\n      for (var type in pos) {\n        same[type] = {};\n\n        for (var key in pos[type]) {\n          var found = false;\n\n          for (var i = 0; i < this.history.length; ++i) {\n            var point = this.history[i];\n            if (typeof point[type] !== 'undefined' && !within(point[type][key], pos[type][key])) {\n              found = true;\n              break;\n            }\n          }\n\n          if (!found) {\n            same[type][key] = true;\n          }\n        }\n      }\n\n      var css = { top: '', left: '', right: '', bottom: '' };\n\n      var transcribe = function transcribe(_same, _pos) {\n        var hasOptimizations = typeof _this8.options.optimizations !== 'undefined';\n        var gpu = hasOptimizations ? _this8.options.optimizations.gpu : null;\n        if (gpu !== false) {\n          var yPos = undefined,\n              xPos = undefined;\n          if (_same.top) {\n            css.top = 0;\n            yPos = _pos.top;\n          } else {\n            css.bottom = 0;\n            yPos = -_pos.bottom;\n          }\n\n          if (_same.left) {\n            css.left = 0;\n            xPos = _pos.left;\n          } else {\n            css.right = 0;\n            xPos = -_pos.right;\n          }\n\n          if (window.matchMedia) {\n            // HubSpot/tether#207\n            var retina = window.matchMedia('only screen and (min-resolution: 1.3dppx)').matches || window.matchMedia('only screen and (-webkit-min-device-pixel-ratio: 1.3)').matches;\n            if (!retina) {\n              xPos = Math.round(xPos);\n              yPos = Math.round(yPos);\n            }\n          }\n\n          css[transformKey] = 'translateX(' + xPos + 'px) translateY(' + yPos + 'px)';\n\n          if (transformKey !== 'msTransform') {\n            // The Z transform will keep this in the GPU (faster, and prevents artifacts),\n            // but IE9 doesn't support 3d transforms and will choke.\n            css[transformKey] += \" translateZ(0)\";\n          }\n        } else {\n          if (_same.top) {\n            css.top = _pos.top + 'px';\n          } else {\n            css.bottom = _pos.bottom + 'px';\n          }\n\n          if (_same.left) {\n            css.left = _pos.left + 'px';\n          } else {\n            css.right = _pos.right + 'px';\n          }\n        }\n      };\n\n      var moved = false;\n      if ((same.page.top || same.page.bottom) && (same.page.left || same.page.right)) {\n        css.position = 'absolute';\n        transcribe(same.page, pos.page);\n      } else if ((same.viewport.top || same.viewport.bottom) && (same.viewport.left || same.viewport.right)) {\n        css.position = 'fixed';\n        transcribe(same.viewport, pos.viewport);\n      } else if (typeof same.offset !== 'undefined' && same.offset.top && same.offset.left) {\n        (function () {\n          css.position = 'absolute';\n          var offsetParent = _this8.cache('target-offsetparent', function () {\n            return getOffsetParent(_this8.target);\n          });\n\n          if (getOffsetParent(_this8.element) !== offsetParent) {\n            defer(function () {\n              _this8.element.parentNode.removeChild(_this8.element);\n              offsetParent.appendChild(_this8.element);\n            });\n          }\n\n          transcribe(same.offset, pos.offset);\n          moved = true;\n        })();\n      } else {\n        css.position = 'absolute';\n        transcribe({ top: true, left: true }, pos.page);\n      }\n\n      if (!moved) {\n        if (this.options.bodyElement) {\n          this.options.bodyElement.appendChild(this.element);\n        } else {\n          var offsetParentIsBody = true;\n          var currentNode = this.element.parentNode;\n          while (currentNode && currentNode.nodeType === 1 && currentNode.tagName !== 'BODY') {\n            if (getComputedStyle(currentNode).position !== 'static') {\n              offsetParentIsBody = false;\n              break;\n            }\n\n            currentNode = currentNode.parentNode;\n          }\n\n          if (!offsetParentIsBody) {\n            this.element.parentNode.removeChild(this.element);\n            this.element.ownerDocument.body.appendChild(this.element);\n          }\n        }\n      }\n\n      // Any css change will trigger a repaint, so let's avoid one if nothing changed\n      var writeCSS = {};\n      var write = false;\n      for (var key in css) {\n        var val = css[key];\n        var elVal = this.element.style[key];\n\n        if (elVal !== val) {\n          write = true;\n          writeCSS[key] = val;\n        }\n      }\n\n      if (write) {\n        defer(function () {\n          extend(_this8.element.style, writeCSS);\n          _this8.trigger('repositioned');\n        });\n      }\n    }\n  }]);\n\n  return TetherClass;\n})(Evented);\n\nTetherClass.modules = [];\n\nTetherBase.position = position;\n\nvar Tether = extend(TetherClass, TetherBase);\n/* globals TetherBase */\n\n'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _TetherBase$Utils = TetherBase.Utils;\nvar getBounds = _TetherBase$Utils.getBounds;\nvar extend = _TetherBase$Utils.extend;\nvar updateClasses = _TetherBase$Utils.updateClasses;\nvar defer = _TetherBase$Utils.defer;\n\nvar BOUNDS_FORMAT = ['left', 'top', 'right', 'bottom'];\n\nfunction getBoundingRect(tether, to) {\n  if (to === 'scrollParent') {\n    to = tether.scrollParents[0];\n  } else if (to === 'window') {\n    to = [pageXOffset, pageYOffset, innerWidth + pageXOffset, innerHeight + pageYOffset];\n  }\n\n  if (to === document) {\n    to = to.documentElement;\n  }\n\n  if (typeof to.nodeType !== 'undefined') {\n    (function () {\n      var node = to;\n      var size = getBounds(to);\n      var pos = size;\n      var style = getComputedStyle(to);\n\n      to = [pos.left, pos.top, size.width + pos.left, size.height + pos.top];\n\n      // Account any parent Frames scroll offset\n      if (node.ownerDocument !== document) {\n        var win = node.ownerDocument.defaultView;\n        to[0] += win.pageXOffset;\n        to[1] += win.pageYOffset;\n        to[2] += win.pageXOffset;\n        to[3] += win.pageYOffset;\n      }\n\n      BOUNDS_FORMAT.forEach(function (side, i) {\n        side = side[0].toUpperCase() + side.substr(1);\n        if (side === 'Top' || side === 'Left') {\n          to[i] += parseFloat(style['border' + side + 'Width']);\n        } else {\n          to[i] -= parseFloat(style['border' + side + 'Width']);\n        }\n      });\n    })();\n  }\n\n  return to;\n}\n\nTetherBase.modules.push({\n  position: function position(_ref) {\n    var _this = this;\n\n    var top = _ref.top;\n    var left = _ref.left;\n    var targetAttachment = _ref.targetAttachment;\n\n    if (!this.options.constraints) {\n      return true;\n    }\n\n    var _cache = this.cache('element-bounds', function () {\n      return getBounds(_this.element);\n    });\n\n    var height = _cache.height;\n    var width = _cache.width;\n\n    if (width === 0 && height === 0 && typeof this.lastSize !== 'undefined') {\n      var _lastSize = this.lastSize;\n\n      // Handle the item getting hidden as a result of our positioning without glitching\n      // the classes in and out\n      width = _lastSize.width;\n      height = _lastSize.height;\n    }\n\n    var targetSize = this.cache('target-bounds', function () {\n      return _this.getTargetBounds();\n    });\n\n    var targetHeight = targetSize.height;\n    var targetWidth = targetSize.width;\n\n    var allClasses = [this.getClass('pinned'), this.getClass('out-of-bounds')];\n\n    this.options.constraints.forEach(function (constraint) {\n      var outOfBoundsClass = constraint.outOfBoundsClass;\n      var pinnedClass = constraint.pinnedClass;\n\n      if (outOfBoundsClass) {\n        allClasses.push(outOfBoundsClass);\n      }\n      if (pinnedClass) {\n        allClasses.push(pinnedClass);\n      }\n    });\n\n    allClasses.forEach(function (cls) {\n      ['left', 'top', 'right', 'bottom'].forEach(function (side) {\n        allClasses.push(cls + '-' + side);\n      });\n    });\n\n    var addClasses = [];\n\n    var tAttachment = extend({}, targetAttachment);\n    var eAttachment = extend({}, this.attachment);\n\n    this.options.constraints.forEach(function (constraint) {\n      var to = constraint.to;\n      var attachment = constraint.attachment;\n      var pin = constraint.pin;\n\n      if (typeof attachment === 'undefined') {\n        attachment = '';\n      }\n\n      var changeAttachX = undefined,\n          changeAttachY = undefined;\n      if (attachment.indexOf(' ') >= 0) {\n        var _attachment$split = attachment.split(' ');\n\n        var _attachment$split2 = _slicedToArray(_attachment$split, 2);\n\n        changeAttachY = _attachment$split2[0];\n        changeAttachX = _attachment$split2[1];\n      } else {\n        changeAttachX = changeAttachY = attachment;\n      }\n\n      var bounds = getBoundingRect(_this, to);\n\n      if (changeAttachY === 'target' || changeAttachY === 'both') {\n        if (top < bounds[1] && tAttachment.top === 'top') {\n          top += targetHeight;\n          tAttachment.top = 'bottom';\n        }\n\n        if (top + height > bounds[3] && tAttachment.top === 'bottom') {\n          top -= targetHeight;\n          tAttachment.top = 'top';\n        }\n      }\n\n      if (changeAttachY === 'together') {\n        if (tAttachment.top === 'top') {\n          if (eAttachment.top === 'bottom' && top < bounds[1]) {\n            top += targetHeight;\n            tAttachment.top = 'bottom';\n\n            top += height;\n            eAttachment.top = 'top';\n          } else if (eAttachment.top === 'top' && top + height > bounds[3] && top - (height - targetHeight) >= bounds[1]) {\n            top -= height - targetHeight;\n            tAttachment.top = 'bottom';\n\n            eAttachment.top = 'bottom';\n          }\n        }\n\n        if (tAttachment.top === 'bottom') {\n          if (eAttachment.top === 'top' && top + height > bounds[3]) {\n            top -= targetHeight;\n            tAttachment.top = 'top';\n\n            top -= height;\n            eAttachment.top = 'bottom';\n          } else if (eAttachment.top === 'bottom' && top < bounds[1] && top + (height * 2 - targetHeight) <= bounds[3]) {\n            top += height - targetHeight;\n            tAttachment.top = 'top';\n\n            eAttachment.top = 'top';\n          }\n        }\n\n        if (tAttachment.top === 'middle') {\n          if (top + height > bounds[3] && eAttachment.top === 'top') {\n            top -= height;\n            eAttachment.top = 'bottom';\n          } else if (top < bounds[1] && eAttachment.top === 'bottom') {\n            top += height;\n            eAttachment.top = 'top';\n          }\n        }\n      }\n\n      if (changeAttachX === 'target' || changeAttachX === 'both') {\n        if (left < bounds[0] && tAttachment.left === 'left') {\n          left += targetWidth;\n          tAttachment.left = 'right';\n        }\n\n        if (left + width > bounds[2] && tAttachment.left === 'right') {\n          left -= targetWidth;\n          tAttachment.left = 'left';\n        }\n      }\n\n      if (changeAttachX === 'together') {\n        if (left < bounds[0] && tAttachment.left === 'left') {\n          if (eAttachment.left === 'right') {\n            left += targetWidth;\n            tAttachment.left = 'right';\n\n            left += width;\n            eAttachment.left = 'left';\n          } else if (eAttachment.left === 'left') {\n            left += targetWidth;\n            tAttachment.left = 'right';\n\n            left -= width;\n            eAttachment.left = 'right';\n          }\n        } else if (left + width > bounds[2] && tAttachment.left === 'right') {\n          if (eAttachment.left === 'left') {\n            left -= targetWidth;\n            tAttachment.left = 'left';\n\n            left -= width;\n            eAttachment.left = 'right';\n          } else if (eAttachment.left === 'right') {\n            left -= targetWidth;\n            tAttachment.left = 'left';\n\n            left += width;\n            eAttachment.left = 'left';\n          }\n        } else if (tAttachment.left === 'center') {\n          if (left + width > bounds[2] && eAttachment.left === 'left') {\n            left -= width;\n            eAttachment.left = 'right';\n          } else if (left < bounds[0] && eAttachment.left === 'right') {\n            left += width;\n            eAttachment.left = 'left';\n          }\n        }\n      }\n\n      if (changeAttachY === 'element' || changeAttachY === 'both') {\n        if (top < bounds[1] && eAttachment.top === 'bottom') {\n          top += height;\n          eAttachment.top = 'top';\n        }\n\n        if (top + height > bounds[3] && eAttachment.top === 'top') {\n          top -= height;\n          eAttachment.top = 'bottom';\n        }\n      }\n\n      if (changeAttachX === 'element' || changeAttachX === 'both') {\n        if (left < bounds[0]) {\n          if (eAttachment.left === 'right') {\n            left += width;\n            eAttachment.left = 'left';\n          } else if (eAttachment.left === 'center') {\n            left += width / 2;\n            eAttachment.left = 'left';\n          }\n        }\n\n        if (left + width > bounds[2]) {\n          if (eAttachment.left === 'left') {\n            left -= width;\n            eAttachment.left = 'right';\n          } else if (eAttachment.left === 'center') {\n            left -= width / 2;\n            eAttachment.left = 'right';\n          }\n        }\n      }\n\n      if (typeof pin === 'string') {\n        pin = pin.split(',').map(function (p) {\n          return p.trim();\n        });\n      } else if (pin === true) {\n        pin = ['top', 'left', 'right', 'bottom'];\n      }\n\n      pin = pin || [];\n\n      var pinned = [];\n      var oob = [];\n\n      if (top < bounds[1]) {\n        if (pin.indexOf('top') >= 0) {\n          top = bounds[1];\n          pinned.push('top');\n        } else {\n          oob.push('top');\n        }\n      }\n\n      if (top + height > bounds[3]) {\n        if (pin.indexOf('bottom') >= 0) {\n          top = bounds[3] - height;\n          pinned.push('bottom');\n        } else {\n          oob.push('bottom');\n        }\n      }\n\n      if (left < bounds[0]) {\n        if (pin.indexOf('left') >= 0) {\n          left = bounds[0];\n          pinned.push('left');\n        } else {\n          oob.push('left');\n        }\n      }\n\n      if (left + width > bounds[2]) {\n        if (pin.indexOf('right') >= 0) {\n          left = bounds[2] - width;\n          pinned.push('right');\n        } else {\n          oob.push('right');\n        }\n      }\n\n      if (pinned.length) {\n        (function () {\n          var pinnedClass = undefined;\n          if (typeof _this.options.pinnedClass !== 'undefined') {\n            pinnedClass = _this.options.pinnedClass;\n          } else {\n            pinnedClass = _this.getClass('pinned');\n          }\n\n          addClasses.push(pinnedClass);\n          pinned.forEach(function (side) {\n            addClasses.push(pinnedClass + '-' + side);\n          });\n        })();\n      }\n\n      if (oob.length) {\n        (function () {\n          var oobClass = undefined;\n          if (typeof _this.options.outOfBoundsClass !== 'undefined') {\n            oobClass = _this.options.outOfBoundsClass;\n          } else {\n            oobClass = _this.getClass('out-of-bounds');\n          }\n\n          addClasses.push(oobClass);\n          oob.forEach(function (side) {\n            addClasses.push(oobClass + '-' + side);\n          });\n        })();\n      }\n\n      if (pinned.indexOf('left') >= 0 || pinned.indexOf('right') >= 0) {\n        eAttachment.left = tAttachment.left = false;\n      }\n      if (pinned.indexOf('top') >= 0 || pinned.indexOf('bottom') >= 0) {\n        eAttachment.top = tAttachment.top = false;\n      }\n\n      if (tAttachment.top !== targetAttachment.top || tAttachment.left !== targetAttachment.left || eAttachment.top !== _this.attachment.top || eAttachment.left !== _this.attachment.left) {\n        _this.updateAttachClasses(eAttachment, tAttachment);\n        _this.trigger('update', {\n          attachment: eAttachment,\n          targetAttachment: tAttachment\n        });\n      }\n    });\n\n    defer(function () {\n      if (!(_this.options.addTargetClasses === false)) {\n        updateClasses(_this.target, addClasses, allClasses);\n      }\n      updateClasses(_this.element, addClasses, allClasses);\n    });\n\n    return { top: top, left: left };\n  }\n});\n/* globals TetherBase */\n\n'use strict';\n\nvar _TetherBase$Utils = TetherBase.Utils;\nvar getBounds = _TetherBase$Utils.getBounds;\nvar updateClasses = _TetherBase$Utils.updateClasses;\nvar defer = _TetherBase$Utils.defer;\n\nTetherBase.modules.push({\n  position: function position(_ref) {\n    var _this = this;\n\n    var top = _ref.top;\n    var left = _ref.left;\n\n    var _cache = this.cache('element-bounds', function () {\n      return getBounds(_this.element);\n    });\n\n    var height = _cache.height;\n    var width = _cache.width;\n\n    var targetPos = this.getTargetBounds();\n\n    var bottom = top + height;\n    var right = left + width;\n\n    var abutted = [];\n    if (top <= targetPos.bottom && bottom >= targetPos.top) {\n      ['left', 'right'].forEach(function (side) {\n        var targetPosSide = targetPos[side];\n        if (targetPosSide === left || targetPosSide === right) {\n          abutted.push(side);\n        }\n      });\n    }\n\n    if (left <= targetPos.right && right >= targetPos.left) {\n      ['top', 'bottom'].forEach(function (side) {\n        var targetPosSide = targetPos[side];\n        if (targetPosSide === top || targetPosSide === bottom) {\n          abutted.push(side);\n        }\n      });\n    }\n\n    var allClasses = [];\n    var addClasses = [];\n\n    var sides = ['left', 'top', 'right', 'bottom'];\n    allClasses.push(this.getClass('abutted'));\n    sides.forEach(function (side) {\n      allClasses.push(_this.getClass('abutted') + '-' + side);\n    });\n\n    if (abutted.length) {\n      addClasses.push(this.getClass('abutted'));\n    }\n\n    abutted.forEach(function (side) {\n      addClasses.push(_this.getClass('abutted') + '-' + side);\n    });\n\n    defer(function () {\n      if (!(_this.options.addTargetClasses === false)) {\n        updateClasses(_this.target, addClasses, allClasses);\n      }\n      updateClasses(_this.element, addClasses, allClasses);\n    });\n\n    return true;\n  }\n});\n/* globals TetherBase */\n\n'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nTetherBase.modules.push({\n  position: function position(_ref) {\n    var top = _ref.top;\n    var left = _ref.left;\n\n    if (!this.options.shift) {\n      return;\n    }\n\n    var shift = this.options.shift;\n    if (typeof this.options.shift === 'function') {\n      shift = this.options.shift.call(this, { top: top, left: left });\n    }\n\n    var shiftTop = undefined,\n        shiftLeft = undefined;\n    if (typeof shift === 'string') {\n      shift = shift.split(' ');\n      shift[1] = shift[1] || shift[0];\n\n      var _shift = shift;\n\n      var _shift2 = _slicedToArray(_shift, 2);\n\n      shiftTop = _shift2[0];\n      shiftLeft = _shift2[1];\n\n      shiftTop = parseFloat(shiftTop, 10);\n      shiftLeft = parseFloat(shiftLeft, 10);\n    } else {\n      shiftTop = shift.top;\n      shiftLeft = shift.left;\n    }\n\n    top += shiftTop;\n    left += shiftLeft;\n\n    return { top: top, left: left };\n  }\n});\nreturn Tether;\n\n}));\n"},asxh:function(e,n,t){t("P+fo")(t("87JJ"))},"dSD+":function(e,n,t){t("P+fo")(t("HnqZ"))},fwVZ:function(e,n,t){t("P+fo")(t("P/AD"))},l9iJ:function(e,n,t){t("P+fo")(t("Bdf5"))},vYNv:function(e,n){e.exports='!function(a){var b=new Array,c=new Array;a.fn.doAutosize=function(b){var c=a(this).data("minwidth"),d=a(this).data("maxwidth"),e="",f=a(this),g=a("#"+a(this).data("tester_id"));if(e!==(e=f.val())){var h=e.replace(/&/g,"&amp;").replace(/\\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");g.html(h);var i=g.width(),j=i+b.comfortZone>=c?i+b.comfortZone:c,k=f.width(),l=k>j&&j>=c||j>c&&d>j;l&&f.width(j)}},a.fn.resetAutosize=function(b){var c=a(this).data("minwidth")||b.minInputWidth||a(this).width(),d=a(this).data("maxwidth")||b.maxInputWidth||a(this).closest(".tagsinput").width()-b.inputPadding,e=a(this),f=a("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:e.css("fontSize"),fontFamily:e.css("fontFamily"),fontWeight:e.css("fontWeight"),letterSpacing:e.css("letterSpacing"),whiteSpace:"nowrap"}),g=a(this).attr("id")+"_autosize_tester";!a("#"+g).length>0&&(f.attr("id",g),f.appendTo("body")),e.data("minwidth",c),e.data("maxwidth",d),e.data("tester_id",g),e.css("width",c)},a.fn.addTag=function(d,e){return e=jQuery.extend({focus:!1,callback:!0},e),this.each(function(){var f=a(this).attr("id"),g=a(this).val().split(b[f]);if(""==g[0]&&(g=new Array),d=jQuery.trim(d),e.unique){var h=a(this).tagExist(d);1==h&&a("#"+f+"_tag").addClass("not_valid")}else var h=!1;if(""!=d&&1!=h){if(a("<span>").addClass("tag").append(a("<span>").text(d).append("&nbsp;&nbsp;"),a("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return a("#"+f).removeTag(escape(d))})).insertBefore("#"+f+"_addTag"),g.push(d),a("#"+f+"_tag").val(""),e.focus?a("#"+f+"_tag").focus():a("#"+f+"_tag").blur(),a.fn.tagsInput.updateTagsField(this,g),e.callback&&c[f]&&c[f].onAddTag){var i=c[f].onAddTag;i.call(this,d)}if(c[f]&&c[f].onChange){var j=g.length,i=c[f].onChange;i.call(this,a(this),g[j-1])}}}),!1},a.fn.removeTag=function(d){return d=unescape(d),this.each(function(){var e=a(this).attr("id"),f=a(this).val().split(b[e]);for(a("#"+e+"_tagsinput .tag").remove(),str="",i=0;i<f.length;i++)f[i]!=d&&(str=str+b[e]+f[i]);if(a.fn.tagsInput.importTags(this,str),c[e]&&c[e].onRemoveTag){var g=c[e].onRemoveTag;g.call(this,d)}}),!1},a.fn.tagExist=function(c){var d=a(this).attr("id"),e=a(this).val().split(b[d]);return jQuery.inArray(c,e)>=0},a.fn.importTags=function(b){var c=a(this).attr("id");a("#"+c+"_tagsinput .tag").remove(),a.fn.tagsInput.importTags(this,b)},a.fn.tagsInput=function(e){var f=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},e),g=0;return this.each(function(){if("undefined"==typeof a(this).attr("data-tagsinput-init")){a(this).attr("data-tagsinput-init",!0),f.hide&&a(this).hide();var e=a(this).attr("id");(!e||b[a(this).attr("id")])&&(e=a(this).attr("id","tags"+(new Date).getTime()+g++).attr("id"));var h=jQuery.extend({pid:e,real_input:"#"+e,holder:"#"+e+"_tagsinput",input_wrapper:"#"+e+"_addTag",fake_input:"#"+e+"_tag"},f);b[e]=h.delimiter,(f.onAddTag||f.onRemoveTag||f.onChange)&&(c[e]=new Array,c[e].onAddTag=f.onAddTag,c[e].onRemoveTag=f.onRemoveTag,c[e].onChange=f.onChange);var i=\'<div id="\'+e+\'_tagsinput" class="tagsinput"><div id="\'+e+\'_addTag">\';if(f.interactive&&(i=i+\'<input id="\'+e+\'_tag" value="" data-default="\'+f.defaultText+\'" />\'),i+=\'</div><div class="tags_clear"></div></div>\',a(i).insertAfter(this),a(h.holder).css("width",f.width),a(h.holder).css("min-height",f.height),a(h.holder).css("height",f.height),""!=a(h.real_input).val()&&a.fn.tagsInput.importTags(a(h.real_input),a(h.real_input).val()),f.interactive){if(a(h.fake_input).val(a(h.fake_input).attr("data-default")),a(h.fake_input).css("color",f.placeholderColor),a(h.fake_input).resetAutosize(f),a(h.holder).bind("click",h,function(b){a(b.data.fake_input).focus()}),a(h.fake_input).bind("focus",h,function(b){a(b.data.fake_input).val()==a(b.data.fake_input).attr("data-default")&&a(b.data.fake_input).val(""),a(b.data.fake_input).css("color","#000000")}),void 0!=f.autocomplete_url){autocomplete_options={source:f.autocomplete_url};for(attrname in f.autocomplete)autocomplete_options[attrname]=f.autocomplete[attrname];void 0!==jQuery.Autocompleter?(a(h.fake_input).autocomplete(f.autocomplete_url,f.autocomplete),a(h.fake_input).bind("result",h,function(b,c,d){c&&a("#"+e).addTag(c[0]+"",{focus:!0,unique:f.unique})})):void 0!==jQuery.ui.autocomplete&&(a(h.fake_input).autocomplete(autocomplete_options),a(h.fake_input).bind("autocompleteselect",h,function(b,c){return a(b.data.real_input).addTag(c.item.value,{focus:!0,unique:f.unique}),!1}))}else a(h.fake_input).bind("blur",h,function(b){var c=a(this).attr("data-default");return""!=a(b.data.fake_input).val()&&a(b.data.fake_input).val()!=c?b.data.minChars<=a(b.data.fake_input).val().length&&(!b.data.maxChars||b.data.maxChars>=a(b.data.fake_input).val().length)&&a(b.data.real_input).addTag(a(b.data.fake_input).val(),{focus:!0,unique:f.unique}):(a(b.data.fake_input).val(a(b.data.fake_input).attr("data-default")),a(b.data.fake_input).css("color",f.placeholderColor)),!1});a(h.fake_input).bind("keypress",h,function(b){return d(b)?(b.preventDefault(),b.data.minChars<=a(b.data.fake_input).val().length&&(!b.data.maxChars||b.data.maxChars>=a(b.data.fake_input).val().length)&&a(b.data.real_input).addTag(a(b.data.fake_input).val(),{focus:!0,unique:f.unique}),a(b.data.fake_input).resetAutosize(f),!1):void(b.data.autosize&&a(b.data.fake_input).doAutosize(f))}),h.removeWithBackspace&&a(h.fake_input).bind("keydown",function(b){if(8==b.keyCode&&""==a(this).val()){b.preventDefault();var c=a(this).closest(".tagsinput").find(".tag:last").text(),d=a(this).attr("id").replace(/_tag$/,"");c=c.replace(/[\\s]+x$/,""),a("#"+d).removeTag(escape(c)),a(this).trigger("focus")}}),a(h.fake_input).blur(),h.unique&&a(h.fake_input).keydown(function(b){(8==b.keyCode||String.fromCharCode(b.which).match(/\\w+|[áéíóúÁÉÍÓÚñÑ,/]+/))&&a(this).removeClass("not_valid")})}}}),this},a.fn.tagsInput.updateTagsField=function(c,d){var e=a(c).attr("id");a(c).val(d.join(b[e]))},a.fn.tagsInput.importTags=function(d,e){a(d).val("");var f=a(d).attr("id"),g=e.split(b[f]);for(i=0;i<g.length;i++)a(d).addTag(g[i],{focus:!1,callback:!1});if(c[f]&&c[f].onChange){var h=c[f].onChange;h.call(d,d,g[i])}};var d=function(b){var c=!1;return 13==b.which?!0:("string"==typeof b.data.delimiter?b.which==b.data.delimiter.charCodeAt(0)&&(c=!0):a.each(b.data.delimiter,function(a,d){b.which==d.charCodeAt(0)&&(c=!0)}),c)}}(jQuery);'},"yx+d":function(e,n,t){t("P+fo")(t("3GIF"))}},[4]);